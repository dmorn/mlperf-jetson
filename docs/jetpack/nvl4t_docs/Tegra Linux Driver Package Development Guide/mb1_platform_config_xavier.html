<!DOCTYPE html ><html xml:lang="en" lang="en" data-highlight-require-whitespace="false" xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html;charset=utf-8" /><meta http-equiv="Content-Style-Type" content="text/css" /><meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta http-equiv="X-UA-Compatible" content="IE=edge" /><!-- NVIDIA customization --><title>NVIDIA Jetson Linux Driver Package Software Features : Bootloader | NVIDIA Docs </title><link rel="Prev" href="mb1_platform_config.html" title="Previous" /><link rel="Next" href="mb1_platform_config_tx2.html" title="Next" /><link rel="StyleSheet" href="../css/font-awesome/css/font-awesome.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/mb1_platform_config_xavier.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/skin.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/social.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/print.css" type="text/css" media="print" /><noscript><div id="noscript_padding"></div></noscript></head><body id="pQrLTv8bCD1Sy2_002flMCHRXCQ" class="ww_skin_page_body" style="visibility: hidden;"><input type="hidden" id="page_onload_url" value="../index.html#page/Tegra%20Linux%20Driver%20Package%20Development%20Guide/mb1_platform_config_xavier.html"></input><span id="dropdown_ids" style="display:none;"></span><div id="ww_content_container"><header id="wwconnect_header"><div class="ww_skin_page_toolbar"><div id="dropdown_button_container" class="dropdown_container dropdown_button_container_disabled"><a id="show_hide_all" class="ww_skin ww_behavior_dropdown_toggle ww_skin_dropdown_toggle" title="Page DropDown Toggle" href="#"><i class="fa"></i></a><span class="ww_skin_page_toolbar_divider">&nbsp;</span></div><a class="ww_behavior_print ww_skin ww_skin_print" title="Print" href="#"><i class="fa"></i></a></div><!-- was this helpful button --><!--                         --></header><div id="page_content_container" style="background-attachment: scroll; background-image: url(&quot;watermark.png&quot;); background-position: center center; background-repeat: no-repeat; margin-left: 0pt; margin-right: 10pt; padding-bottom: 0px; padding-left: 0px; padding-right: 0px; padding-top: 0px"><div id="page_content"><H1 id="wwpID0E0M50HA" class="Heading_3_Top">Jetson Xavier NX and Jetson AGX Xavier Series MB1 Platform Configuration</H1><div class="WebWorks_MiniTOC"><div class="WebWorks_MiniTOC_Heading">&nbsp;</div><dl class="WebWorks_MiniTOC_List"><dd><div class="WebWorks_MiniTOC_Entry"><a class="WebWorks_MiniTOC_Link" href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/mb1_platform_config_xavier.html#wwpID0E0H50HA">About MB1 BCT</a></div></dd><dd><div class="WebWorks_MiniTOC_Entry"><a class="WebWorks_MiniTOC_Link" href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/mb1_platform_config_xavier.html#wwpID0E0140HA">Pinmux and GPIO Configuration</a></div></dd><dd><div class="WebWorks_MiniTOC_Entry"><a class="WebWorks_MiniTOC_Link" href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/mb1_platform_config_xavier.html#wwpID0E0630HA">Common Prod Configuration</a></div></dd><dd><div class="WebWorks_MiniTOC_Entry"><a class="WebWorks_MiniTOC_Link" href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/mb1_platform_config_xavier.html#wwpID0E0I30HA">Controller Prod Configuration</a></div></dd><dd><div class="WebWorks_MiniTOC_Entry"><a class="WebWorks_MiniTOC_Link" href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/mb1_platform_config_xavier.html#wwpID0E0K20HA">Pad Voltage Configuration</a></div></dd><dd><div class="WebWorks_MiniTOC_Entry"><a class="WebWorks_MiniTOC_Link" href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/mb1_platform_config_xavier.html#wwpID0E0210HA">PMIC Configuration</a></div></dd><dd><div class="WebWorks_MiniTOC_Entry"><a class="WebWorks_MiniTOC_Link" href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/mb1_platform_config_xavier.html#wwpID0E0NR0HA">Security Configuration</a></div></dd><dd><div class="WebWorks_MiniTOC_Entry"><a class="WebWorks_MiniTOC_Link" href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/mb1_platform_config_xavier.html#wwpID0E0YQ0HA">GPIO Interrupt Mapping Configuration</a></div></dd><dd><div class="WebWorks_MiniTOC_Entry"><a class="WebWorks_MiniTOC_Link" href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/mb1_platform_config_xavier.html#wwpID0E0JQ0HA">Storage Device Configuration</a></div></dd><dd><div class="WebWorks_MiniTOC_Entry"><a class="WebWorks_MiniTOC_Link" href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/mb1_platform_config_xavier.html#wwpID0E0WM0HA">UPHY Lane Configuration</a></div></dd><dd><div class="WebWorks_MiniTOC_Entry"><a class="WebWorks_MiniTOC_Link" href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/mb1_platform_config_xavier.html#wwpID0E0FM0HA">OEM-FW Ratchet Configuration</a></div></dd><dd><div class="WebWorks_MiniTOC_Entry"><a class="WebWorks_MiniTOC_Link" href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/mb1_platform_config_xavier.html#wwpID0E0UL0HA">BootROM Reset PMIC Configuration</a></div></dd><dd><div class="WebWorks_MiniTOC_Entry"><a class="WebWorks_MiniTOC_Link" href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/mb1_platform_config_xavier.html#wwpID0E0NJ0HA">Miscellaneous Configurations</a></div></dd></dl></div><div id="wwpID0E0L50HA" class="Body_Text_Indent"><span class="Strong">Applies to</span>: NVIDIA Jetson Xavier NX and Jetson AGX Xavier series devices only.</div><div id="wwpID0E0K50HA" class="Body_Text">In this topic the NVIDIA<span style="vertical-align: super">®</span> Jetson Xavier™ NX and Jetson AGX Xavier™ series devices are collectively described as “Jetson Xavier devices.” The term “Jetson Xavier device” should be understood to refer to these two types of devices <span class="Emphasis">only</span>.</div><div id="wwpID0E0J50HA" class="Body_Text">In the boot sequence for Jetson Xavier devices, both MB1 and MB2 use the MB1 BCT to configure platform-specific static settings. MB1 executes before any other CPUs are enabled; MB2 executes immediately after MB1. Both are owned by NVIDIA and signed by NVIDIA and the OEM.</div><div id="wwpID0E0I50HA" class="Body_Text">For more information, see <span class="Hyperlink"><a href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/bootflow_jetson_xavier.html#" title="Jetson Xavier NX and Jetson AGX Xavier Series Boot Flow">Jetson Xavier NX and Jetson AGX Xavier Boot Flow</a></span>.</div><H4 id="wwpID0E0H50HA" class="Heading_4">About MB1 BCT</H4><div id="wwpID0E0G50HA" class="Body_Text">MB1 BCT specifies platform-specific data. When TegraFlash is invoked to flash a platform, it calls the <span class="Code_Char">tegrabct_v2</span> tool to create the MB1 BCT. It uses the following data:</div><div id="wwpID0E0F50HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Platform configuration files</div><div id="wwpID0E0E50HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">tegrabl_mb1_bct.h</span> header file</div><div id="wwpID0E0D50HA" class="Body_Text">The BCT required by this stage is signed by the OEM. The MB1 stage offers to perform platform-specific initialization. It also sets up the secure control register (SCR).</div><div id="wwpID0E0C50HA" class="Body_Text">Platform-specific configuration files specify:</div><div id="wwpID0E0B50HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Pinmux and GPIOs configuration</div><div id="wwpID0E0A50HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Prod setting</div><div id="wwpID0E0640HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Pad voltage setting</div><div id="wwpID0E0540HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>PMIC setting</div><div id="wwpID0E0440HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Secure register configuration</div><div id="wwpID0E0340HA" class="List_Continue">These configuration files are at: </div><div id="wwpID0E0240HA" class="Code"><span style="color: #000000">Linux_for_Tegra/bootloader/t186ref/BCT/</span></div><H4 id="wwpID0E0140HA" class="Heading_4">Pinmux and GPIO Configuration</H4><div id="wwpID0E0Z40HA" class="Body_Text">The Jetson Xavier devices’ pinmux configuration file provides pinmux and GPIO configuration information. The typical format for this data is register address and data, as a pair. MB1 only allows writes to the pinmux and GPIO address range, from this table.</div><div id="wwpID0E0Y40HA" class="Body_Text">The pinmux configuration file is at:</div><div id="wwpID0E0X40HA" class="Code"><span style="color: #000000">Linux_for_Tegra/bootloader/t186ref/BCT/tegra194-mb1-bct-pinmux-gpio-P2972&lt;board&gt;-&lt;revision&gt;.cfg</span></div><div id="wwpID0E0W40HA" class="Body_Text">Where:</div><div id="wwpID0E0V40HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">&lt;board&gt;</span> is the device’s board name: <span class="Code_Char">p3668</span> for Jetson Xavier NX, or <span class="Code_Char">p2888</span> for Jetson AGX Xavier series.</div><div id="wwpID0E0U40HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">&lt;revision&gt;</span> is the board revision number, e.g. <span class="Code_Char">a01</span>.</div><div id="wwpID0E0T40HA" class="Heading_5">Usage</div><div id="wwpID0E0S40HA" class="Code">pinmux.&lt;address&gt; = &lt;value&gt;;</div><div id="wwpID0E0R40HA" class="Body_Text">Where:</div><div id="wwpID0E0Q40HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">pinmux</span> is the domain name for GPIO and pinmux configuration data.</div><div id="wwpID0E0P40HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">&lt;address&gt;</span> is the absolute <span class="Code_Char">PADCTL_A&lt;N&gt;</span>. <span class="Code_Char">GPIO_CTL&lt;N&gt;</span>, or <span class="Code_Char">AON_GPIO</span> register address.</div><div id="wwpID0E0O40HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">&lt;value&gt;</span> is the 32-bit data value.</div><div id="wwpID0E0N40HA" class="Heading_5">Device-side implementation</div><div id="wwpID0E0M40HA" class="Code">write(value, address);</div><div id="wwpID0E0L40HA" class="Heading_5">Example</div><div id="wwpID0E0K40HA" class="Code">#### Pinmux for used pins ####</div><div id="wwpID0E0J40HA" class="Code">pinmux.0x02434060 = &lt;value1&gt;; # gen1_i2c_scl_pc5.PADCTL_CONN_GEN1_I2C_SCL_0</div><div id="wwpID0E0I40HA" class="Code">pinmux.0x02434064 = &lt;value2&gt;; # gen1_i2c_scl_pc5.PADCTL_CONN_CFG2TMC_GEN1_I2C_SCL_0</div><div id="wwpID0E0H40HA" class="Code">pinmux.0x02434068 = &lt;value1&gt;; # gen1_i2c_sda_pc6.PADCTL_CONN_GEN1_I2C_SDA_0</div><div id="wwpID0E0G40HA" class="Code">pinmux.0x0243406C = &lt;value2&gt;; # gen1_i2c_sda_pc6.PADCTL_CONN_CFG2TMC_GEN1_I2C_DA_0</div><div id="wwpID0E0F40HA" class="Code">                          ::::</div><div id="wwpID0E0E40HA" class="Code">#### Pinmux for unused pins for low-power configuration ####</div><div id="wwpID0E0D40HA" class="Code">pinmux.0x02434040 = &lt;value1&gt;; # gpio_wan4_ph0.PADCTL_CONN_GPIO_WAN4_0</div><div id="wwpID0E0C40HA" class="Code">pinmux.0x02434044 = &lt;value2&gt;; # gpio_wan4_ph0.PADCTL_CONN_CFG2TMC_GPIO_WAN4_0</div><div id="wwpID0E0B40HA" class="Code">pinmux.0x02434048 = &lt;value1&gt;; # gpio_wan3_ph1.PADCTL_CONN_GPIO_WAN3_0</div><div id="wwpID0E0A40HA" class="Code">pinmux.0x0243404C = &lt;value2&gt;; # gpio_wan3_ph1.PADCTL_CONN_CFG2TMC_GPIO_WAN3_0</div><H4 id="wwpID0E0630HA" class="Heading_4">Common Prod Configuration</H4><div id="wwpID0E0530HA" class="Body_Text">The Jetson Xavier devices’ prod properties configure system characterization and interface and controller settings. This group of properties must be set correctly for the interface to work reliably on a given platform. The prod properties are set at the controller level, and separately at the pinmux level. </div><div id="wwpID0E0430HA" class="Body_Text">These properties are configured as a tuple of register address, mask, and data value. MB1 reads data from the address, modifies it based on the mask and value, and writes it back to the address.</div><div id="wwpID0E0330HA" class="Body_Text">The prod configuration file is at:</div><div id="wwpID0E0230HA" class="Code">Linux_for_Tegra/bootloader/t186ref/BCT/tegra186-mb1-bct-prod-&lt;board&gt;-&lt;revision&gt;.cfg</div><div id="wwpID0E0130HA" class="Body_Text">Where:</div><div id="wwpID0E0Z30HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">&lt;board&gt;</span> is the device’s board name: <span class="Code_Char">p3668</span> for Jetson Xavier NX, or <span class="Code_Char">p2888</span> for Jetson AGX Xavier series.</div><div id="wwpID0E0Y30HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">&lt;revision&gt;</span> is the board revision number, e.g., <span class="Code_Char">a01</span>.</div><div id="wwpID0E0X30HA" class="Heading_5">Usage</div><div id="wwpID0E0W30HA" class="Code">prod.&lt;address&gt;.&lt;mask&gt; = &lt;value&gt;;</div><div id="wwpID0E0V30HA" class="Body_Text">Where:</div><div id="wwpID0E0U30HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">prod</span> is the domain name prefix for the setting.</div><div id="wwpID0E0T30HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">&lt;address&gt;</span> is the pad control register address.</div><div id="wwpID0E0S30HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">&lt;mask&gt;</span> is the mask value (4 bytes, unsigned).</div><div id="wwpID0E0R30HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">&lt;value&gt;</span> is the data value (4 bytes, unsigned).</div><div id="wwpID0E0Q30HA" class="Heading_5">Device-side implementation</div><div id="wwpID0E0P30HA" class="Code">val = read(address)</div><div id="wwpID0E0O30HA" class="Code">val = (val &amp; ~mask) | (value &amp; mask);</div><div id="wwpID0E0N30HA" class="Code">write(val, address);</div><div id="wwpID0E0M30HA" class="Heading_5">Example</div><div id="wwpID0E0L30HA" class="Code">#I2C</div><div id="wwpID0E0K30HA" class="Code">prod.0x02434064.0x01f1f000 = 0x0001f000; # PADCTL_CONN_CFG2TMC_GEN1_I2C_SCL_0 drive settings</div><div id="wwpID0E0J30HA" class="Code">prod.0x0243406c.0x01f1f000 = 0x0001f000; # PADCTL_CONN_CFG2TMC_GEN1_I2C_SDA_0 drive settings</div><H4 id="wwpID0E0I30HA" class="Heading_4">Controller Prod Configuration</H4><div id="wwpID0E0H30HA" class="Body_Text">The controller prod configurations are the system characterized values of interface and controller settings, which are required for the given interface to work reliably for a platform. The prod configuration properties are set separately at controller and pinmux/pad levels. This file contains the controller level prod settings.</div><div id="wwpID0E0G30HA" class="Body_Text">The configuration file is at:</div><div id="wwpID0E0F30HA" class="Code">hardware/nvidia/platform/t19x/&lt;platform&gt;/bct/</div><div id="wwpID0E0E30HA" class="Heading_5">Usage</div><div id="wwpID0E0D30HA" class="Code">deviceprod.&lt;controller-name&gt;.&lt;controller-id&gt;.&lt;mode&gt;.&lt;address&gt;.&lt;mask&gt; = &lt;value&gt;;</div><div id="wwpID0E0C30HA" class="Body_Text">Where:</div><div id="wwpID0E0B30HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">&lt;controller-name&gt;</span> is the module’s name: <span class="Code_Char">sdmmc</span>, <span class="Code_Char">qspi</span>, <span class="Code_Char">se</span>, or <span class="Code_Char">i2c</span>.</div><div id="wwpID0E0A30HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">&lt;controller-id&gt;</span> is the module's origin-0 instance number, e.g. <span class="Code_Char">3</span> for SDMMC4.</div><div id="wwpID0E0620HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">&lt;mode&gt;</span> is the controller mode to which the prod setting applies, e.g. <span class="Code_Char">default</span>, <span class="Code_Char">hs400</span>, etc.</div><div id="wwpID0E0520HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">&lt;address&gt;</span> is the absolute register address within the controller and instance.</div><div id="wwpID0E0420HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">&lt;mask&gt;</span> is the mask value (four bytes unsigned).</div><div id="wwpID0E0320HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">&lt;value&gt;</span> is the data value (four bytes unsigned).</div><div id="wwpID0E0220HA" class="Body_Text">For each entry in the prod configuration file, MB1 reads data from the given <span class="Code_Char">address</span>, modifies it based on <span class="Code_Char">mask</span> and <span class="Code_Char">value</span>, and writes it back to the <span class="Code_Char">address</span>.</div><div id="wwpID0E0120HA" class="Heading_5">Device-side implementation</div><div id="wwpID0E0Z20HA" class="Code">val = read(address);</div><div id="wwpID0E0Y20HA" class="Code">val = (val &amp; ~mask) | (value &amp; mask);</div><div id="wwpID0E0X20HA" class="Code">write(val, address);</div><div id="wwpID0E0W20HA" class="Heading_5">Example</div><div id="wwpID0E0V20HA" class="Code">#Qspi0</div><div id="wwpID0E0U20HA" class="Code">deviceprod.qspi.0.default.0x03270004.0x7C00 = 0x0  #TX Trimmer</div><div id="wwpID0E0T20HA" class="Code">deviceprod.qspi.0.default.0x03270004.0xFF   = 0x10 #RX Trimmer</div><div id="wwpID0E0S20HA" class="Code">#Qspi1</div><div id="wwpID0E0R20HA" class="Code">deviceprod.qspi.1.default.0x03300004.0x7C00 = 0x0  #TX Trimmer</div><div id="wwpID0E0Q20HA" class="Code">deviceprod.qspi.1.default.0x03300004.0xFF   = 0x10 #RX Trimmer</div><div id="wwpID0E0P20HA" class="Code">#SDMMC</div><div id="wwpID0E0O20HA" class="Code">deviceprod.sdmmc.3.default.0x034601e4.0x00003FFF = 0x0 # auto cal pd and pu offsets</div><div id="wwpID0E0N20HA" class="Code">deviceprod.sdmmc.3.hs400.0x03460100.0x1FFF0000 = 0x14080000 # tap and trim values</div><div id="wwpID0E0M20HA" class="Code">deviceprod.sdmmc.3.hs400.0x0346010c.0x00003F00 = 0x00000028 # DQS trim val</div><div id="wwpID0E0L20HA" class="Code">deviceprod.sdmmc.3.ddr52.0x03460100.0x1FFF0000 = 0x14080000 # tap and trim values</div><H4 id="wwpID0E0K20HA" class="Heading_4">Pad Voltage Configuration</H4><div id="wwpID0E0J20HA" class="Body_Text">Jetson Xavier devices’ pins and pads are designed to support multiple voltage levels at a given interface. They can operate at 1.2 volts (V), 1.8&nbsp;V or 3.3&nbsp;V. Based on the interface and power tree of a given platform, the software must write to the correct voltage of these pads to enable interface. If pad voltage is higher than the I/O power rail, then the pin does not work on that level. If pad voltage is lower than the I/O power rail, then it can damage the SoC pads. Consequently, configuring the correct pad voltage is required based on the power tree.</div><div id="wwpID0E0I20HA" class="Normal" style="margin-bottom: 12pt; margin-top: 6pt; text-indent: 0pt"><span class="Body_Text_Char">The pad configuration file is located at</span>:</div><div id="wwpID0E0H20HA" class="Code">Linux_for_Tegra/bootloader/t186ref/BCT/t194-mb1-bct-pad-padvoltage-&lt;board&gt;-&lt;revision&gt;.cfg</div><div id="wwpID0E0G20HA" class="Heading_5">Usage</div><div id="wwpID0E0F20HA" class="Code">pad-voltage.&lt;address&gt; = &lt;value&gt;;</div><div id="wwpID0E0E20HA" class="Body_Text">Where:</div><div id="wwpID0E0D20HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">&lt;address&gt;</span> is the absolute register address.</div><div id="wwpID0E0C20HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">&lt;value&gt;</span> is the 32-bit data value.</div><div id="wwpID0E0B20HA" class="Body_Text">For each entry in the PAD configuration, MB1 writes the specified <span class="Code_Char">&lt;value&gt;</span> to the specified <span class="Code_Char">&lt;address&gt;</span>.</div><div id="wwpID0E0A20HA" class="Heading_5">Device-side implementation</div><div id="wwpID0E0610HA" class="Code">write(value, address);</div><div id="wwpID0E0510HA" class="Heading_5">Example</div><div id="wwpID0E0410HA" class="Code">pmc.0x0c36003c = 0x0000003e; # PMC_IMPL_E_18V_PWR_0</div><div id="wwpID0E0310HA" class="Code">pmc.0x0c360040 = 0x00000079; # PMC_IMPL_E_33V_PWR_0</div><H4 id="wwpID0E0210HA" class="Heading_4">PMIC Configuration</H4><div id="wwpID0E0110HA" class="Body_Text">During system boot, MB1 enables system power rails such as CPU, SRAM, and CORE, as well as some system PMIC configurations. The typical configurations are:</div><div id="wwpID0E0Z10HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Enabling rails</div><div id="wwpID0E0Y10HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Setting rail voltages</div><div id="wwpID0E0X10HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>FPS configurations</div><div id="wwpID0E0W10HA" class="Body_Text">Enabling and setting of rail voltages may require certain platform-specific configurations:</div><div id="wwpID0E0V10HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>I2C command to devices</div><div id="wwpID0E0U10HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>PWM commands to devices</div><div id="wwpID0E0T10HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>MMIO access to Jetson registers, either read-modify-write or write-only</div><div id="wwpID0E0S10HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Delay after the commands</div><div id="wwpID0E0R10HA" class="Body_Text">Entries in PMIC configuration files may be either common or rail-specific. Rail-specific configurations, such as I2C commands, MMIO access, and delays, are platform-specific. The MB1 BCT configuration file must provide configuration information.</div><div id="wwpID0E0Q10HA" class="Body_Text">The MB1-CFG format supports:</div><div id="wwpID0E0P10HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>I2C, Pulse Width Modulation (PWM) commands, and MMIO commands on any sequence.</div><div id="wwpID0E0O10HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Any I2C/PWM controller instance.</div><div id="wwpID0E0N10HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Any 7-bit slave address of the device.</div><div id="wwpID0E0M10HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>MMIO commands on read-modify-write format to support read only and Read-modify-write format.</div><div id="wwpID0E0L10HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>I2C commands are read-modify-write format to support read only and Read-modify-write format.</div><div id="wwpID0E0K10HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>PWM commands are for enabling and configuring the PWM.</div><div id="wwpID0E0J10HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Any amount of delay between commands.</div><div id="wwpID0E0I10HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Write only commands for PWM/I2C/MMIO.</div><div id="wwpID0E0H10HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Any size of device registers address and data size for i2c commands.</div><div id="wwpID0E0G10HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>I2c command on the 400KHz.</div><div id="wwpID0E0F10HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>The sequence may be:</div><div id="wwpID0E0E10HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>1 MMIO, 1 I2C</div><div id="wwpID0E0D10HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>1 I2C, 1 MMIO</div><div id="wwpID0E0C10HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>2 MMIO, 1 I2C</div><div id="wwpID0E0B10HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>1 MMIO, 2 I2C</div><div id="wwpID0E0A10HA" class="Body_Text">The typical rail/configurations are divided into following PMIC command domains:</div><div id="wwpID0E06Z0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Generic: General PMIC configurations.</div><div id="wwpID0E05Z0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>CPU: Command related to CPU rails.</div><div id="wwpID0E04Z0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>GPU: Commands related to GPU.</div><div id="wwpID0E03Z0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>SRAM: Commands related to SRAM.</div><div id="wwpID0E02Z0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>CORE: Commands related to CORE.</div><div id="wwpID0E01Z0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>MEM: Commands related to Memory.</div><div id="wwpID0E0ZZ0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>THERMAL: Commands for thermal configurations.</div><div id="wwpID0E0YZ0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>SHUTDOWN: Commands for shutdown related configurations.</div><div id="wwpID0E0XZ0HA" class="Body_Text">If a configuration is NOT identified for given rail, the command sequence of that rail is not required because MB1 device side code ignores the configuration of that rail.</div><div id="wwpID0E0WZ0HA" class="Body_Text">Each rail is defined with a unique ID to make the parsing and BCT binary easier. The unique IDs are as follows:</div><div class="ww_skin_page_overflow"><table class="Table_Normal" style="margin-left: 41.75pt" cellspacing="0" summary=""><tr><td style="background-color: #DDEEBF; background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top; width: 133.9pt"><div id="wwpID0EABI0VZ0HA" class="Cell_Heading">Rail Name</div></td><td style="background-color: #DDEEBF; background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top; width: 153.75pt"><div id="wwpID0EAAI0VZ0HA" class="Cell_Heading">ID</div></td></tr><tr><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EABH0VZ0HA" class="Cell_Text">GENERIC</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EAAH0VZ0HA" class="Cell_Text">1</div></td></tr><tr><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EABG0VZ0HA" class="Cell_Text">CPU</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EAAG0VZ0HA" class="Cell_Text">2</div></td></tr><tr><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EABF0VZ0HA" class="Cell_Text">CORE</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EAAF0VZ0HA" class="Cell_Text">3</div></td></tr><tr><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EABE0VZ0HA" class="Cell_Text">SRAM</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EAAE0VZ0HA" class="Cell_Text">4</div></td></tr><tr><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EABD0VZ0HA" class="Cell_Text">GPU</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EAAD0VZ0HA" class="Cell_Text">5</div></td></tr><tr><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EABC0VZ0HA" class="Cell_Text">MEM</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EAAC0VZ0HA" class="Cell_Text">6</div></td></tr><tr><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EABB0VZ0HA" class="Cell_Text">THERMAL</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EAAB0VZ0HA" class="Cell_Text">7</div></td></tr><tr><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EABA0VZ0HA" class="Cell_Text">SHUTDOWN</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EAAA0VZ0HA" class="Cell_Text">8</div></td></tr></table></div><div id="wwpID0E0UZ0HA" class="Body_Text">The PMIC configuration file is:</div><div id="wwpID0E0TZ0HA" class="Code"><span style="color: #000000">Linux_for_Tegra/bootloader/t186ref/BCT/&lt;device&gt;-tegra194-mb1-bct-pmic-&lt;partnumber&gt;-&lt;revision&gt;.cfg</span></div><div id="wwpID0E0SZ0HA" class="Body_Text">Where:</div><div id="wwpID0E0RZ0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">&lt;device&gt;</span> is the type of device, <span class="Code_Char">Jetson-NX</span> or <span class="Code_Char">Jetson-AGX</span>.</div><div id="wwpID0E0QZ0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">&lt;partnumber&gt;</span> is the full part number of the device:</div><div id="wwpID0E0PZ0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">p3668-0000</span> for the Jetson Xavier NX development module, distributed with the Jetson Xavier NX Developer Kit</div><div id="wwpID0E0OZ0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">p3668-0001</span> for the Jetson Xavier NX production module</div><div id="wwpID0E0NZ0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">p2888-0001</span> for the original Jetson AGX Xavier module (with 16&nbsp;GB of memory)</div><div id="wwpID0E0MZ0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">p2888-0004</span> for the Jetson AGX Xavier module with 32&nbsp;GB of memory</div><div id="wwpID0E0LZ0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">&lt;revision&gt;</span> is the module’s revision number, e.g. <span class="Code_Char">A01</span>.</div><div class="ww_skin_page_overflow"><table class="Table_Normal" style="margin-left: 54pt" cellspacing="0" summary=""><tr><td style="background-color: #76B900; background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top; width: 49.5pt"><div id="wwpID0EABA0KZ0HA" class="Note_Image">Note:</div></td><td style="background-color: #DDEEBF; background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top; width: 324.9pt"><div id="wwpID0EAAA0KZ0HA" class="Note_Text">Review each power rail before customizing the carrier board.</div></td></tr></table></div><div id="wwpID0E0JZ0HA" class="Heading_5">Usage for Common Parameters</div><div id="wwpID0E0IZ0HA" class="Code">pmic.&lt;cparameter&gt; = &lt;value&gt;;</div><div id="wwpID0E0HZ0HA" class="Body_Text">Where <span class="Code_Char">&lt;cparameter&gt;</span> is one of:</div><div id="wwpID0E0GZ0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">command-retries-count</span>: The number of allowed command attempts.</div><div id="wwpID0E0FZ0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">wait-before-start-bus-clear-us</span>: Determines the wait timeout before issuing the bus clear command. The wait timeout is 1&lt;&lt;<span class="Emphasis">n</span> microseconds, where <span class="Emphasis">n</span> is the value of this parameter.</div><div id="wwpID0E0EZ0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">rail-count</span>: The number of rails in the configuration file.</div><div id="wwpID0E0DZ0HA" class="Body_Text"><span class="Strong">Example</span></div><div id="wwpID0E0CZ0HA" class="Code">pmic.command-retries-count = &lt;value&gt;;</div><div id="wwpID0E0BZ0HA" class="Code">pmic.wait-before-start-bus-clear-us = &lt;value&gt;;</div><div id="wwpID0E0AZ0HA" class="Code">pmic.rail-count  = &lt;value&gt;;  </div><div id="wwpID0E06Y0HA" class="Heading_5">Usage for Rail-Specific Parameters</div><div id="wwpID0E05Y0HA" class="Code">&lt;pmic&gt;.&lt;railname&gt;.&lt;rparameter&gt; = &lt;value&gt;;</div><div id="wwpID0E04Y0HA" class="Body_Text">Where:</div><div id="wwpID0E03Y0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">&lt;railname&gt;</span> identifies a rail, and is one of:</div><div id="wwpID0E02Y0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">generic</span> or <span class="Code_Char">system</span>: Generic PMIC configuration.</div><div id="wwpID0E01Y0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">cpu</span> or <span class="Code_Char">cpu0</span>: CPU&nbsp;0 rail configuration.</div><div id="wwpID0E0ZY0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">cpu1</span>: CPU&nbsp;1 rail configuration.</div><div id="wwpID0E0YY0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">core</span>: Core/SoC rail configuration.</div><div id="wwpID0E0XY0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">memio</span>: Memory rail configuration.</div><div id="wwpID0E0WY0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">thermal</span>: External thermal sensor configuration.</div><div id="wwpID0E0VY0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">platform</span>: Other platform I2C configuration.</div><div id="wwpID0E0UY0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">&lt;rparameter&gt;</span> is one of:</div><div id="wwpID0E0TY0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>block-count: Number of blocks for the rail.</div><div id="wwpID0E0SY0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">block[&lt;bindex&gt;].type</span>: Type of commands in a specified block. Valid values are <span class="Code_Char">0</span> (MMIO), <span class="Code_Char">1</span> (I2C) and <span class="Code_Char">2</span> (PWM).</div><div id="wwpID0E0RY0HA" class="List_Continue_2"><span class="Code_Char">&lt;bindex&gt;</span> is the index of the block, counting from 0.</div><div id="wwpID0E0QY0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">block[&lt;bindex&gt;].count</span>: The number of commands in a specified block.</div><div id="wwpID0E0PY0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">block[&lt;bindex&gt;].delay</span>: Delay after each command in the block, in microseconds.</div><div id="wwpID0E0OY0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">block[&lt;bindex&gt;].commands[&lt;cindex&gt;].&lt;address&gt;.&lt;mask&gt;</span>: Specifies a command in a block.</div><div id="wwpID0E0NY0HA" class="List_Continue_2">If <span class="Code_Char">block[&lt;bindex&gt;].type</span> is <span class="Code_Char">0</span>, specifies an MMIO command. If <span class="Code_Char">1</span>, specifies an I2C command.</div><div id="wwpID0E0MY0HA" class="List_Bullet_3"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">&lt;cindex&gt;</span> is the command index, counted from 0. To write several commands, specify them in parameters with consecutive values of <span class="Code_Char">&lt;cindex&gt;</span>.</div><div id="wwpID0E0LY0HA" class="List_Bullet_3"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">&lt;address&gt;</span> is the absolute address of the MMIO register or the address of the I2C slave register.</div><div id="wwpID0E0KY0HA" class="List_Bullet_3"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">&lt;mask&gt;</span> is a 32-bit MMIO mask or an I2C slave mask. It is applied to values read from the MMIO register or I2C slave register to facilitate read-modify-write operations.</div><div id="wwpID0E0JY0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">block[&lt;index&gt;].&lt;i2c-parameter&gt;</span>: Specifies an I2C parameter. Valid only if <span class="Code_Char">block[&lt;index&gt;].type = 1</span>.</div><div id="wwpID0E0IY0HA" class="List_Continue_2"><span class="Code_Char">&lt;i2c-parameter&gt;</span> must be one of the following:</div><div id="wwpID0E0HY0HA" class="List_Bullet_3"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">i2c-controller-id</span>: I2C controller instance.</div><div id="wwpID0E0GY0HA" class="List_Bullet_3"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">slave-add</span>: 7-bit I2C slave address.</div><div id="wwpID0E0FY0HA" class="List_Bullet_3"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">reg-data-size</span>: Register size in bits. Valid values are 0 (one byte), 8 (one byte), and 16 (two byte).</div><div id="wwpID0E0EY0HA" class="List_Bullet_3"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">reg-add-size</span>: Register address size in bits. Valid values are 0 (one byte), 8 (one byte), and 16 (two byte).</div><div id="wwpID0E0DY0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">block[&lt;index&gt;].&lt;pwm-command&gt;</span>: Specifies a PWM parameter. Valid only if <span class="Code_Char">block[&lt;index&gt;].type = 2</span>.</div><div id="wwpID0E0CY0HA" class="List_Continue_2"><span class="Code_Char">&lt;pwm-parameter&gt;</span> must be one of the following:</div><div id="wwpID0E0BY0HA" class="List_Bullet_3"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">controller-id</span>: PWM controller instance (0-7).</div><div id="wwpID0E0AY0HA" class="List_Bullet_3"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">source-frq-hz</span>: PWM clock source frequency, in Hertz.</div><div id="wwpID0E06X0HA" class="List_Bullet_3"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">period-ns</span>: PWM time period, in nanoseconds.</div><div id="wwpID0E05X0HA" class="List_Bullet_3"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">min-microvolts</span>: V<span style="vertical-align: sub">out</span> from PWM regulator if duty cycle is 0.</div><div id="wwpID0E04X0HA" class="List_Bullet_3"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">max-microvolts</span>: V<span style="vertical-align: sub">out</span> from PWM regulator if duty cycle is 100.</div><div id="wwpID0E03X0HA" class="List_Bullet_3"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">init-microvolts</span>: V<span style="vertical-align: sub">out</span> from PWM regulator after initialization.</div><div id="wwpID0E02X0HA" class="List_Bullet_3"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">Enable</span>: 1 (enable PWM after configuring) or 0 (configure but do not enable).</div><div id="wwpID0E01X0HA" class="Body_Text"><span class="Strong">Example</span></div><div id="wwpID0E0ZX0HA" class="Code">######################## System Configurations ####</div><div id="wwpID0E0YX0HA" class="Code"># PMIC FPS to turn SD4 (VDD_DDR_1V1) on in time slot 0</div><div id="wwpID0E0XX0HA" class="Code"># PMIC FPS to set GPIO2 (EN_DDR_VDDQ)  high in time slot 1</div><div id="wwpID0E0WX0HA" class="Code"># Set SLPEN = 1 and CLRSE on POR reset</div><div id="wwpID0E0VX0HA" class="Code">pmic.system.block[0].type = 1; #I2C</div><div id="wwpID0E0UX0HA" class="Code">pmic.system.block[0].controller-id = 4;</div><div id="wwpID0E0TX0HA" class="Code">pmic.system.block[0].slave-add = 0x78; # 7BIt:0x3c</div><div id="wwpID0E0SX0HA" class="Code">pmic.system.block[0].reg-data-size = 8;</div><div id="wwpID0E0RX0HA" class="Code">pmic.system.block[0].reg-add-size = 8;</div><div id="wwpID0E0QX0HA" class="Code">pmic.system.block[0].block-delay = 10;</div><div id="wwpID0E0PX0HA" class="Code">pmic.system.block[0].commands[0].0x53.0x38 = 0x00; # SD4 FPS UP slot 0</div><div id="wwpID0E0OX0HA" class="Code">pmic.system.block[0].commands[1].0x55.0x38 = 0x10; # GPIO2 FPS UP slot 2</div><div id="wwpID0E0NX0HA" class="Code">pmic.system.block[0].commands[2].0x41.0x1C = 0x1C; # SLPEN=1, CLRSE = 11</div><div id="wwpID0E0MX0HA" class="Code"># PMIC FPS programming to reassign SD1, SD2, LDO4 and LDO5 to</div><div id="wwpID0E0LX0HA" class="Code"># FPS0 to leave those rails on in SC7</div><div id="wwpID0E0KX0HA" class="Code">pmic.system.block[1].type = 1; #I2C</div><div id="wwpID0E0JX0HA" class="Code">pmic.system.block[1].controller-id = 4;</div><div id="wwpID0E0IX0HA" class="Code">pmic.system.block[1].slave-add = 0x78; # 7BIt:0x3c</div><div id="wwpID0E0HX0HA" class="Code">pmic.system.block[1].reg-data-size = 8;</div><div id="wwpID0E0GX0HA" class="Code">pmic.system.block[1].reg-add-size = 8;</div><div id="wwpID0E0FX0HA" class="Code">pmic.system.block[1].block-delay = 10;</div><div id="wwpID0E0EX0HA" class="Code">pmic.system.block[1].commands[0].0x50.0xC0 = 0x00; # SD1 FPS to FPS0</div><div id="wwpID0E0DX0HA" class="Code">pmic.system.block[1].commands[1].0x51.0xC0 = 0x00; # SD2 FPS to FPS0</div><div id="wwpID0E0CX0HA" class="Code">pmic.system.block[1].commands[2].0x4A.0xC0 = 0x00; # LDO4 FPS to FPS0</div><div id="wwpID0E0BX0HA" class="Code">pmic.system.block[1].commands[3].0x4B.0xC0 = 0x00; # LDO5 FPS to FPS0</div><div id="wwpID0E0AX0HA" class="Code">pmic.system.block[1].commands[4].0x4C.0xC0 = 0x00; # LDO6 FPS to FPS0</div><div id="wwpID0E06W0HA" class="Code"># VDDIO_DDR to 1.1V, SD4 to 1.1V</div><div id="wwpID0E05W0HA" class="Code">pmic.system.block[2].type = 1; #I2C</div><div id="wwpID0E04W0HA" class="Code">pmic.system.block[2].controller-id = 4;</div><div id="wwpID0E03W0HA" class="Code">pmic.system.block[2].slave-add = 0x78; # 7BIt:0x3c</div><div id="wwpID0E02W0HA" class="Code">pmic.system.block[2].reg-data-size = 8;</div><div id="wwpID0E01W0HA" class="Code">pmic.system.block[2].reg-add-size = 8;</div><div id="wwpID0E0ZW0HA" class="Code">pmic.system.block[2].block-delay = 10;</div><div id="wwpID0E0YW0HA" class="Code">pmic.system.block[2].commands[0].0x1A.0xFF =  0x28; # SD4 to 1.1V</div><div id="wwpID0E0XW0HA" class="Code">######################## #CORE(SOC) RAIL Configurations ###############</div><div id="wwpID0E0WW0HA" class="Code"># 1. Set 850mV voltage.</div><div id="wwpID0E0VW0HA" class="Code">pmic.core.block[0].type = 2; # PWM Type</div><div id="wwpID0E0UW0HA" class="Code">pmic.core.block[0].controller-id = 6; #SOC_GPIO10: PWM7</div><div id="wwpID0E0TW0HA" class="Code">pmic.core.block[0].source-frq-hz = 204000000; #204MHz</div><div id="wwpID0E0SW0HA" class="Code">pmic.core.block[0].period-ns = 1255; # 800KHz.</div><div id="wwpID0E0RW0HA" class="Code">pmic.core.block[0].min-microvolts = 400000;</div><div id="wwpID0E0QW0HA" class="Code">pmic.core.block[0].max-microvolts = 1200000;</div><div id="wwpID0E0PW0HA" class="Code">pmic.core.block[0].init-microvolts = 850000;</div><div id="wwpID0E0OW0HA" class="Code">pmic.core.block[0].enable = 1;</div><div id="wwpID0E0NW0HA" class="Code"># 2. Make soc_gpio10 pin in non-tristate</div><div id="wwpID0E0MW0HA" class="Code">pmic.core.block[1].type = 0; # MMIO TYPE</div><div id="wwpID0E0LW0HA" class="Code">pmic.core.block[1].block-delay = 3000;</div><div id="wwpID0E0KW0HA" class="Code">pmic.core.block[1].commands[0].0x02434080.0x10 = 0x0; # soc_gpio10: tristate (b4) = 0</div><div id="wwpID0E0JW0HA" class="Code">######################## #CPU0 RAIL configurations  ###############</div><div id="wwpID0E0IW0HA" class="Code"># 1. Set 800mV voltage.</div><div id="wwpID0E0HW0HA" class="Code">pmic.cpu0.block[0].type = 2; # PWM Type</div><div id="wwpID0E0GW0HA" class="Code">pmic.cpu0.block[0].controller-id = 5; #soc_gpio13; PWM6</div><div id="wwpID0E0FW0HA" class="Code">pmic.cpu0.block[0].source-frq-hz = 204000000; #204MHz</div><div id="wwpID0E0EW0HA" class="Code">pmic.cpu0.block[0].period-ns = 1255; # 800KHz.</div><div id="wwpID0E0DW0HA" class="Code">pmic.cpu0.block[0].min-microvolts = 400000;</div><div id="wwpID0E0CW0HA" class="Code">pmic.cpu0.block[0].max-microvolts = 1200000;</div><div id="wwpID0E0BW0HA" class="Code">pmic.cpu0.block[0].init-microvolts = 800000;</div><div id="wwpID0E0AW0HA" class="Code">pmic.cpu0.block[0].enable = 1;</div><div id="wwpID0E06V0HA" class="Code"># 2. CPU PWR_REQ cpu_pwr_req_0_pb0 to be 1</div><div id="wwpID0E05V0HA" class="Code">pmic.cpu0.block[1].type = 0; # MMIO TYPE</div><div id="wwpID0E04V0HA" class="Code">pmic.cpu0.block[1].block-delay = 3;</div><div id="wwpID0E03V0HA" class="Code">pmic.cpu0.block[1].commands[0].0x02214e00.0x3 = 0x00000003; # CONFIG B0</div><div id="wwpID0E02V0HA" class="Code">pmic.cpu0.block[1].commands[1].0x02214e0c.0x1 = 0x00000000; # CONTROL B0</div><div id="wwpID0E01V0HA" class="Code">pmic.cpu0.block[1].commands[2].0x02214e10.0x1 = 0x00000001; # OUTPUT B0</div><div id="wwpID0E0ZV0HA" class="Code">pmic.cpu0.block[1].commands[3].0x02446008.0x400 = 0x00000000; # cpu_pwr_req_0_pb0 to GPIO mode</div><div id="wwpID0E0YV0HA" class="Code">pmic.cpu0.block[1].commands[4].0x02446008.0x10 = 0x00000000; #  cpu_pwr_req_0_pb0 tristate(b4)=0</div><div id="wwpID0E0XV0HA" class="Code"># 3. Set soc_gpio13 to untristate</div><div id="wwpID0E0WV0HA" class="Code">pmic.cpu0.block[2].type = 0; # MMIO Type</div><div id="wwpID0E0VV0HA" class="Code">pmic.cpu0.block[2].commands[4].0x02434098.0x10 = 0x00; # soc_gpio13 to be untristate</div><div id="wwpID0E0UV0HA" class="Code">######################## Platform Configurations  ###############</div><div id="wwpID0E0TV0HA" class="Code"># Configure pin4/pin5 as output of gpio expander(0x40)</div><div id="wwpID0E0SV0HA" class="Code"># Configure pin4 low and pin5 high of gpio expander(0x40)</div><div id="wwpID0E0RV0HA" class="Code">pmic.platform.block[0].type = 1; #I2C</div><div id="wwpID0E0QV0HA" class="Code">pmic.platform.block[0].controller-id = 1; #gen2</div><div id="wwpID0E0PV0HA" class="Code">pmic.platform.block[0].slave-add = 0x40; # 7BIt:0x20</div><div id="wwpID0E0OV0HA" class="Code">pmic.platform.block[0].reg-data-size = 8;</div><div id="wwpID0E0NV0HA" class="Code">pmic.platform.block[0].reg-add-size = 8;</div><div id="wwpID0E0MV0HA" class="Code">pmic.platform.block[0].block-delay = 10;</div><div id="wwpID0E0LV0HA" class="Code">pmic.platform.block[0].commands[0].0x03.0x30 = 0x00; #Configure pin4/pin5 as output</div><div id="wwpID0E0KV0HA" class="Code">pmic.platform.block[0].commands[1].0x01.0x30 = 0x20; #Configure pin4 low and pin5 high</div><div id="wwpID0E0JV0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>The rail-specific commands are divided into blocks.</div><div id="wwpID0E0IV0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Each rail can have one or more blocks. Each block of given rails is indexed starting from 0.</div><div id="wwpID0E0HV0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Each block contains either MMIO or I2C commands. If both MMIO and I2C commands are required, then commands are broken into multiple blocks.</div><div id="wwpID0E0GV0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>If a block contains I2C type of commands, then all commands are sent to the same device. If I2C commands are required for multiple devices, then it must be split into multiple blocks.</div><div id="wwpID0E0FV0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>If commands on given blocks are I2C type, then the device address, register address size, and register data size parameters are not required for MMIO commands.</div><div id="wwpID0E0EV0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>A given block can contain more than one command, but all commands must be of the same type.</div><div id="wwpID0E0DV0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>A delay is provided after each command of a given block. The delay is the same for all commands. If different delay is required, it must be split into multiple blocks.</div><div id="wwpID0E0CV0HA" class="Body_Text">Rail-specific parameters are prefixed by the following:</div><div id="wwpID0E0BV0HA" class="Code">pmic.&lt;rail-name&gt;.&lt;rail-id&gt;</div><div class="ww_skin_page_overflow"><table class="Table_Normal" style="margin-left: 41.75pt" cellspacing="0" summary=""><tr><td style="background-color: #DDEEBF; background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top; width: 151.9pt"><div id="wwpID0EABF0AV0HA" class="Cell_Heading">Parameter</div></td><td style="background-color: #DDEEBF; background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top; width: 271.45pt"><div id="wwpID0EAAF0AV0HA" class="Cell_Heading">Description</div></td></tr><tr><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EABE0AV0HA" class="Cell_Text">block-count</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0ECAE0AV0HA" class="Cell_Text">Specifies the block count.</div><div id="wwpID0EBAE0AV0HA" class="Cell_Text">pmic.&lt;rail-name&gt;.&lt;rail-id&gt;.block-count = &lt;value&gt;;</div><div id="wwpID0EAAE0AV0HA" class="Cell_Text">Where &lt;value&gt;, for block-count, is the number of command blocks for a given rail.</div></td></tr><tr><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EABD0AV0HA" class="Cell_Text">block</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EBAD0AV0HA" class="Cell_Text">Specifies the block identification parameter. All blocks are indexed, starting from 0.</div><div id="wwpID0EAAD0AV0HA" class="Cell_Text">pmic.&lt;rail-name&gt;.&lt;rail-id&gt;.block[index]</div></td></tr><tr><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EABC0AV0HA" class="Cell_Text">type</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EAAC0AV0HA" class="Cell_Text">Specifies the command type, either MMIO (0) or I2C (1).</div></td></tr><tr><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EABB0AV0HA" class="Cell_Text">delay</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EAAB0AV0HA" class="Cell_Text">Specifies the delay, in microseconds, after each command in a given block.</div></td></tr><tr><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EABA0AV0HA" class="Cell_Text">count</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EAAA0AV0HA" class="Cell_Text">Specifies the number of commands in a block.</div></td></tr></table></div><div id="wwpID0E06U0HA" class="Heading_5">I2C Type-Specific Parameters</div><div id="wwpID0E05U0HA" class="Body_Text">The I2C type-specific parameters are as follows:</div><div class="ww_skin_page_overflow"><table class="Table_Normal" style="margin-left: 41.75pt" cellspacing="0" summary=""><tr><td style="background-color: #DDEEBF; background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top; width: 142.55pt"><div id="wwpID0EABE04U0HA" class="Cell_Heading">Parameter</div></td><td style="background-color: #DDEEBF; background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top; width: 280.8pt"><div id="wwpID0EAAE04U0HA" class="Cell_Heading">Description</div></td></tr><tr><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EABD04U0HA" class="Cell_Text">I2c-controller-id</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EAAD04U0HA" class="Cell_Text">Controller ID of I2C.</div></td></tr><tr><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EABC04U0HA" class="Cell_Text">slave-add</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EAAC04U0HA" class="Cell_Text">7-bit slave address.</div></td></tr><tr><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EABB04U0HA" class="Cell_Text">reg-data-size</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EBAB04U0HA" class="Cell_Text">Register size in bits:<br />0 or 8:1 byte</div><div id="wwpID0EAAB04U0HA" class="Cell_Text">16: 2 bytes</div></td></tr><tr><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EABA04U0HA" class="Cell_Text">reg-add-size</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EBAA04U0HA" class="Cell_Text">Register address size in bits:<br />0 or 8:1 byte</div><div id="wwpID0EAAA04U0HA" class="Cell_Text">16: 2 bytes</div></td></tr></table></div><div id="wwpID0E03U0HA" class="Heading_5">Commands</div><div id="wwpID0E02U0HA" class="Body_Text">Commands can be either MMIO or I2C. The information is in the format <span class="Code_Char">&lt;address&gt;</span>.<span class="Code_Char">&lt;mask&gt;</span> = <span class="Code_Char">&lt;data&gt;,</span> to support the read-modify-write sequence. All commands are indexed, to facilitate multiple commands in a given block. Commands are sent to the device in sequence, starting from index 0, in the following format:</div><div id="wwpID0E01U0HA" class="Code">commands[command-index].&lt;addr&gt;.&lt;mask&gt; = &lt;data&gt;;</div><div id="wwpID0E0ZU0HA" class="Heading_5">PWM-Specific Commands</div><div id="wwpID0E0YU0HA" class="Body_Text">The PWM-specific commands are as follows:</div><div class="ww_skin_page_overflow"><table class="Table_Normal" style="margin-left: 41.75pt" cellspacing="0" summary=""><tr><td style="background-color: #DDEEBF; background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top; width: 125.65pt"><div id="wwpID0EABI0XU0HA" class="Cell_Heading">Command</div></td><td style="background-color: #DDEEBF; background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top; width: 247.5pt"><div id="wwpID0EAAI0XU0HA" class="Cell_Heading">Value</div></td></tr><tr><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EABH0XU0HA" class="Cell_Text">type</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EAAH0XU0HA" class="Cell_Text">2 (for PWM =2)</div></td></tr><tr><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EABG0XU0HA" class="Cell_Text">controller-id</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EAAG0XU0HA" class="Cell_Text">&lt;0 to 7&gt; /* Based on the platform */</div></td></tr><tr><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EABF0XU0HA" class="Cell_Text">source-frq-hz</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EAAF0XU0HA" class="Cell_Text">&lt;PWM clock source freq&gt; /* In Hz */</div></td></tr><tr><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EABE0XU0HA" class="Cell_Text">period-ns</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EAAE0XU0HA" class="Cell_Text">&lt;Period in nanoseconds&gt; /* PWM periods */</div></td></tr><tr><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EABD0XU0HA" class="Cell_Text">min-microvolts</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EAAD0XU0HA" class="Cell_Text">&lt;Vout from PWM regulator if duty cycle is 0&gt;</div></td></tr><tr><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EABC0XU0HA" class="Cell_Text">max-microvolts</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EAAC0XU0HA" class="Cell_Text">&lt;Vout from PWM regulator if duty cycle is 100&gt;</div></td></tr><tr><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EABB0XU0HA" class="Cell_Text">init-microvolts</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EAAB0XU0HA" class="Cell_Text">&lt;Vout from PWM regulator after initialization.</div></td></tr><tr><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EABA0XU0HA" class="Cell_Text">enable</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EAAA0XU0HA" class="Cell_Text">&lt;1/0&gt; /* Enable the PWM or just configure */</div></td></tr></table></div><div id="wwpID0E0WU0HA" class="Body_Text">For example:</div><div id="wwpID0E0VU0HA" class="Code"># 1. Set 950mV voltage.</div><div id="wwpID0E0UU0HA" class="Code">pmic.core.3.block[0].type = 2; # PWM Type</div><div id="wwpID0E0TU0HA" class="Code">pmic.core.3.block[0].controller-id = 5; #GP_PWM6</div><div id="wwpID0E0SU0HA" class="Code">pmic.core.3.block[0].source-frq-hz = 102000000; #102MHz</div><div id="wwpID0E0RU0HA" class="Code">pmic.core.3.block[0].period-ns = 2600; # 384K is period.</div><div id="wwpID0E0QU0HA" class="Code">pmic.core.3.block[0].min-microvolts = 600000;</div><div id="wwpID0E0PU0HA" class="Code">pmic.core.3.block[0].max-microvolts = 1200000;</div><div id="wwpID0E0OU0HA" class="Code">pmic.core.3.block[0].init-microvolts = 950000;</div><div id="wwpID0E0NU0HA" class="Code">pmic.core.3.block[0].enable = 1;</div><div id="wwpID0E0MU0HA" class="Heading_5">Generic Format</div><div id="wwpID0E0LU0HA" class="Body_Text">The following code snippets show the common and rail-specific parameters in a generic format.</div><div id="wwpID0E0KU0HA" class="Body_Text">The common parameters are:</div><div id="wwpID0E0JU0HA" class="Code">pmic.command-retries-count = &lt;u32&gt;;</div><div id="wwpID0E0IU0HA" class="Code">pmic.wait-before-start-bus-clear-us = &lt;u32&gt;;</div><div id="wwpID0E0HU0HA" class="Code">pmic.rail-count  = &lt;u32&gt;;  </div><div id="wwpID0E0GU0HA" class="Body_Text">The rail-specific parameters are:</div><div id="wwpID0E0FU0HA" class="Code">pmic.&lt;rail-name&gt;.block-count</div><div id="wwpID0E0EU0HA" class="Body_Text">The generic format is as follows:</div><div id="wwpID0E0DU0HA" class="Code">##### BLOCK 0 ####</div><div id="wwpID0E0CU0HA" class="Code">pmic.&lt;rail-name&gt;.&lt;rail-id&gt;.block[0].type = &lt;0 for MMIO, 1 for I2C&gt;</div><div id="wwpID0E0BU0HA" class="Code">pmic.&lt;rail-name&gt;.&lt;rail-id&gt;.block[0].delay = &lt;u32&gt;</div><div id="wwpID0E0AU0HA" class="Code">pmic.&lt;rail-name&gt;.&lt;rail-id&gt;.block[0].count =  &lt;calculated&gt;;</div><div id="wwpID0E06T0HA" class="Code">&nbsp;</div><div id="wwpID0E05T0HA" class="Code">#For I2C specific</div><div id="wwpID0E04T0HA" class="Code">pmic.&lt;rail-name&gt;.&lt;rail-id&gt;.block[0].I2c-controller-id = &lt;u32&gt;;</div><div id="wwpID0E03T0HA" class="Code">pmic.&lt;rail-name&gt;.&lt;rail-id&gt;.block[0].slave-add = &lt;u32&gt;;</div><div id="wwpID0E02T0HA" class="Code">pmic.&lt;rail-name&gt;.&lt;rail-id&gt;.block[0].reg-data-size = &lt;u32&gt;;</div><div id="wwpID0E01T0HA" class="Code">pmic.&lt;rail-name&gt;.&lt;rail-id&gt;.block[0].reg-add-size = &lt;u32&gt;;</div><div id="wwpID0E0ZT0HA" class="Code">&nbsp;</div><div id="wwpID0E0YT0HA" class="Code">#I2C and MMIOs</div><div id="wwpID0E0XT0HA" class="Code">pmic.&lt;rail-name&gt;.&lt;rail-id&gt;.block[0].commands[0].&lt;addr&gt;.&lt;mask&gt; = &lt;data&gt;;</div><div id="wwpID0E0WT0HA" class="Code">pmic.&lt;rail-name&gt;.&lt;rail-id&gt;.block[0].commands[1].&lt;addr&gt;.&lt;mask&gt; = &lt;data&gt;;</div><div id="wwpID0E0VT0HA" class="Code">pmic.&lt;rail-name&gt;.&lt;rail-id&gt;.block[0].commands[2].&lt;addr&gt;.&lt;mask&gt; = &lt;data&gt;;</div><div id="wwpID0E0UT0HA" class="Code">pmic.&lt;rail-name&gt;.&lt;rail-id&gt;.block[0].commands[3].&lt;addr&gt;.&lt;mask&gt; = &lt;data0&gt;;</div><div id="wwpID0E0TT0HA" class="Code">::::</div><div id="wwpID0E0ST0HA" class="Code">&nbsp;</div><div id="wwpID0E0RT0HA" class="Code">##### BLOCK 1 ####</div><div id="wwpID0E0QT0HA" class="Code">pmic.&lt;rail-name&gt;.&lt;rail-id&gt;.block[1].type = &lt;0 for MMIO, 1 for I2C&gt;</div><div id="wwpID0E0PT0HA" class="Code">pmic.&lt;rail-name&gt;.&lt;rail-id&gt;.block[1].delay = &lt;u32&gt;</div><div id="wwpID0E0OT0HA" class="Code">pmic.&lt;rail-name&gt;.&lt;rail-id&gt;.block[1].count = &lt;Calculated&gt;</div><div id="wwpID0E0NT0HA" class="Code">#For I2C</div><div id="wwpID0E0MT0HA" class="Code">pmic.&lt;rail-name&gt;.&lt;rail-id&gt;.block[1].I2c-controller-id</div><div id="wwpID0E0LT0HA" class="Code">pmic.&lt;rail-name&gt;.&lt;rail-id&gt;.block[1].slave-add</div><div id="wwpID0E0KT0HA" class="Code">pmic.&lt;rail-name&gt;.&lt;rail-id&gt;.block[1].reg-data-size</div><div id="wwpID0E0JT0HA" class="Code">pmic.&lt;rail-name&gt;.&lt;rail-id&gt;.block[1].reg-add-size</div><div id="wwpID0E0IT0HA" class="Code">&nbsp;</div><div id="wwpID0E0HT0HA" class="Code">#I2C and MMIOs</div><div id="wwpID0E0GT0HA" class="Code">pmic.&lt;rail-name&gt;.&lt;rail-id&gt;.block[1].commands[0].&lt;addr&gt;.&lt;mask&gt; = &lt;data&gt;;</div><div id="wwpID0E0FT0HA" class="Code">pmic.&lt;rail-name&gt;.&lt;rail-id&gt;.block[1].commands[1].&lt;addr&gt;.&lt;mask&gt; = &lt;data&gt;;</div><div id="wwpID0E0ET0HA" class="Code">pmic.&lt;rail-name&gt;.&lt;rail-id&gt;.block[1].commands[2].&lt;addr&gt;.&lt;mask&gt; = &lt;data&gt;;</div><div id="wwpID0E0DT0HA" class="Code">pmic.&lt;rail-name&gt;.&lt;rail-id&gt;.block[1].commands[3].&lt;addr&gt;.&lt;mask&gt; = &lt;data0&gt;;</div><div id="wwpID0E0CT0HA" class="Code">::::</div><div id="wwpID0E0BT0HA" class="Body_Text">For example, in usage:</div><div id="wwpID0E0AT0HA" class="Code">pmic.command-retries-count = 1;</div><div id="wwpID0E06S0HA" class="Code">pmic.wait-before-start-bus-clear-us = 0;</div><div id="wwpID0E05S0HA" class="Code">pmic.rail-count  = 6;</div><div id="wwpID0E04S0HA" class="Code">&nbsp;</div><div id="wwpID0E03S0HA" class="Code">###############GENERIC RAIL  (ID = 1) DATA ###############</div><div id="wwpID0E02S0HA" class="Code">pmic.generic.1.block-count = 1;</div><div id="wwpID0E01S0HA" class="Code">&nbsp;</div><div id="wwpID0E0ZS0HA" class="Code"># 1. Set PMIC MBLDP = 1, CNFGGLBL1 bit 6 = 1</div><div id="wwpID0E0YS0HA" class="Code">pmic.generic.1.block[0].type = 1; # I2C Type</div><div id="wwpID0E0XS0HA" class="Code">pmic.generic.1.block[0].i2c-controller-id = 4;</div><div id="wwpID0E0WS0HA" class="Code">pmic.generic.1.block[0].slave-add = 0x78; # 7BIt:0x3c</div><div id="wwpID0E0VS0HA" class="Code">pmic.generic.1.block[0].reg-data-size = 8;</div><div id="wwpID0E0US0HA" class="Code">pmic.generic.1.block[0].reg-add-size = 8;</div><div id="wwpID0E0TS0HA" class="Code">pmic.generic.1.block[0].delay = 10;</div><div id="wwpID0E0SS0HA" class="Code">pmic.generic.1.block[0].count = 1;</div><div id="wwpID0E0RS0HA" class="Code">pmic.generic.1.block[0].commands[0].0x00.0x40 = 0x40;</div><div id="wwpID0E0QS0HA" class="Code">&nbsp;</div><div id="wwpID0E0PS0HA" class="Code">######################## #CORE RAIL  (ID = 3) DATA ###############</div><div id="wwpID0E0OS0HA" class="Code">pmic.core.3.block-count = 2;</div><div id="wwpID0E0NS0HA" class="Code">&nbsp;</div><div id="wwpID0E0MS0HA" class="Code"># 1. Set 950mV voltage.</div><div id="wwpID0E0LS0HA" class="Code">pmic.core.3.block[0].type = 1; # I2C Type</div><div id="wwpID0E0KS0HA" class="Code">pmic.core.3.block[0].i2c-controller-id = 4;</div><div id="wwpID0E0JS0HA" class="Code">pmic.core.3.block[0].slave-add = 0x70; # 7BIt:0x38</div><div id="wwpID0E0IS0HA" class="Code">pmic.core.3.block[0].reg-data-size = 8;</div><div id="wwpID0E0HS0HA" class="Code">pmic.core.3.block[0].reg-add-size = 8;</div><div id="wwpID0E0GS0HA" class="Code">pmic.core.3.block[0].delay = 1000;</div><div id="wwpID0E0FS0HA" class="Code">pmic.core.3.block[0].count = 1;</div><div id="wwpID0E0ES0HA" class="Code">pmic.core.3.block[0].commands[0].0x07.0xFF = 0x2E;</div><div id="wwpID0E0DS0HA" class="Code">&nbsp;</div><div id="wwpID0E0CS0HA" class="Code"># 2. Set GPIO3 Power down slot to 6.</div><div id="wwpID0E0BS0HA" class="Code">pmic.core.3.block[1].type = 1; # I2C Type</div><div id="wwpID0E0AS0HA" class="Code">pmic.core.3.block[1].i2c-controller-id = 4;</div><div id="wwpID0E06R0HA" class="Code">pmic.core.3.block[1].slave-add = 0x78; # 7BIt:0x3c</div><div id="wwpID0E05R0HA" class="Code">pmic.core.3.block[1].reg-data-size = 8;</div><div id="wwpID0E04R0HA" class="Code">pmic.core.3.block[1].reg-add-size = 8;</div><div id="wwpID0E03R0HA" class="Code">pmic.core.3.block[1].delay = 10;</div><div id="wwpID0E02R0HA" class="Code">&nbsp;</div><div id="wwpID0E01R0HA" class="Body_Text">PWM-specific example:</div><div id="wwpID0E0ZR0HA" class="Code">pmic.core.3.block-count = 1;</div><div id="wwpID0E0YR0HA" class="Code">&nbsp;</div><div id="wwpID0E0XR0HA" class="Code"># 1. Set 950mV voltage.</div><div id="wwpID0E0WR0HA" class="Code">pmic.core.3.block[0].type = 2; # PWM Type</div><div id="wwpID0E0VR0HA" class="Code">pmic.core.3.block[0].controller-id = 5; #GP_PWM6</div><div id="wwpID0E0UR0HA" class="Code">pmic.core.3.block[0].source-frq-hz = 102000000; #102MHz</div><div id="wwpID0E0TR0HA" class="Code">pmic.core.3.block[0].period-ns = 2600; # 384K is period.</div><div id="wwpID0E0SR0HA" class="Code">pmic.core.3.block[0].min-microvolts = 600000;</div><div id="wwpID0E0RR0HA" class="Code">pmic.core.3.block[0].max-microvolts = 1200000;</div><div id="wwpID0E0QR0HA" class="Code">pmic.core.3.block[0].init-microvolts = 950000;</div><div id="wwpID0E0PR0HA" class="Code">pmic.core.3.block[0].enable = 1;</div><div id="wwpID0E0OR0HA" class="Code">::::</div><H4 id="wwpID0E0NR0HA" class="Heading_4">Security Configuration</H4><div id="wwpID0E0MR0HA" class="Body_Text">The Jetson Xavier devices have separate registers for configuring bridge client security and bridge firewalls, known as Security Configuration Registers (SCRs). SCRs are either configured by NVIDIA for Jetson Xavier platforms or are configured by the customer for custom platforms.</div><div id="wwpID0E0LR0HA" class="Body_Text">MB1 and MB2 program most of the SCRs and firewalls in T19x. They take the configuration values from the SCR configuration file.</div><div id="wwpID0E0KR0HA" class="Body_Text">The list of SCRs and firewalls, with their order and addresses, is predetermined.</div><div id="wwpID0E0JR0HA" class="Body_Text">The values of the SCRs are programmed in order by the configuration file property indexes, not in the order they appear in the configuration file. SCRs and firewalls that are not specified in the configuration file are locked without restricting the access to the registers they protect.</div><div id="wwpID0E0IR0HA" class="Body_Text">The security configuration files are kept at:</div><div id="wwpID0E0HR0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>For Jetson Xavier NX: <span class="Code_Char">./hardware/</span><span class="Code_Char" style="font-family: &quot;Cambria Math&quot;">​</span><span class="Code_Char">nvidia/</span><span class="Code_Char" style="font-family: &quot;Cambria Math&quot;">​</span><span class="Code_Char">platform/</span><span class="Code_Char" style="font-family: &quot;Cambria Math&quot;">​</span><span class="Code_Char">t19x/</span><span class="Code_Char" style="font-family: &quot;Cambria Math&quot;">​</span><span class="Code_Char">common/bct/</span><span class="Code_Char" style="font-family: &quot;Cambria Math&quot;">​</span><span class="Code_Char">scr/</span><span class="Code_Char" style="font-family: &quot;Cambria Math&quot;">​</span><span class="Code_Char">bct-scr-cbb-mini.cfg</span></div><div id="wwpID0E0GR0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>For Jetson AGX Xavier: <span class="Code_Char">./hardware/</span><span class="Code_Char" style="font-family: &quot;Cambria Math&quot;">​</span><span class="Code_Char">nvidia/</span><span class="Code_Char" style="font-family: &quot;Cambria Math&quot;">​</span><span class="Code_Char">platform/</span><span class="Code_Char" style="font-family: &quot;Cambria Math&quot;">​</span><span class="Code_Char">t19x/</span><span class="Code_Char" style="font-family: &quot;Cambria Math&quot;">​</span><span class="Code_Char">common/</span><span class="Code_Char" style="font-family: &quot;Cambria Math&quot;">​</span><span class="Code_Char">bct/</span><span class="Code_Char" style="font-family: &quot;Cambria Math&quot;">​</span><span class="Code_Char">scr/bct-scr-cbb-mini-p3668.cfg</span></div><div id="wwpID0E0FR0HA" class="Heading_5">Usage</div><div id="wwpID0E0ER0HA" class="Code">scr.&lt;reg_index\&gt;.&lt;exclusion-info&gt; = &lt;32-bit value&gt;;</div><div id="wwpID0E0DR0HA" class="Body_Text">Where:</div><div id="wwpID0E0CR0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>&lt;reg_index&gt; is the index of the SCR or firewall in the predefined list.</div><div id="wwpID0E0BR0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>&lt;exclusion-info&gt; is bit field:</div><div id="wwpID0E0AR0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Bit 0 = 1: Do not program in coldboot or SC7-exit.</div><div id="wwpID0E06Q0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Bit 1 = 1: Program in coldboot but skip in SC7-exit.</div><div id="wwpID0E05Q0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Bit 2 = 1: Program at end of MB2 instead of MB1.</div><div id="wwpID0E04Q0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Bits 3-7: Unused.</div><div id="wwpID0E03Q0HA" class="Heading_5">Example</div><div id="wwpID0E02Q0HA" class="Code">scr.161.7 = 0x3f008080; # TKE_AON_SCR_WDTSCR0_0</div><div id="wwpID0E01Q0HA" class="Code">scr.162.4 = 0x18000303; # DMAAPB_1_SCR_BR_INTR_SCR_0</div><div id="wwpID0E0ZQ0HA" class="Code">scr.163.4 = 0x18000303; # DMAAPB_1_SCR_BR_SCR_0</div><H4 id="wwpID0E0YQ0HA" class="Heading_4">GPIO Interrupt Mapping Configuration</H4><div id="wwpID0E0XQ0HA" class="Body_Text">To reduce the interrupt hunt time for GPIO pins from single ISR, each GPIO controller on T19x has eight interrupt lines to LIC. This enables you to map a GPIO pin to any of eight interrupts. Interrupt mapping is defined in the GPIO interrupt configuration file.</div><div id="wwpID0E0WQ0HA" class="Heading_5">Usage</div><div id="wwpID0E0VQ0HA" class="Code">gpio-intmap.port.&lt;port-name&gt;.pin.&lt;pin-id&gt; = &lt;interrupt-id&gt;;</div><div id="wwpID0E0UQ0HA" class="Body_Text">Where:</div><div id="wwpID0E0TQ0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">&lt;port-name&gt;</span> is the port name, e.g. <span class="Code_Char">A</span>, <span class="Code_Char">B</span>, <span class="Code_Char">C</span>, … <span class="Code_Char">Z</span>, <span class="Code_Char">AA</span>, or <span class="Code_Char">BB</span></div><div id="wwpID0E0SQ0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">&lt;pin-id&gt;</span> is the pin ID in the port. Valid values are 0-7.</div><div id="wwpID0E0RQ0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">&lt;interrupt-id&gt;</span> is interrupt route for that pin. Valid values are 0-7.</div><div id="wwpID0E0QQ0HA" class="Body_Text">The GPIO interrupt mapping configuration file is kept at:</div><div id="wwpID0E0PQ0HA" class="Code">./hardware/nvidia/platform/t19x/&lt;platform&gt;/bct/</div><div id="wwpID0E0OQ0HA" class="Heading_5">Example</div><div id="wwpID0E0NQ0HA" class="Code">gpio-intmap.port.B.pin.1 = 0; # GPIO B1 to INT0</div><div id="wwpID0E0MQ0HA" class="Code">gpio-intmap.port.AA.pin.0 = 0; # GPIO AA0 to INT0</div><div id="wwpID0E0LQ0HA" class="Code">gpio-intmap.port.AA.pin.1 = 0; # GPIO AA1 to INT0</div><div id="wwpID0E0KQ0HA" class="Code">gpio-intmap.port.AA.pin.2 = 0; # GPIO AA2 to INT0</div><H4 id="wwpID0E0JQ0HA" class="Heading_4">Storage Device Configuration</H4><div id="wwpID0E0IQ0HA" class="Body_Text">The Storage Device configuration file contains platform-specific settings for storage devices in MB1 and MB2.</div><div id="wwpID0E0HQ0HA" class="Body_Text">The storage device configuration file is kept at:</div><div id="wwpID0E0GQ0HA" class="Code">./hardware/nvidia/platform/t19x/&lt;platform&gt;/bct/</div><div id="wwpID0E0FQ0HA" class="Heading_5">Usage</div><div id="wwpID0E0EQ0HA" class="Code">device.&lt;storage-device&gt;.&lt;instance&gt;.&lt;parameter&gt; = &lt;value&gt;;</div><div id="wwpID0E0DQ0HA" class="Body_Text">Where:</div><div id="wwpID0E0CQ0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">&lt;storage-device&gt;</span> identifies the storage device controller: <span class="Code_Char">qspiflash</span>, <span class="Code_Char">ufs</span>, <span class="Code_Char">sdmmc</span>, or <span class="Code_Char">sata</span>.</div><div id="wwpID0E0BQ0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">&lt;instance&gt;</span> is the instance of the storage controller.</div><div id="wwpID0E0AQ0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">&lt;parameter&gt;</span> is a controller-specific parameter as shown below.</div><div id="wwpID0E06P0HA" class="Heading_5">QSPI Flash Parameters</div><div id="wwpID0E05P0HA" class="Body_Text">If <span class="Code_Char">&lt;storage-device&gt;=qspi</span>, <span class="Code_Char">&lt;parameter&gt;</span> may be:</div><div id="wwpID0E04P0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">clock-source-id</span>: Identifies the clock source. <span class="Code_Char">&lt;value&gt;</span> may be:</div><div id="wwpID0E03P0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>1: <span class="Code_Char">CLK_M</span></div><div id="wwpID0E02P0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>3: <span class="Code_Char">PLLP_OUT0</span></div><div id="wwpID0E01P0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>4: <span class="Code_Char">PLLM_OUT0</span></div><div id="wwpID0E0ZP0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>5: <span class="Code_Char">PLLC_OUT0</span></div><div id="wwpID0E0YP0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>6: <span class="Code_Char">PLLC4_MUXED</span></div><div id="wwpID0E0XP0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">clock-source-frequency</span>: Frequency of clock source, in Hertz.</div><div id="wwpID0E0WP0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">interface-frequency</span>: QSPI controller frequency, in Hertz.</div><div id="wwpID0E0VP0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">enable-ddr-mode</span>: Specifies QSPI data rate. <span class="Code_Char">&lt;value&gt;</span> may be:</div><div id="wwpID0E0UP0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>0: QSPI SDR mode</div><div id="wwpID0E0TP0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>1: QSPI DDR mode</div><div id="wwpID0E0SP0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">maximum-bus-width</span>: Maximum QSPI bus width. <span class="Code_Char">&lt;value&gt;</span> may be:</div><div id="wwpID0E0RP0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>0: QSPI x1 lane</div><div id="wwpID0E0QP0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>2: QSPI x4 lane</div><div id="wwpID0E0PP0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">fifo-access-mode</span>: Specifies FIFO access mode. <span class="Code_Char">&lt;value&gt;</span> may be:</div><div id="wwpID0E0OP0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>0: PIO mode</div><div id="wwpID0E0NP0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>1: DMA mode</div><div id="wwpID0E0MP0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">ready-dummy-cycle</span>: Number of dummy cycles per QSPI flash.</div><div id="wwpID0E0LP0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">trimmer1-val</span>: TX trimmer value.</div><div id="wwpID0E0KP0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">trimmer2-val</span>: RV trimmer value.</div><div id="wwpID0E0JP0HA" class="Heading_5">SDMMC parameters</div><div id="wwpID0E0IP0HA" class="Body_Text">If <span class="Code_Char">&lt;storage-device&gt;=sdmmc</span>, <span class="Code_Char">&lt;parameter&gt;</span> may be:</div><div id="wwpID0E0HP0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">clock-source-id</span>: SDMMC controller clock source.<span class="Code_Char"> &lt;value&gt;</span> may be:</div><div id="wwpID0E0GP0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>0: <span class="Code_Char">PLLP_OUT0</span></div><div id="wwpID0E0FP0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>1: <span class="Code_Char">PLLC4_OUT2_LJ</span></div><div id="wwpID0E0EP0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>2: <span class="Code_Char">PLLC4_OUT0_LJ</span></div><div id="wwpID0E0DP0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>3: <span class="Code_Char">PLLC4_OUT2</span></div><div id="wwpID0E0CP0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>4: <span class="Code_Char">PLLC4_OUT1</span></div><div id="wwpID0E0BP0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>5: <span class="Code_Char">PLLC4_OUT1_LJ</span></div><div id="wwpID0E0AP0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>6: <span class="Code_Char">CLK_M</span></div><div id="wwpID0E06O0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>7: <span class="Code_Char">PLLC4_VCO</span></div><div id="wwpID0E05O0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">clock-source-frequency</span>: Frequency of clock source (in Hz)/</div><div id="wwpID0E04O0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">best-mode</span>: Highest supported mode of operation. <span class="Code_Char">&lt;value&gt;</span> may be:</div><div id="wwpID0E03O0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>0: <span class="Code_Char">SDR26</span></div><div id="wwpID0E02O0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>1: <span class="Code_Char">DDR52</span></div><div id="wwpID0E01O0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>2: <span class="Code_Char">HS200</span></div><div id="wwpID0E0ZO0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>3: <span class="Code_Char">HS400</span></div><div id="wwpID0E0YO0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">pd-offset</span>: Pull-down offset.</div><div id="wwpID0E0XO0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">pu-offset</span>: Pull-up offset.</div><div id="wwpID0E0WO0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">enable-strobe-hs400</span>: Enable HS400 strobe.</div><div id="wwpID0E0VO0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">dqs-trim-hs400</span>: HS400 DQS trim value.</div><div id="wwpID0E0UO0HA" class="Heading_5">UFS parameters</div><div id="wwpID0E0TO0HA" class="Body_Text">If <span class="Code_Char">&lt;storage-device&gt;=ufs</span>, <span class="Code_Char">&lt;parameter&gt;</span> may be:</div><div id="wwpID0E0SO0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">max-hs-mode</span>: Highest HS mode supported by UFS device. <span class="Code_Char">&lt;value&gt;</span> may be:</div><div id="wwpID0E0RO0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>1: <span class="Code_Char">HS GEAR1</span></div><div id="wwpID0E0QO0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>2: <span class="Code_Char">HS GEAR2</span></div><div id="wwpID0E0PO0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>3: <span class="Code_Char">HS GEAR3</span></div><div id="wwpID0E0OO0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>max-pwm-mode: Highest PWM mode supported by UFS device. <span class="Code_Char">&lt;value&gt;</span> may be:</div><div id="wwpID0E0NO0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>1: <span class="Code_Char">PWM GEAR1</span></div><div id="wwpID0E0MO0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>2: <span class="Code_Char">PWM GEAR2</span></div><div id="wwpID0E0LO0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>3: <span class="Code_Char">PWM GEAR3</span></div><div id="wwpID0E0KO0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>4: <span class="Code_Char">PWM GEAR4</span></div><div id="wwpID0E0JO0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">max-active-lanes</span>: Maximum number of UFS lanes <span class="Code_Char">&lt;value&gt;</span> may be 1 or 2.</div><div id="wwpID0E0IO0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">page-align-size</span>: Alignment of pages used for UFS data structures (in bytes).</div><div id="wwpID0E0HO0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">enable-hs-mode</span>: Specifies whether to enable UFS HS modes.<span class="Code_Char"> &lt;value&gt;</span> may be:</div><div id="wwpID0E0GO0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>0: Disable</div><div id="wwpID0E0FO0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>1: Enable</div><div id="wwpID0E0EO0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">enable-fast-auto-mode</span>: Specifies whether to enable fast auto mode.<span class="Code_Char"> &lt;value&gt;</span> may be:</div><div id="wwpID0E0DO0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>0: Disable</div><div id="wwpID0E0CO0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>1: Enable</div><div id="wwpID0E0BO0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">enable-hs-rate-a</span>: Specifies whether to enable HS rate A.<span class="Code_Char"> &lt;value&gt;</span> may be:</div><div id="wwpID0E0AO0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>0: Disable</div><div id="wwpID0E06N0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>1: Enable</div><div id="wwpID0E05N0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">enable-hs-rate-b</span>: Specifies whether to enable HS rate B.<span class="Code_Char"> &lt;value&gt;</span> may be:</div><div id="wwpID0E04N0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>0: Disable</div><div id="wwpID0E03N0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>1: Enable</div><div id="wwpID0E02N0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">init-state</span>: Initial state of UFS device at MB1 entry. <span class="Code_Char">&lt;value&gt;</span> may be:</div><div id="wwpID0E01N0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>0: UFS not initialized by BootROM</div><div id="wwpID0E0ZN0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>1: UFS is initialized by BootROM (MB1 can skip certain steps)</div><div id="wwpID0E0YN0HA" class="Heading_5">SATA parameters</div><div id="wwpID0E0XN0HA" class="Body_Text">If <span class="Code_Char">&lt;storage-device&gt;=sata</span>, <span class="Code_Char">&lt;parameter&gt;</span> may be:</div><div id="wwpID0E0WN0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">transfer-speed</span>: Specifies transfer speed.<span class="Code_Char"> &lt;value&gt;</span> may be:</div><div id="wwpID0E0VN0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>0: GEN1</div><div id="wwpID0E0UN0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>1: GEN2</div><div id="wwpID0E0TN0HA" class="Heading_5">Example</div><div id="wwpID0E0SN0HA" class="Code"># QSPI flash 0</div><div id="wwpID0E0RN0HA" class="Code">device.qspiflash.0.clock-source-id = 6;</div><div id="wwpID0E0QN0HA" class="Code">device.qspiflash.0.clock-source-frequency = 13000000;</div><div id="wwpID0E0PN0HA" class="Code">device.qspiflash.0.interface-frequency = 13000000;</div><div id="wwpID0E0ON0HA" class="Code">device.qspiflash.0.enable-ddr-mode = 0;</div><div id="wwpID0E0NN0HA" class="Code">device.qspiflash.0.maximum-bus-width = 2;</div><div id="wwpID0E0MN0HA" class="Code">device.qspiflash.0.fifo-access-mode = 1;</div><div id="wwpID0E0LN0HA" class="Code">device.qspiflash.0.read-dummy-cycle = 8;</div><div id="wwpID0E0KN0HA" class="Code">device.qspiflash.0.trimmer1-val = 0;</div><div id="wwpID0E0JN0HA" class="Code">device.qspiflash.0.trimmer2-val = 0;</div><div id="wwpID0E0IN0HA" class="Code"># Sdmmc 3</div><div id="wwpID0E0HN0HA" class="Code">device.sdmmc.3.clock-source-id = 3; #PLLP_OUT0</div><div id="wwpID0E0GN0HA" class="Code">device.sdmmc.3.clock-source-frequency = 52000000;</div><div id="wwpID0E0FN0HA" class="Code">device.sdmmc.3.best-mode = 3; #1=DDR52, 3=HS400</div><div id="wwpID0E0EN0HA" class="Code">device.sdmmc.3.pd-offset = 0;</div><div id="wwpID0E0DN0HA" class="Code">device.sdmmc.3.pu-offset = 0;</div><div id="wwpID0E0CN0HA" class="Code">device.sdmmc.3.enable-strobe-hs400 = 0;</div><div id="wwpID0E0BN0HA" class="Code">device.sdmmc.3.dqs-trim-hs400 = 0;</div><div id="wwpID0E0AN0HA" class="Code"># Ufs 0</div><div id="wwpID0E06M0HA" class="Code">device.ufs.0.max-hs-mode = 3;</div><div id="wwpID0E05M0HA" class="Code">device.ufs.0.max-pwm-mode = 4;</div><div id="wwpID0E04M0HA" class="Code">device.ufs.0.max-active-lanes = 2;</div><div id="wwpID0E03M0HA" class="Code">device.ufs.0.page-align-size = 4096;</div><div id="wwpID0E02M0HA" class="Code">device.ufs.0.enable-hs-mode = 1;</div><div id="wwpID0E01M0HA" class="Code">device.ufs.0.enable-fast-auto-mode = 0;</div><div id="wwpID0E0ZM0HA" class="Code">device.ufs.0.enable-hs-rate-b = 1;</div><div id="wwpID0E0YM0HA" class="Code">device.ufs.0.enable-hs-rate-a = 0;</div><div id="wwpID0E0XM0HA" class="Code">device.ufs.0.init-state = 0;</div><H4 id="wwpID0E0WM0HA" class="Heading_4">UPHY Lane Configuration</H4><div id="wwpID0E0VM0HA" class="Body_Text">UPHY lanes can be configured to be owned by various IP's like XUSB, SATA, MPHY, PCIE, NVLINK, etc. MB1 supports SATA and UFS as boot devices for which UPHY lanes must be configured to access the storage in MB1 and MB2. This file defines UPHY lane configuration for MB1.</div><div id="wwpID0E0UM0HA" class="Body_Text">After MB2, bootloader loads the BPMP firmware (BPMP-FW), which can keep the configuration programmed by MB1 and do additional lane configuration to support other clients. The lane configuration defined in this file does not apply to BPMP-FW.</div><div id="wwpID0E0TM0HA" class="Body_Text">The UPHY lane configurations are kept at:</div><div id="wwpID0E0SM0HA" class="Code">./hardware/nvidia/platform/t19x/&lt;platform&gt;/bct/</div><div id="wwpID0E0RM0HA" class="Heading_5">Usage</div><div id="wwpID0E0QM0HA" class="Code">uphy-lane.&lt;instance-type&gt;.&lt;uphy-component&gt;.&lt;id&gt; = &lt;owner-id&gt; </div><div id="wwpID0E0PM0HA" class="Body_Text">Where:</div><div id="wwpID0E0OM0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">&lt;instance-type&gt;</span> is the type of UPHY which needs to be configured. It may be <span class="Code_Char">hsio</span> or <span class="Code_Char">nvhs</span>.</div><div id="wwpID0E0NM0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">&lt;uphy-component&gt;</span> specifies whether this setting configures lane or PLL. It may be <span class="Code_Char">lane</span> or <span class="Code_Char">pll</span>.</div><div id="wwpID0E0MM0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">&lt;id&gt;</span> is the lane or PLL number to be configured.</div><div id="wwpID0E0LM0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">&lt;owner-id&gt;</span> is the unique ID of the owner to which lane or PLL is assigned.</div><div id="wwpID0E0KM0HA" class="Heading_5">Example</div><div id="wwpID0E0JM0HA" class="Code">#UPHY</div><div id="wwpID0E0IM0HA" class="Code">uphy-lane.hsio.lane.10 = 2;</div><div id="wwpID0E0HM0HA" class="Code">uphy-lane.hsio.lane.11 = 1;</div><div id="wwpID0E0GM0HA" class="Body_Text">&nbsp;</div><H4 id="wwpID0E0FM0HA" class="Heading_4">OEM-FW Ratchet Configuration</H4><div id="wwpID0E0EM0HA" class="Body_Text">Ratcheting is a mechanism which prevents loading of an old version of firmware. It is governed by the OEM-FW ratchet version, kept in the boot configuration table (BCT).</div><div id="wwpID0E0DM0HA" class="Body_Text">The ratchet version of a firmware component is incremented after security bugs are fixed. Before MB1 loads the component, it compares the component’s ratchet version to the version stored in the Boot Component Header (BCH) of the software. If the version in the BCH is lower than the ratchet version number in the BCT, MB1 will not load the firmware.</div><div id="wwpID0E0CM0HA" class="Body_Text">The ratchet configuration file is kept at:</div><div id="wwpID0E0BM0HA" class="Code">./hardware/nvidia/platform/t19x/&lt;platform&gt;/bct/ratchet</div><div id="wwpID0E0AM0HA" class="Heading_5">Usage</div><div id="wwpID0E06L0HA" class="Code">ratchet.&lt;fw_index&gt;.&lt;loader_name&gt;.&lt;fw_name&gt; = &lt;ratchet_value&gt; </div><div id="wwpID0E05L0HA" class="Body_Text">Where:</div><div id="wwpID0E04L0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">&lt;fw_index&gt;</span> is the unique index for an OEM-FW component.</div><div id="wwpID0E03L0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">&lt;loader_name&gt;</span> is the name of the boot stage binary which loads firmware corresponding to <span class="Code_Char">&lt;fw_index&gt;</span>.</div><div id="wwpID0E02L0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">&lt;fw_name&gt;</span> is the name of the firmware.</div><div id="wwpID0E01L0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">&lt;ratchet_value&gt;</span> is the ratchet version number for the firmware.</div><div id="wwpID0E0ZL0HA" class="Heading_5">Example</div><div id="wwpID0E0YL0HA" class="Code">#ratchet</div><div id="wwpID0E0XL0HA" class="Code">ratchet.1.mb1.mb1bct = 3;</div><div id="wwpID0E0WL0HA" class="Code">ratchet.2.mb1.spefw = 0;</div><div id="wwpID0E0VL0HA" class="Code">ratchet.11.mb2.cpubl = 5;</div><H4 id="wwpID0E0UL0HA" class="Heading_4">BootROM Reset PMIC Configuration</H4><div id="wwpID0E0TL0HA" class="Body_Text">Some T194 platforms may require BootROM to bring PMIC rails to OTP values in L1 and L2 reset boot paths. This is done by issuing I2C commands, which are encoded in AO scratch registers by MB1 based on the BootROM reset configuration in the MB1 BCT.</div><div id="wwpID0E0SL0HA" class="Body_Text">The reset cases where the BootROM issues these commands include:</div><div id="wwpID0E0RL0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Watchdog 5 expiry</div><div id="wwpID0E0QL0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Watchdog 4 expiry</div><div id="wwpID0E0PL0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>SC7 exit</div><div id="wwpID0E0OL0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>SC8 exit</div><div id="wwpID0E0NL0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>SW-Reset</div><div id="wwpID0E0ML0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>AO-Tag/sensor reset</div><div id="wwpID0E0LL0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>VF Sensor reset</div><div id="wwpID0E0KL0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>HSM reset</div><div id="wwpID0E0JL0HA" class="Body_Text">Each reset case can have three sets of AO blocks of commands. Each AO block can have multiple blocks and each block can have multiple commands.</div><div id="wwpID0E0IL0HA" class="Body_Text">In the configuration file, AO blocks are specified first, then all the reset conditions are initialized with the ID of the AO blocks.</div><div id="wwpID0E0HL0HA" class="Heading_5">Usage for Specifying AO Blocks</div><div id="wwpID0E0GL0HA" class="Code">bootrom.&lt;parameter&gt; = &lt;value&gt;;</div><div id="wwpID0E0FL0HA" class="Body_Text">Where <span class="Code_Char">&lt;parameter&gt;</span> is one of:</div><div id="wwpID0E0EL0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">aoblock-count</span>: Number of AO blocks mentioned in the file.</div><div id="wwpID0E0DL0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">aoblock[&lt;aoblock-index&gt;].command-retries-count</span>: Specifies the number of command attempts allowed for the specified AO block.</div><div id="wwpID0E0CL0HA" class="List_Continue"><span class="Code_Char">&lt;aoblock-index&gt;</span> identifies the specified AO block, counting from zero.</div><div id="wwpID0E0BL0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">aoblock[&lt;aoblock-index&gt;].delay-between-command-us</span>: Specifies the delay between commands, in microseconds. The delay is 1&lt;&lt;<span class="Emphasis">n</span> microseconds, where <span class="Emphasis">n</span> is the value of this parameter.</div><div id="wwpID0E0AL0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">aoblock[&lt;aoblock-index&gt;].wait-before-start-bus-clear-us</span>: Specifies the wait timeout before issuing the bus clear command for given AO block, in microseconds. The wait time is 1&lt;&lt;<span class="Emphasis">n</span> microseconds, where <span class="Emphasis">n</span> is the value of this parameter.</div><div id="wwpID0E06K0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">aoblock[&lt;aoblock-index&gt;].block-count</span>: Specifies the number of blocks in the AO block.</div><div id="wwpID0E05K0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">aoblock[&lt;aoblock-index&gt;].block[&lt;block-index&gt;].type</span>: Must be <span class="Code_Char">−1</span>, indicating an I2C command block,</div><div id="wwpID0E04K0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">aoblock[&lt;aoblock-index&gt;].block[&lt;block-index&gt;].count</span>: Specifies the number of commands in the block.</div><div id="wwpID0E03K0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">aoblock[&lt;aoblock-index&gt;].block[&lt;block-index&gt;].i2c-controller-id</span>: Identifies the I2C controller instance.</div><div id="wwpID0E02K0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">aoblock[&lt;aoblock-index&gt;].block[&lt;block-index&gt;].slave-add</span>: A 7‑bit I2C slave address.</div><div id="wwpID0E01K0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">aoblock[&lt;aoblock-index&gt;].block[&lt;block-index&gt;].reg-data-size</span>: Register size in bits. Valid values are 0 (one byte), 8 (one byte), and 16 (two byte).</div><div id="wwpID0E0ZK0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">aoblock[&lt;aoblock-index&gt;].block[&lt;block-index&gt;].reg-add-size</span>: Register address size in bits. Valid values are 0 (one byte), 8 (one byte), and 16 (two byte).</div><div id="wwpID0E0YK0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">aoblock[&lt;aoblock-index&gt;].block[&lt;block-index&gt;].commands[&lt;command-index&gt;].&lt;reg-addr&gt;</span>: Value to be written to the I2c slave register address <span class="Code_Char">&lt;reg-addr&gt;</span> for the command indexed by <span class="Code_Char">&lt;command-index&gt;</span>.</div><div id="wwpID0E0XK0HA" class="Heading_5">Usage for Specifying Reset Type to AO Block Mapping</div><div id="wwpID0E0WK0HA" class="Body_Text">The reset types are mapped to previously declared AO blocks using lines of the form:</div><div id="wwpID0E0VK0HA" class="Code">bootrom.&lt;reset-name&gt;.aocommand[&lt;AO-command-index&gt;] = &lt;AO-block-ID&gt;;</div><div id="wwpID0E0UK0HA" class="Body_Text">Where:</div><div id="wwpID0E0TK0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">&lt;reset-name&gt;</span> specifies the reset type. It must have one of the values <span class="Code_Char">watchdog5</span>, <span class="Code_Char">watchdog4</span>, <span class="Code_Char">sc7</span>, <span class="Code_Char">sc8</span>, <span class="Code_Char">soft-reset</span>, <span class="Code_Char">sensor-aotag</span>, <span class="Code_Char">vfsensor</span>, or <span class="Code_Char">hsm</span>.</div><div id="wwpID0E0SK0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">&lt;AO-command-index&gt;</span> is the index of the AO command. It must be 0, 1 or 2.</div><div id="wwpID0E0RK0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">&lt;AO-block-ID&gt;</span> is one of the <span class="Code_Char">&lt;aoblock-index&gt;</span> values defined in an AO block specification (above).</div><div id="wwpID0E0QK0HA" class="Heading_5">Example</div><div id="wwpID0E0PK0HA" class="Code">bootrom.aoblock-count = 2;</div><div id="wwpID0E0OK0HA" class="Code"># Automatic power cycling: Set MAX77620</div><div id="wwpID0E0NK0HA" class="Code"># Register ONOFFCNFG2, bit SFT_RST_WK = 1 (default is "0" after cold boot),</div><div id="wwpID0E0MK0HA" class="Code"># Register ONOFFCNFG1, bit SFT_RST = 1</div><div id="wwpID0E0LK0HA" class="Code">bootrom.aoblock[0].command-retries-count = 1;</div><div id="wwpID0E0KK0HA" class="Code">bootrom.aoblock[0].delay-between-commands-us = 1;</div><div id="wwpID0E0JK0HA" class="Code">bootrom.aoblock[0].wait-before-start-bus-clear-us = 1;</div><div id="wwpID0E0IK0HA" class="Code">bootrom.aoblock[0].block-count  = 1;</div><div id="wwpID0E0HK0HA" class="Code">bootrom.aoblock[0].block[0].type = 1; # I2C Type</div><div id="wwpID0E0GK0HA" class="Code">bootrom.aoblock[0].block[0].slave-add = 0x3c; # 7BIt:0x3c</div><div id="wwpID0E0FK0HA" class="Code">bootrom.aoblock[0].block[0].reg-data-size = 8;</div><div id="wwpID0E0EK0HA" class="Code">bootrom.aoblock[0].block[0].reg-add-size = 8;</div><div id="wwpID0E0DK0HA" class="Code">bootrom.aoblock[0].block[0].count = 2;</div><div id="wwpID0E0CK0HA" class="Code">bootrom.aoblock[0].block[0].commands[0].0x42 = 0xda;</div><div id="wwpID0E0BK0HA" class="Code">bootrom.aoblock[0].block[0].commands[1].0x41 = 0xf8;</div><div id="wwpID0E0AK0HA" class="Code"># Shutdown: Set MAX77620</div><div id="wwpID0E06J0HA" class="Code"># Register ONOFFCNFG2, bit SFT_RST_WK = 0</div><div id="wwpID0E05J0HA" class="Code"># Register ONOFFCNFG1, bit SFT_RST = 1</div><div id="wwpID0E04J0HA" class="Code">bootrom.aoblock[1].command-retries-count = 1;</div><div id="wwpID0E03J0HA" class="Code">bootrom.aoblock[1].delay-between-commands-us = 1;</div><div id="wwpID0E02J0HA" class="Code">bootrom.aoblock[1].wait-before-start-bus-clear-us = 1;</div><div id="wwpID0E01J0HA" class="Code">bootrom.aoblock[1].block-count  = 1;</div><div id="wwpID0E0ZJ0HA" class="Code">bootrom.aoblock[1].block[0].type = 1; # I2C Type</div><div id="wwpID0E0YJ0HA" class="Code">bootrom.aoblock[1].block[0].slave-add = 0x3c; # 7BIt:0x3c</div><div id="wwpID0E0XJ0HA" class="Code">bootrom.aoblock[1].block[0].reg-data-size = 8;</div><div id="wwpID0E0WJ0HA" class="Code">bootrom.aoblock[1].block[0].reg-add-size = 8;</div><div id="wwpID0E0VJ0HA" class="Code">bootrom.aoblock[1].block[0].count = 2;</div><div id="wwpID0E0UJ0HA" class="Code">bootrom.aoblock[1].block[0].commands[0].0x42 = 0x5a;</div><div id="wwpID0E0TJ0HA" class="Code">bootrom.aoblock[1].block[0].commands[1].0x41 = 0xf8;</div><div id="wwpID0E0SJ0HA" class="Code"># Shutdown in sensor/ao-tag</div><div id="wwpID0E0RJ0HA" class="Code">#reset in soft reset.</div><div id="wwpID0E0QJ0HA" class="Code"># no commands for other case</div><div id="wwpID0E0PJ0HA" class="Code">bootrom.sensor-aotag.aocommand[0] = 1;</div><div id="wwpID0E0OJ0HA" class="Code">bootrom.soft-reset.aocommand[0] = 0;</div><H4 id="wwpID0E0NJ0HA" class="Heading_4">Miscellaneous Configurations</H4><div id="wwpID0E0MJ0HA" class="Body_Text">Settings that do not fit into another category are specified in the miscellaneous configuration file.</div><div id="wwpID0E0LJ0HA" class="Body_Text">The miscellaneous configuration files are kept at:</div><div id="wwpID0E0KJ0HA" class="Code">./bct/t194/misc/</div><div id="wwpID0E0JJ0HA" class="Heading_5">Usage</div><div id="wwpID0E0IJ0HA" class="Body_Text">Most of the groups of properties in are set by parameters in this form:</div><div id="wwpID0E0HJ0HA" class="Code">&lt;feature&gt; = &lt;value&gt;;</div><div id="wwpID0E0GJ0HA" class="Body_Text">Most of the properties set Boolean flags that enable or disable certain functionality in MB1. The properties are described below by category.</div><div id="wwpID0E0FJ0HA" class="Heading_5">MB1 Feature Properties</div><div id="wwpID0E0EJ0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">disable_spe</span>: Boolean; enables or disables MB1 loading of SPE-FW.</div><div id="wwpID0E0DJ0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">enable_dram_page_blacklisting</span>: Boolean; enables or disables the DRAM ECC page DenyListing feature.</div><div id="wwpID0E0CJ0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">disable_sc7</span>: Boolean; enables or disables SC7-entry/exit support.</div><div id="wwpID0E0BJ0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">disable_fuse_visibility</span>: Boolean; enables or disables fuse visibility. When fuse visibility is disabled, certain fuses are not visible and so cannot be read or written. Some fuses are enabled by default, others disabled.</div><div id="wwpID0E0AJ0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">enable_vpr_resize</span>: Boolean; enables or disables the video protected region (VPR) resize feature.</div><div id="wwpID0E06I0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>0: Disable; VPR carveout is allocated based on the <span class="Code_Char">McVideoProtectSizeMb</span> and <span class="Code_Char">McVideoProtectWriteAccess</span> properties in the SDRAM configuration file.</div><div id="wwpID0E05I0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>1: Enable; VPR carveout is allocated by MB1, and TZ write access to VPR carveout is enabled.</div><div id="wwpID0E04I0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">l2_mss_encrypt_regeneration</span>: Specifies which MSS encryption keys are to be regenerated for carveouts on L2 RAMDUMP reset.</div><div id="wwpID0E03I0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Bit 1: 1 = regenerate TZDRAM keys</div><div id="wwpID0E02I0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Bit 2: 1 = regenerate VPR keys</div><div id="wwpID0E01I0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Bit 3: 1 = regenerate GSC keys</div><div id="wwpID0E0ZI0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">disable_mb2_glitch_protection</span>: Boolean; enables or disable checks on DCLS faults, TCM parity error, TCM, and cache ECC. Possible values are:</div><div id="wwpID0E0YI0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>0: Enable checks</div><div id="wwpID0E0XI0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>1: Disable checks</div><div id="wwpID0E0WI0HA" class="List_Continue">Note that a value of 0 <span class="Emphasis">enables</span> checks, and 1 <span class="Emphasis">disables</span> them. That is why the property name begins with “disable.”</div><div id="wwpID0E0VI0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">enable_dram_error_injection</span>: Boolean; enables or disables DRAM error injection tests.</div><div id="wwpID0E0UI0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">enable_dram_staged_scrubbing</span>: Boolean; enables or disables staged DRAM scrubbing.</div><div id="wwpID0E0TI0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>0: Disabled; if DRAM ECC is enabled, scrub the entire DRAM.</div><div id="wwpID0E0SI0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>1: Enabled; if DRAM ECC is enabled, scrub DRAM in stages. Each BL is responsible for the DRAM portions that it uses.</div><div id="wwpID0E0RI0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">wait_for_debugger_connection</span>: Boolean; enables or disables waiting for a debugger connection.</div><div id="wwpID0E0QI0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>0: Disabled; don't wait for a debugger connection at end of MB1.</div><div id="wwpID0E0PI0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>1: Enabled; spin in a <span class="Code_Char">while(1)</span> loop at end of MB1 until debugger connection occurs.</div><div id="wwpID0E0OI0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">pmc_rst_req_cfg</span><span style="color: #000000">: </span></div><div id="wwpID0E0NI0HA" class="Heading_5">MB2 Feature Properties</div><div id="wwpID0E0MI0HA" class="Body_Text">These properties configure certain features of MB2. Although they apply to MB2 rather than MB1, they are documented here because they are defined in the miscellaneous configuration file along with several groups of MB1 properties.</div><div id="wwpID0E0LI0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">disable_cpu_l2ecc</span>: Boolean; enables or disables CPU L2-ECC.</div><div id="wwpID0E0KI0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">enable_sce</span>: Boolean; enables or disables loading of SCE-FW by MB2.</div><div id="wwpID0E0JI0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">enable_rce</span>: Boolean; enables or disables loading of RCE-FW by MB2.</div><div id="wwpID0E0II0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">enable_ape</span>: Boolean; enables or disables loading of APE-FW by MB2.</div><div id="wwpID0E0HI0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">enable_combined_uart</span>: Boolean; enables or disables the combined UART feature in MB2.</div><div id="wwpID0E0GI0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">enable_emmc_send_cmd0_cmd1</span>: Boolean; controls whether to send CMD0 and CMD1 to the SDMMC4 controller in MB2. This feature can be used to optimize SDMMC4 initialization in CPU-BL.</div><div id="wwpID0E0FI0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>0: Don't send SDMMC4 CMD0/CMD1.</div><div id="wwpID0E0EI0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>1: Send SDMMC4 CMD0/CMD1.</div><div id="wwpID0E0DI0HA" class="Heading_5">AOTAG Properties</div><div id="wwpID0E0CI0HA" class="Body_Text">MB1 uses AOTAG (<span class="Strong">Always-on thermal alarm generator</span>) for thermal protection during boot. These properties control the knobs for AOTAG.</div><div id="wwpID0E0BI0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">aotag.boot_temp_threshold</span>: Boot temperature threshold in units of 0.001°&nbsp;C. If the SoC temperature measured at the <span class="Code_Char">AOTAG</span> sensor is higher than the temperature specified in this field, MB1 waits or shuts down the device.</div><div id="wwpID0E0AI0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">aotag.enable_shutdown</span>: Boolean; specifies ction to take if boot temperate exceeds <span class="Code_Char">aotag.boot_temp_threshold</span>.</div><div id="wwpID0E06H0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>0: Wait in boot.</div><div id="wwpID0E05H0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>1: Enable shutdown using AOTAG.</div><div id="wwpID0E04H0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">aotag.cooldown_temp_threshold</span>: Cooldown temperature threshold in units of 0.001°&nbsp;C. MB1 resumes booting when the device cools down to this temperature.</div><div id="wwpID0E03H0HA" class="Heading_5">Clock Properties</div><div id="wwpID0E02H0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">clock.bpmp_cpu_nic_divider</span>: Controls programming of the BPMP CPU frequency through <span class="Code_Char">CLK_SOURCE_BPMP_CPU_NIC[BPMP_CPU_NIC_CLK_DIVISOR]</span>.</div><div id="wwpID0E01H0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>0: Do not program.</div><div id="wwpID0E0ZH0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>non-zero: Program to this value minus 1.</div><div id="wwpID0E0YH0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">clock.bpmp_apb_divider</span>: Controls programming of the BPMP APB frequency through <span class="Code_Char">CLK_SOURCE_BPMP_APB[BPMP_APB_CLK_DIVISOR]</span>.</div><div id="wwpID0E0XH0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>0: Do not program.</div><div id="wwpID0E0WH0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>non-zero: Program to this value minus 1.</div><div id="wwpID0E0VH0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">clock.axi_cbb_divider</span>: Controls programming of the control backbone (CBB) frequency through <span class="Code_Char">CLK_SOURCE_AXI_CBB[AXI_CBB_CLK_DIVISOR]</span>.</div><div id="wwpID0E0UH0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>0: Do not program.</div><div id="wwpID0E0TH0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>non-zero: Program to this value minus 1.</div><div id="wwpID0E0SH0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">clock.se_divider</span>: Controls programming of the security engine (SE) frequency through <span class="Code_Char">CLK_SOURCE_SE[SE_CLK_DIVISOR]</span>.</div><div id="wwpID0E0RH0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>0: Do not program.</div><div id="wwpID0E0QH0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>non-zero: Program to this value minus 1.</div><div id="wwpID0E0PH0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">clock.aon_cpu_nic_divider</span>: Controls programming of the AON/SPE CPU frequency through <span class="Code_Char">CLK_SOURCE_AON_CPU_NIC[AON_CPU_NIC_CLK_DIVISOR]</span>.</div><div id="wwpID0E0OH0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>0: Do not program.</div><div id="wwpID0E0NH0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>non-zero: Program to this value minus 1.</div><div id="wwpID0E0MH0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">clock.aon_apb_divider</span>: Controls programming of the AON APB frequency through <span class="Code_Char">CLK_SOURCE_AON_CPU_NIC[AON_CPU_NIC_CLK_DIVISOR]</span>.</div><div id="wwpID0E0LH0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>0: Do not program.</div><div id="wwpID0E0KH0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>non-zero: Program to this value minus 1.</div><div id="wwpID0E0JH0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">clock.aon_can0_divider</span>: Controls programming of the AON CAN1 frequency through <span class="Code_Char">CLK_SOURCE_CAN1[CAN1_CLK_DIVISOR]</span>.</div><div id="wwpID0E0IH0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>0: Do not program.</div><div id="wwpID0E0HH0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>non-zero: Program to this value minus 1.</div><div id="wwpID0E0GH0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">clock.aon_can1_divider</span>: Controls AON CAN2 frequency through <span class="Code_Char">CLK_SOURCE_CAN2[CAN2_CLK_DIVISOR]</span>.</div><div id="wwpID0E0FH0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>0: Do not program.</div><div id="wwpID0E0EH0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>non-zero: Program to this value minus 1.</div><div id="wwpID0E0DH0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">clock.osc_drive_strength</span>: Oscillator drive strength.</div><div id="wwpID0E0CH0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">clock.pllaon_divn</span>: Specifies DIVN value of <span class="Code_Char">PLLAON</span>.</div><div id="wwpID0E0BH0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>0: Use <span class="Code_Char">PLLAON_DIVN = 30</span>, <span class="Code_Char">PLLAON_DIVM = 1</span>, and <span class="Code_Char">PLLAON_DIVP = 2</span>.</div><div id="wwpID0E0AH0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>non-zero: Program <span class="Code_Char">PLLAON_BASE[PLLAON_DIVN]</span> to this value minus 1.</div><div id="wwpID0E06G0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">clock.pllaon_divm</span>: Controls DIVM value of PLLAON through <span class="Code_Char">PLLAON_BASE[PLLAON_DIVM]</span>.</div><div id="wwpID0E05G0HA" class="List_Continue">Sets <span class="Code_Char">PLLAON_BASE[PLLAON_DIVM]</span> to this value minus 1.</div><div id="wwpID0E04G0HA" class="List_Continue">Ignored when <span class="Code_Char">clock.pllaon_divn = 0</span>.</div><div id="wwpID0E03G0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">clock.pllaon_divp</span>: Controls DIVP value of PLLAON through <span class="Code_Char">PLLAON_BASE[PLLAON_DIVP]</span>.</div><div id="wwpID0E02G0HA" class="List_Continue">Sets <span class="Code_Char">PLLAON_BASE[PLLAON_DIVP]</span> to this value minus 1.</div><div id="wwpID0E01G0HA" class="List_Continue">Ignored when <span class="Code_Char">clock.pllaon_divn = 0</span>.</div><div id="wwpID0E0ZG0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">clock.pllaon_divn_frac</span>: Value to be programmed in <span class="Code_Char">PLLAON_MISC_1[PLLAON_DIVN_FRAC]</span>.</div><div id="wwpID0E0YG0HA" class="Heading_5">MB1/MB2 AST Properties</div><div id="wwpID0E0XG0HA" class="Body_Text">MB1 and MB2 use the address-translation (AST) module to map the DRAM carveout for different firmware components into the 32‑bit virtual address space of the various auxiliary processor clusters.</div><div id="wwpID0E0WG0HA" class="Body_Text">These properties are read by MB1 and configure the use of AST for both MB1 and MB2.</div><div id="wwpID0E0VG0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">ast.mb2_va</span>: Virtual address for the MB2 carveout in BPMP-R5 address space.</div><div id="wwpID0E0UG0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">ast.spe_fw_va</span>: Virtual address for the SPE-FW carveout in AON-R5 address space.</div><div id="wwpID0E0TG0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">ast.misc_carveout_va</span>: Virtual address for the MISC carveout in SCE-R5 address space.</div><div id="wwpID0E0SG0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">ast.rcm_blob_carveout_va</span>: Virtual address for the RCM-blob carveout in SCE-R5 address space.</div><div id="wwpID0E0RG0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">ast.temp_map_a_carveout_va</span>: Virtual address for temporary mapping A used while loading binaries.</div><div id="wwpID0E0QG0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">ast.temp_map_a_carveout_size</span>: Size for temporary mapping A used while loading binaries.</div><div id="wwpID0E0PG0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">ast.temp_map_a_carveout_va</span>: Virtual address for temporary mapping B used while loading binaries.</div><div id="wwpID0E0OG0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">ast.temp_map_a_carveout_size</span>: Size for temporary mapping B used while loading binaries.</div><div class="ww_skin_page_overflow"><table class="Table_Normal" style="margin-left: 42.6pt" cellspacing="0" summary=""><tr><td style="background-color: #76B900; background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top; width: 49.5pt"><div id="wwpID0EABA0NG0HA" class="Note_Image">Note:</div></td><td style="background-color: #DDEEBF; background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top; width: 324.9pt"><div id="wwpID0ECAA0NG0HA" class="Note_Text">None of the virtual address spaces above may overlap with the MMIO region or with each other.</div><div id="wwpID0EBAA0NG0HA" class="Note_Text">All size properties must be powers of 2.</div><div id="wwpID0EAAA0NG0HA" class="Note_Text">All virtual address properties must be aligned to their mapping/carveouts.</div></td></tr></table></div><div id="wwpID0E0MG0HA" class="Heading_5">MB2 AST Properties</div><div id="wwpID0E0LG0HA" class="Body_Text">MB1 and MB2 use the address-translation (AST) module to map the DRAM carveout for different firmware components into the 32‑bit virtual address space of the various auxiliary processor clusters. These properties configure MB2’s use of AST.</div><div id="wwpID0E0KG0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">carveout.ape_ast_va</span>: Virtual address for the APE carveout in BPMP-R5 address space.</div><div id="wwpID0E0JG0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">carveout.apr_ast_va</span>: Virtual address for the APR carveout in BPMP-R5 address space.</div><div id="wwpID0E0IG0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">carveout.bpmp_ast_va</span>: Virtual address for the BPMP carveout in BPMP-R5 address space.</div><div id="wwpID0E0HG0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">carveout.sce_ast_va</span>: Virtual address for the SCE carveout in BPMP-R5 address space.</div><div id="wwpID0E0GG0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">carveout.rce_ast_va</span>: Virtual address for the RCE carveout in BPMP-R5 address space.</div><div id="wwpID0E0FG0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">carveout.camera_task_ast_va</span>: Virtual address for the Camera Task carveout in BPMP-R5 address space.</div><div id="wwpID0E0EG0HA" class="Heading_5">Memory Controller (MC) Carveout Properties</div><div id="wwpID0E0DG0HA" class="Body_Text">Although the SDRAM configuration file specifies the MC carveout's preferred base, size, and permissions, it does not provide all information required for MB1 to allocate the carveouts. The miscellaneous configuration file specifies the additional information required.</div><div id="wwpID0E0CG0HA" class="Body_Text">For carveouts that are not protected by MC, all information (including size and preferred base address) is specified by the miscellaneous configuration file.</div><div id="wwpID0E0BG0HA" class="Body_Text">MC carveout properties are set by parameters in the form:</div><div id="wwpID0E0AG0HA" class="Code">carveout.&lt;carveout-type&gt;.&lt;parameter&gt; = &lt;value&gt;;</div><div id="wwpID0E06F0HA" class="Body_Text">Where:</div><div id="wwpID0E05F0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">&lt;carveout-type&gt;</span> identifies the carveout, and must be one of:</div><div id="wwpID0E04F0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">gsc[1-31]</span>: GSC carveout for various purposes.</div><div id="wwpID0E03F0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">mts</span>: MTS/CPU-uCode carveout.</div><div id="wwpID0E02F0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">vpr</span>: VPR carveout.</div><div id="wwpID0E01F0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">tzdram</span>: TZDRAM carveout used for SecureOS.</div><div id="wwpID0E0ZF0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">mb2</span>: MB2 carveout used for executing MB2 (a temporary boot carveout).</div><div id="wwpID0E0YF0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">cpubl</span>: CPU-BL carveout used for executing MB2 (a temporary boot carveout).</div><div id="wwpID0E0XF0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">misc</span>: Miscellaneous carveout used for various data structures shared across boot stages.</div><div id="wwpID0E0WF0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">os</span>: OS carveout used for loading the OS kernel.</div><div id="wwpID0E0VF0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">rcm</span>: RCM carveout used for loading the RCM-blob during RCM mode (a temporary boot carveout).</div><div id="wwpID0E0UF0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">&lt;parameter&gt;</span> is one of the following parameters:</div><div id="wwpID0E0TF0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">pref_base</span>: Preferred base address of carveout.</div><div id="wwpID0E0SF0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">size</span>: Size of carveout in bytes.</div><div id="wwpID0E0RF0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">alignment</span>: Alignment of base address of carveout in bytes.</div><div id="wwpID0E0QF0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">ecc_protected</span>: When DRAM region-based ECC is enabled and there are non-ECC protected DRAM regions, specifies whether to allocate the carveout from the ECC protected region.</div><div id="wwpID0E0PF0HA" class="List_Bullet_3"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>0: Allocate from non-ECC protected region.</div><div id="wwpID0E0OF0HA" class="List_Bullet_3"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>1: Allocate from ECC protected region.</div><div id="wwpID0E0NF0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">bad_page_tolerant</span>: When DRAM page DenyListing is enabled, specifies whether bad pages are allowed in the carveout. This is possible only for very large carveouts which are handled completely by a component that can avoid bad pages using SMMU/MMU.</div><div id="wwpID0E0MF0HA" class="List_Bullet_3"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>0: Bad pages are not allowed for the carveout.</div><div id="wwpID0E0LF0HA" class="List_Bullet_3"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>1: Bad pages are allowed for the carveout. (Allocation can be done without filtering bad pages.)</div><div id="wwpID0E0KF0HA" class="Body_Text">Valid combinations of carveouts and their parameters are shown in the following table.</div><div class="ww_skin_page_overflow"><table class="Table_Grid" style="margin-left: 30.25pt; padding-left: 5.75pt; padding-right: 5.75pt" cellspacing="0" summary=""><tr><td style="background-color: #DDEEBF; background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top; width: 108pt"><div id="wwpID0EAFC0JF0HA" class="Cell_Heading" style="text-align: center"><span class="Code_Char">&lt;carveout-type&gt;</span></div></td><td style="background-color: #DDEEBF; background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top; width: 64.8pt"><div id="wwpID0EAEC0JF0HA" class="Cell_Heading" style="text-align: center">pref_base</div></td><td style="background-color: #DDEEBF; background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top; width: 64.8pt"><div id="wwpID0EADC0JF0HA" class="Cell_Heading" style="text-align: center">size</div></td><td style="background-color: #DDEEBF; background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top; width: 64.8pt"><div id="wwpID0EACC0JF0HA" class="Cell_Heading" style="text-align: center">alignment</div></td><td style="background-color: #DDEEBF; background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top; width: 64.8pt"><div id="wwpID0EABC0JF0HA" class="Cell_Heading" style="text-align: center">ecc_protected</div></td><td style="background-color: #DDEEBF; background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top; width: 64.8pt"><div id="wwpID0EAAC0JF0HA" class="Cell_Heading" style="text-align: center">bad_page_tolerant</div></td></tr><tr><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EAFB0JF0HA" class="Body_Text" style="text-indent: 0pt">gsc[1-31], mts, vpr</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EAEB0JF0HA" class="Body_Text" style="text-align: center; text-indent: 0pt">N/A</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EADB0JF0HA" class="Body_Text" style="text-align: center; text-indent: 0pt">N/A</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EACB0JF0HA" class="Body_Text" style="text-align: center; text-indent: 0pt">Yes</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EABB0JF0HA" class="Body_Text" style="text-align: center; text-indent: 0pt">Yes</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EAAB0JF0HA" class="Body_Text" style="text-align: center; text-indent: 0pt">Yes</div></td></tr><tr><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EAFA0JF0HA" class="Body_Text" style="text-indent: 0pt">tzdram, mb2, cpubl, misc, os, rcm</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EAEA0JF0HA" class="Body_Text" style="text-align: center; text-indent: 0pt">Yes</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EADA0JF0HA" class="Body_Text" style="text-align: center; text-indent: 0pt">Yes</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EACA0JF0HA" class="Body_Text" style="text-align: center; text-indent: 0pt">Yes</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EABA0JF0HA" class="Body_Text" style="text-align: center; text-indent: 0pt">Yes</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EAAA0JF0HA" class="Body_Text" style="text-align: center; text-indent: 0pt">Yes</div></td></tr></table></div><div id="wwpID0E0IF0HA" class="Heading_5">Coresight Properties</div><div id="wwpID0E0HF0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">coresight.cfg_system_ctl</span>: Use value to program <span class="Code_Char">CORESIGHT_CFG_SYSTEM_CTL</span>.</div><div id="wwpID0E0GF0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">coresight.cfg_csite_mc_wr_ctrl</span>: Use value to program <span class="Code_Char">CORESIGHT_CFG_CSITE_MC_WR_CTRL</span>.</div><div id="wwpID0E0FF0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">coresight.cfg_csite_mc_rd_ctrl</span>: Use value to program <span class="Code_Char">CORESIGHT_CFG_CSITE_MC_RD_CTRL</span>.</div><div id="wwpID0E0EF0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">coresight.cfg_etr_mc_wr_ctrl</span>: Use value to program <span class="Code_Char">CORESIGHT_CFG_ETR_MC_WR_CTRL</span>.</div><div id="wwpID0E0DF0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">coresight.cfg_etr_mc_rd_ctrl</span>: Use value to program <span class="Code_Char">CORESIGHT_CFG_ETR_MC_RD_CTRL</span>.</div><div id="wwpID0E0CF0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">coresight.cfg_csite_cbb_wr_ctrl</span>: Use value to program <span class="Code_Char">CORESIGHT_CFG_CSITE_CBB_WR_CTRL</span>.</div><div id="wwpID0E0BF0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">coresight.cfg_csite_cbb_rd_ctrl</span>: Use value to program <span class="Code_Char">CORESIGHT_CFG_CSITE_CBB_RD_CTRL</span>.</div><div id="wwpID0E0AF0HA" class="Heading_5">Firmware Load and Entry Properties</div><div id="wwpID0E06E0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">mb2_load_offset</span>: Offset in MB2 carveout where MB2 binary is loaded.</div><div id="wwpID0E05E0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">mb2_entry_offset</span>: Offset of MB2 entry point in MB2 carveout.</div><div id="wwpID0E04E0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">tzram_el3_load_offset</span>: Offset in TZRAM carveout where EL3 binary is loaded.</div><div id="wwpID0E03E0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">tzram_el3_entry_offset</span>: Offset of EL3 binary entry point in TZRAM carveout.</div><div id="wwpID0E02E0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">cpubl_load_offset</span>: Offset in CPUBL carveout where CPUBL binary is loaded.</div><div id="wwpID0E01E0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">cpubl_entry_offset</span>: Offset of CPUBL entry point in CPUBL carveout.</div><div id="wwpID0E0ZE0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">ape_fw_load_offset</span>: Offset in APE carveout where APE-FW binary is loaded.</div><div id="wwpID0E0YE0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">ape_fw_entry_offset</span>: Offset of APE-FW entry point in APE carveout.</div><div id="wwpID0E0XE0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">bpmp_fw_load_offset</span>: Offset in BPMP carveout where BPMP-FW binary is loaded.</div><div id="wwpID0E0WE0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">bpmp_fw_entry_offset</span>: Offset of BPMP-FW entry point in BPMP carveout.</div><div id="wwpID0E0VE0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">sce_fw_load_offset</span>: Offset in SCE carveout where SCE-FW binary is loaded.</div><div id="wwpID0E0UE0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">sce_fw_entry_offset</span>: Offset of SCE-FW entry point in SCE carveout.</div><div id="wwpID0E0TE0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">rce_fw_load_offset</span>: Offset in RCE carveout where RCE-FW binary is loaded.</div><div id="wwpID0E0SE0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">rce_fw_entry_offset</span>: Offset of RCE-FW entry point in RCE carveout.</div><div id="wwpID0E0RE0HA" class="Heading_5">CPU Properties</div><div id="wwpID0E0QE0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">cpu.ccplex_platform_features</span>: CPU platform features; must be 0.</div><div id="wwpID0E0PE0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">cpu.clock_mode.clock_burst_policy</span>: CCPLEX clock burst policy.</div><div id="wwpID0E0OE0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">cpu.clock_mode.max_avfs_mode</span>: Highest CCPLEX AVFS mode.</div><div id="wwpID0E0NE0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">nafll_cfg2.fll_init</span>: CCPLEX NAFLL CFG2 [Fll Init].</div><div id="wwpID0E0ME0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">nafll_cfg2.fll_ldmem</span>: CCPLEX NAFLL CFG2 [Fll Ldmem].</div><div id="wwpID0E0LE0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">nafll_cfg2.fll_switch_ldmem</span>: CCPLEX NAFLL CFG2 [Fll Switch Ldmem].</div><div id="wwpID0E0KE0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">nafll_cfg3</span>: CCPLEX NAFLL CFG3.</div><div id="wwpID0E0JE0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">nafll_ctrl1</span>: CCPLEX NAFLL CTRL1.</div><div id="wwpID0E0IE0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">nafll_ctrl2</span>: CCPLEX NAFLL CTRL2.</div><div id="wwpID0E0HE0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">cpu.lut_sw_freq_req.sw_override_ndiv</span>: SW override for CCPLEX LUT frequency request.</div><div id="wwpID0E0GE0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">cpu.lut_sw_freq_req.ndiv</span>: NDIV for CCPLEX LUT frequency request.</div><div id="wwpID0E0FE0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">cpu.lut_sw_freq_req.vfgain</span>: VFGAIN for CCPLEX LUT frequency request.</div><div id="wwpID0E0EE0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">cpu.lut_sw_freq_req.sw_override_vfgain</span>: VFGAIN override for CCPLEX LUT frequency request.</div><div id="wwpID0E0DE0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">cpu.nafll_coeff.mdiv</span>: MDIV for NAFLL coefficient.</div><div id="wwpID0E0CE0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">cpu.nafll_coeff.pdiv</span>: PDIV for NAFLL coefficient.</div><div id="wwpID0E0BE0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">cpu.nafll_coeff.fll_frug_main</span>: FLL frug main for NAFLL coefficient.</div><div id="wwpID0E0AE0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">cpu.nafll_coeff.fll_frug_fast</span>: FLL frug fast for NAFLL coefficient.</div><div id="wwpID0E06D0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">cpu.adc_vmon.enable</span>: Enable CCPLEX ADC voltage monitor.</div><div id="wwpID0E05D0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">cpu.min_adc_fuse_rev</span>: Minimum ADC fuse revision.</div><div id="wwpID0E04D0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">cpu.pllx_base.divm</span>: PLLX DIVM.</div><div id="wwpID0E03D0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">cpu.pllx_base.divn</span>: PLLX DIVN.</div><div id="wwpID0E02D0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">cpu.pllx_base.divp</span>: PLLX DIVP.</div><div id="wwpID0E01D0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">cpu.pllx_base.enable</span>: Enable PLLX.</div><div id="wwpID0E0ZD0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">cpu.pllx_base.bypass</span>: PLLX Bypass Enable.</div><div id="wwpID0E0YD0HA" class="Heading_5">Other Properties</div><div id="wwpID0E0XD0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">spe_uart_instance</span>: UART controller used for combined UART by SPE.</div><div id="wwpID0E0WD0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">aocluster.evp_reset_addr</span>: AON/SPE reset vector (in SPE BTCM).</div><div id="wwpID0E0VD0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">carveout_alloc_direction</span>: Carveout allocation direction.</div><div id="wwpID0E0UD0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>0: From end of DRAM</div><div id="wwpID0E0TD0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>1: From end of 2GB DRAM (32b address space)</div><div id="wwpID0E0SD0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>2: From start of DRAM</div><div id="wwpID0E0RD0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">se_oem_group</span>: Value to program to <span class="Code_Char">SE0_OEM_GROUP_0</span> and <span class="Code_Char">SE_RNG1_RNG1_OEM_GROUP_0</span> (NVHS / NVLS / Lock bits are forced set).</div><div id="wwpID0E0QD0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">i2c.&lt;N&gt;</span>: Frequency of I2C controller instance in kilohertz, where <span class="Code_Char">&lt;N&gt;</span> is the I2C controller instance, a number in the range [0,&nbsp;8].</div><div id="wwpID0E0PD0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">pmc_rst_req_cfg</span>: configures <span class="Code_Char">WDT_RESET_OUT</span> signal generation on watchdog expiry:</div><div id="wwpID0E0OD0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Bit 0: 1 = Toggle WDT_RESET_OUT on expiry of WDT.</div><div id="wwpID0E0ND0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Bit 1: 1 = Toggle WDT_RESET_OUT on expiry of AOWDT.</div><div id="wwpID0E0MD0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Bit 3: 1 = Toggle WDT_RESET_OUT on software-initiated reset.</div><div id="wwpID0E0LD0HA" class="Heading_5">Example</div><div id="wwpID0E0KD0HA" class="Code">disable_spe = 0;</div><div id="wwpID0E0JD0HA" class="Code">enable_vpr_resize = 0;</div><div id="wwpID0E0ID0HA" class="Code">disable_sc7 = 1;</div><div id="wwpID0E0HD0HA" class="Code">disable_fuse_visibility = 0;</div><div id="wwpID0E0GD0HA" class="Code">disable_mb2_glitch_protection = 0;</div><div id="wwpID0E0FD0HA" class="Code">carveout_alloc_direction = 2;</div><div id="wwpID0E0ED0HA" class="Code">##### cpu variables #####</div><div id="wwpID0E0DD0HA" class="Code">cpu.ccplex_platform_features = 0x00000;</div><div id="wwpID0E0CD0HA" class="Code">cpu.clock_mode.clock_burst_policy = 15;</div><div id="wwpID0E0BD0HA" class="Code">cpu.clock_mode.max_avfs_mode = 0x2E;</div><div id="wwpID0E0AD0HA" class="Code">cpu.lut_sw_freq_req.sw_override_ndiv = 3;</div><div id="wwpID0E06C0HA" class="Code">cpu.lut_sw_freq_req.ndiv = 102;</div><div id="wwpID0E05C0HA" class="Code">cpu.lut_sw_freq_req.vfgain = 2;</div><div id="wwpID0E04C0HA" class="Code">cpu.lut_sw_freq_req.sw_override_vfgain = 3;</div><div id="wwpID0E03C0HA" class="Code">cpu.nafll_coeff.mdiv = 3;</div><div id="wwpID0E02C0HA" class="Code">cpu.nafll_coeff.pdiv = 0x1;</div><div id="wwpID0E01C0HA" class="Code">cpu.nafll_coeff.fll_frug_main = 0x9;</div><div id="wwpID0E0ZC0HA" class="Code">cpu.nafll_coeff.fll_frug_fast = 0xb;</div><div id="wwpID0E0YC0HA" class="Code">cpu.nafll_cfg2.fll_init = 0xd;</div><div id="wwpID0E0XC0HA" class="Code">cpu.nafll_cfg2.fll_ldmem = 0xc;</div><div id="wwpID0E0WC0HA" class="Code">cpu.nafll_cfg2.fll_switch_ldmem = 0xa;</div><div id="wwpID0E0VC0HA" class="Code">cpu.nafll_cfg3 = 0x38000000;</div><div id="wwpID0E0UC0HA" class="Code">cpu.nafll_ctrl1 = 0x0000000C;</div><div id="wwpID0E0TC0HA" class="Code">cpu.nafll_ctrl2 = 0x22250000;</div><div id="wwpID0E0SC0HA" class="Code">cpu.adc_vmon.enable = 0x0;</div><div id="wwpID0E0RC0HA" class="Code">cpu.pllx_base.divm = 2;</div><div id="wwpID0E0QC0HA" class="Code">cpu.pllx_base.divn = 104;</div><div id="wwpID0E0PC0HA" class="Code">cpu.pllx_base.divp = 2;</div><div id="wwpID0E0OC0HA" class="Code">cpu.pllx_base.enable = 1;</div><div id="wwpID0E0NC0HA" class="Code">cpu.pllx_base.bypass = 0;</div><div id="wwpID0E0MC0HA" class="Code">cpu.min_adc_fuse_rev = 1;</div><div id="wwpID0E0LC0HA" class="Code">wp.waypoint0.rails_shorted = 1;</div><div id="wwpID0E0KC0HA" class="Code">wp.waypoint0.vsense0_cg0 = 1;</div><div id="wwpID0E0JC0HA" class="Code">##### sw_carveout variables #####</div><div id="wwpID0E0IC0HA" class="Code">carveout.misc.size = 0x800000; # 8MB</div><div id="wwpID0E0HC0HA" class="Code">carveout.misc.alignment = 0x800000; # 8MB</div><div id="wwpID0E0GC0HA" class="Code">carveout.os.size = 0x08000000; #128MB</div><div id="wwpID0E0FC0HA" class="Code">carveout.os.pref_base = 0x80000000;</div><div id="wwpID0E0EC0HA" class="Code">carveout.os.alignment = 0x200000;</div><div id="wwpID0E0DC0HA" class="Code">carveout.cpubl.alignment = 0x200000;</div><div id="wwpID0E0CC0HA" class="Code">firmware.cpubl_load_offset = 0x600000;</div><div id="wwpID0E0BC0HA" class="Code">carveout.cpubl.size = 0x04000000; # 64MB</div><div id="wwpID0E0AC0HA" class="Code">carveout.rcm.size = 0x0;</div><div id="wwpID0E06B0HA" class="Code">carveout.rcm.alignment = 0;</div><div id="wwpID0E05B0HA" class="Code">carveout.mb2.size = 0x01000000; #16MB</div><div id="wwpID0E04B0HA" class="Code">carveout.mb2.alignment = 0x01000000; #16MB</div><div id="wwpID0E03B0HA" class="Code">carveout.tzdram.size = 0x01000000; #16MB</div><div id="wwpID0E02B0HA" class="Code">carveout.tzdram.alignment = 0x00100000; #1MB</div><div id="wwpID0E01B0HA" class="Code">##### mc carveout alignment #####</div><div id="wwpID0E0ZB0HA" class="Code">carveout.vpr.alignment = 0x100000;</div><div id="wwpID0E0YB0HA" class="Code">carveout.gsc[6].alignment = 0x400000;</div><div id="wwpID0E0XB0HA" class="Code">carveout.gsc[7].alignment = 0x800000;</div><div id="wwpID0E0WB0HA" class="Code">carveout.gsc[8].alignment = 0x100000;</div><div id="wwpID0E0VB0HA" class="Code">carveout.gsc[9].alignment = 0x100000;</div><div id="wwpID0E0UB0HA" class="Code">carveout.gsc[10].alignment = 0x800000;</div><div id="wwpID0E0TB0HA" class="Code">carveout.gsc[12].alignment = 0x100000;</div><div id="wwpID0E0SB0HA" class="Code">carveout.gsc[17].alignment = 0x100000;</div><div id="wwpID0E0RB0HA" class="Code">carveout.gsc[19].alignment = 0x200000;</div><div id="wwpID0E0QB0HA" class="Code">carveout.gsc[24].alignment = 0x2000000;</div><div id="wwpID0E0PB0HA" class="Code">carveout.gsc[27].alignment = 0x200000;</div><div id="wwpID0E0OB0HA" class="Code">carveout.gsc[28].alignment = 0x200000;</div><div id="wwpID0E0NB0HA" class="Code">carveout.gsc[29].alignment = 0x200000;</div><div id="wwpID0E0MB0HA" class="Code">##### mb1 ast va #####</div><div id="wwpID0E0LB0HA" class="Code">ast.mb2_va = 0x52000000;</div><div id="wwpID0E0KB0HA" class="Code">ast.misc_carveout_va = 0x70000000;</div><div id="wwpID0E0JB0HA" class="Code">ast.rcm_blob_carveout_va = 0x60000000;</div><div id="wwpID0E0IB0HA" class="Code">ast.temp_map_a_carveout_va = 0x80000000;</div><div id="wwpID0E0HB0HA" class="Code">ast.temp_map_a_carveout_size = 0x40000000;</div><div id="wwpID0E0GB0HA" class="Code">ast.temp_map_b_carveout_va = 0xc0000000;</div><div id="wwpID0E0FB0HA" class="Code">ast.temp_map_b_carveout_size = 0x20000000;</div><div id="wwpID0E0EB0HA" class="Code">##### MB2 AST VA #####</div><div id="wwpID0E0DB0HA" class="Code">carveout.bpmp_ast_va = 0x50000000;</div><div id="wwpID0E0CB0HA" class="Code">carveout.ape_ast_va = 0x80000000;</div><div id="wwpID0E0BB0HA" class="Code">carveout.apr_ast_va = 0xC0000000;</div><div id="wwpID0E0AB0HA" class="Code">carveout.sce_ast_va = 0x70000000;</div><div id="wwpID0E6HA" class="Code">carveout.rce_ast_va = 0x70000000;</div><div id="wwpID0E5HA" class="Code">carveout.camera_task_ast_va = 0x78000000;</div><div id="wwpID0E4HA" class="Code">##### clock variables #####</div><div id="wwpID0E3HA" class="Code">clock.pllaon_divp = 0x3;</div><div id="wwpID0E2HA" class="Code">clock.pllaon_divn = 0x1F;</div><div id="wwpID0E1HA" class="Code">clock.pllaon_divm = 0x1;</div><div id="wwpID0EZHA" class="Code">clock.pllaon_divn_frac = 0x03E84000;</div><div id="wwpID0EYHA" class="Code"># For bpmp_cpu_nic, bpmp_apb, axi_cbb and se,</div><div id="wwpID0EXHA" class="Code"># specify the divider with PLLP_OUT0 (408MHz) as source.</div><div id="wwpID0EWHA" class="Code"># For aon_cpu_nic, aon_can0 and aon_can1,</div><div id="wwpID0EVHA" class="Code"># specify the divider with PLLAON_OUT as source.</div><div id="wwpID0EUHA" class="Code"># In both cases, BCT specified value = (1 + expected divider value).</div><div id="wwpID0ETHA" class="Code">clock.bpmp_cpu_nic_divider = 1;</div><div id="wwpID0ESHA" class="Code">clock.bpmp_apb_divider = 1;</div><div id="wwpID0ERHA" class="Code">clock.axi_cbb_divider = 1;</div><div id="wwpID0EQHA" class="Code">clock.se_divider = 1;</div><div id="wwpID0EPHA" class="Code">##### aotag variables #####</div><div id="wwpID0EOHA" class="Code">aotag.boot_temp_threshold = 97000;</div><div id="wwpID0ENHA" class="Code">aotag.cooldown_temp_threshold = 87000;</div><div id="wwpID0EMHA" class="Code">aotag.cooldown_temp_timeout = 30000;</div><div id="wwpID0ELHA" class="Code">aotag.enable_shutdown = 1;</div><div id="wwpID0EKHA" class="Code">#Specify i2c bus speed in KHz</div><div id="wwpID0EJHA" class="Code">i2c.4 = 918;</div><div id="wwpID0EIHA" class="Code">#### aocluster data ####</div><div id="wwpID0EHHA" class="Code">aocluster.evp_reset_addr = 0xc480000;</div><div id="wwpID0EGHA" class="Code">#### mb2 feature flags ####</div><div id="wwpID0EFHA" class="Code">enable_sce = 1;</div><div id="wwpID0EEHA" class="Code">enable_rce = 1;</div><div id="wwpID0EDHA" class="Code">enable_ape = 1;</div><div id="wwpID0ECHA" class="Code">enable_combined_uart = 1;</div><div id="wwpID0EBHA" class="Code">spe_uart_instance = 2;</div></div><div id="page_dates"></div><!-- Related Topics --><!--                --><footer><!-- Disqus --><!--        --><!-- Google Translation --><!--                    --><br /></footer></div></div><input type="hidden" id="preserve_unknown_file_links" value="false"></input><noscript><div id="noscript_warning">This site works best with JavaScript enabled</div></noscript><script type="text/javascript" src="scripts/common.js"></script><script type="text/javascript" src="scripts/page.js"></script><script type="text/javascript" src="scripts/search-client.js"></script><script type="text/javascript" src="scripts/unidata.js"></script><script type="text/javascript" src="scripts/unibreak.js"></script></body></html>