<!DOCTYPE html ><html xml:lang="en" lang="en" data-highlight-require-whitespace="false" xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html;charset=utf-8" /><meta http-equiv="Content-Style-Type" content="text/css" /><meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta http-equiv="X-UA-Compatible" content="IE=edge" /><!-- NVIDIA customization --><title>NVIDIA Jetson Linux Driver Package Software Features : Bootloader | NVIDIA Docs </title><link rel="Prev" href="bootflow.html" title="Previous" /><link rel="Next" href="bootflow_jetson_nano.html" title="Next" /><link rel="StyleSheet" href="../css/font-awesome/css/font-awesome.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/bootflow_jetson_xavier.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/skin.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/social.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/print.css" type="text/css" media="print" /><noscript><div id="noscript_padding"></div></noscript></head><body id="pJ7WhV4QHsADwOaCB81cW9w" class="ww_skin_page_body" style="visibility: hidden;"><input type="hidden" id="page_onload_url" value="../index.html#page/Tegra%20Linux%20Driver%20Package%20Development%20Guide/bootflow_jetson_xavier.html"></input><span id="dropdown_ids" style="display:none;"></span><div id="ww_content_container"><header id="wwconnect_header"><div class="ww_skin_page_toolbar"><div id="dropdown_button_container" class="dropdown_container dropdown_button_container_disabled"><a id="show_hide_all" class="ww_skin ww_behavior_dropdown_toggle ww_skin_dropdown_toggle" title="Page DropDown Toggle" href="#"><i class="fa"></i></a><span class="ww_skin_page_toolbar_divider">&nbsp;</span></div><a class="ww_behavior_print ww_skin ww_skin_print" title="Print" href="#"><i class="fa"></i></a></div><!-- was this helpful button --><!--                         --></header><div id="page_content_container" style="background-attachment: scroll; background-image: url(&quot;watermark.png&quot;); background-position: center center; background-repeat: no-repeat; margin-left: 0pt; margin-right: 10pt; padding-bottom: 0px; padding-left: 0px; padding-right: 0px; padding-top: 0px"><div id="page_content"><H1 id="wwpID0E0IE0HA" class="Heading_3_Top">Jetson Xavier NX and Jetson AGX Xavier Series Boot Flow</H1><div class="WebWorks_MiniTOC"><div class="WebWorks_MiniTOC_Heading">&nbsp;</div><dl class="WebWorks_MiniTOC_List"><dd><div class="WebWorks_MiniTOC_Entry"><a class="WebWorks_MiniTOC_Link" href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/bootflow_jetson_xavier.html#wwpID0E0EE0HA">BootROM</a></div></dd><dd><div class="WebWorks_MiniTOC_Entry"><a class="WebWorks_MiniTOC_Link" href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/bootflow_jetson_xavier.html#wwpID0E01D0HA">Bootloader Components</a></div></dd><dd><div class="WebWorks_MiniTOC_Entry"><a class="WebWorks_MiniTOC_Link" href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/bootflow_jetson_xavier.html#wwpID0E0FC0HA">TegraBoot</a></div></dd><dd><div class="WebWorks_MiniTOC_Entry"><a class="WebWorks_MiniTOC_Link" href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/bootflow_jetson_xavier.html#wwpID0E0JB0HA">CBoot</a></div></dd></dl></div><div id="wwpID0E0HE0HA" class="Body_Text_Indent"><span class="Strong">Applies to</span>: Jetson Xavier NX and Jetson AGX Xavier series only</div><div id="wwpID0E0GE0HA" class="Body_Text">The flow of control in the boot software is as follows.</div><div class="ww_skin_page_overflow"><div id="wwpID0E0FE0HA" class="Body_Text"><img class="Default" src="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/images/image2_3.png" style="display: inline; left: 0pt; top: 0pt" alt="Diagram Description automatically generated" title="Diagram Description automatically generated" /></div></div><H4 id="wwpID0E0EE0HA" class="Heading_4">BootROM</H4><div id="wwpID0E0DE0HA" class="Body_Text">The BootROM (BR) is hard-wired in the processor. It initializes the Boot Media and loads Microboot1 (MB1) from the Boot Media.</div><div id="wwpID0E0CE0HA" class="Body_Text">Multiple copies of the BootROM Boot Configuration Table (BR-BCT) may be stored at the start of the Boot-Media. The BR-BCT contains configuration parameters used by the BootROM for hardware initialization.</div><div id="wwpID0E0BE0HA" class="Body_Text">The BCT also contains information about the bootloader (BL), including:</div><div id="wwpID0E0AE0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Size</div><div id="wwpID0E06D0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Entry point</div><div id="wwpID0E05D0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Load address</div><div id="wwpID0E04D0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Hash</div><div id="wwpID0E03D0HA" class="Body_Text">The BootROM uses this information to verify and load the bootloader. The boot flow is as follows:</div><div class="ww_skin_page_overflow"><div id="wwpID0E02D0HA" class="Body_Text"><img class="Default" src="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/images/image3.jpeg" style="display: inline; left: 0pt; top: 0pt" alt="C:\sw\swdocs\mobile\tegra\images\bdk_bootrom_flow.jpg" title="C:\sw\swdocs\mobile\tegra\images\bdk_bootrom_flow.jpg" /></div></div><H4 id="wwpID0E01D0HA" class="Heading_4">Bootloader Components</H4><div id="wwpID0E0ZD0HA" class="Body_Text">For NVIDIA<span style="vertical-align: super">®</span> Jetson™ Xavier NX and Jetson AGX Xavier™ series, the bootloader and flash components are:</div><div id="wwpID0E0YD0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Microboot1 (MB1)</div><div id="wwpID0E0XD0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>TBoot-BPMP</div><div id="wwpID0E0WD0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>CPU-BL</div><div id="wwpID0E0VD0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>TBoot-CPU (used in flashing)</div><div id="wwpID0E0UD0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>CBoot (used in cold boot)</div><div id="wwpID0E0TD0HA" class="Heading_5">Common Driver Framework</div><div id="wwpID0E0SD0HA" class="Body_Text">TBoot-BPMP, Tboot-CPU, and CBoot need to use a common set of drivers. Moreover, some libraries are common across the bootloader components. Instead of using separate sets of drivers and libraries, the binaries share a common pool of drivers and libraries called the Common Driver Framework (CDF). </div><div id="wwpID0E0RD0HA" class="Body_Text">The software architecture of the Common Driver Framework is as follows:</div><div class="ww_skin_page_overflow"><div id="wwpID0E0QD0HA" class="Body_Text"><img class="Default" src="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/images/image4.jpg" style="display: inline; left: 0pt; top: 0pt" alt="A screenshot of a cell phone Description generated with very high confidence" title="A screenshot of a cell phone Description generated with very high confidence" /></div></div><div id="wwpID0E0PD0HA" class="Body_Text">Common Driver Framework consists of:</div><div id="wwpID0E0OD0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Storage drivers like eMMC, QSPI-NOR, mSATA, and UFS </div><div id="wwpID0E0ND0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Host interface drivers like UART, USB</div><div id="wwpID0E0MD0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Display drivers (HDMI™, DP, and eDP)</div><div id="wwpID0E0LD0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Debug and Console library</div><div id="wwpID0E0KD0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Libraries of other modules such as:</div><div id="wwpID0E0JD0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Clock</div><div id="wwpID0E0ID0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>SE</div><div id="wwpID0E0HD0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>PMIC</div><div id="wwpID0E0GD0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Timer</div><div id="wwpID0E0FD0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Fuse</div><div id="wwpID0E0ED0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>GPIO</div><div id="wwpID0E0DD0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>PWM</div><div id="wwpID0E0CD0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>EEPROM</div><div id="wwpID0E0BD0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Keyboard</div><div id="wwpID0E0AD0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>PSCI</div><div id="wwpID0E06C0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>USB host mode (2.0 mode only)</div><div id="wwpID0E05C0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>USB host class drivers (only mass storage devices, no hub or HID support)</div><div id="wwpID0E04C0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Software libraries such as:</div><div id="wwpID0E03C0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Cryptographic</div><div id="wwpID0E02C0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Transport</div><div id="wwpID0E01C0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Partition manager</div><div id="wwpID0E0ZC0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Sparse</div><div id="wwpID0E0YC0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Transport libraries</div><div id="wwpID0E0XC0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>A decompression library that supports LZF, Zlib, and LZ4 </div><div id="wwpID0E0WC0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">clib</span>, a dynamic memory allocation library, and a cache library</div><div id="wwpID0E0VC0HA" class="Body_Text">The CDF is provided at:</div><div id="wwpID0E0UC0HA" class="Code">&lt;top&gt;/vendor/nvidia/tegra/bootloader/partner/common/</div><div id="wwpID0E0TC0HA" class="Code">&lt;top&gt;/vendor/nvidia/tegra/bootloader/partner/t18x/common/</div><div id="wwpID0E0SC0HA" class="Heading_5">Microboot1</div><div id="wwpID0E0RC0HA" class="Body_Text">For Jetson Xavier NX and Jetson AGX Xavier series, Microboot1 (MB1) is the first boot software component loaded by BR in SysRAM, and runs on BPMP. This component implements certain platform initialization (including CPU) and security configuration.</div><div id="wwpID0E0QC0HA" class="Body_Text">MB1 is signed and encrypted by an NVIDIA owned key. The following diagram shows the flow of control in MB1.</div><div class="ww_skin_page_overflow"><div id="wwpID0E0PC0HA" class="Body_Text"><img class="Default" src="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/images/image5.jpeg" style="display: inline; left: 0pt; top: 0pt" alt="C:\sw\swdocs\mobile\tegra\images\bdk_microboot.jpg" title="C:\sw\swdocs\mobile\tegra\images\bdk_microboot.jpg" /></div></div><div id="wwpID0E0OC0HA" class="Body_Text">MB1 is responsible for:</div><div id="wwpID0E0NC0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Platform configuration, including pinmux, GPIO , pad voltage, SCRs, and firewalls</div><div id="wwpID0E0MC0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Initializing the SDRAM based on the MB1 boot configuration table (MB1-BCT)</div><div id="wwpID0E0LC0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Loading firmwares, including the ones that initialize the CPU complex (CCplex)</div><div id="wwpID0E0KC0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Programming the PMIC for enabling the VDD_CPU rail</div><div id="wwpID0E0JC0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Creating memory carveouts</div><div id="wwpID0E0IC0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Loading the next stage bootloader, TBoot-BPMP</div><div id="wwpID0E0HC0HA" class="Body_Text">MB1 is owned by NVIDIA, and so is provided as a binary in the Jetson BSP package. Although it is provided as a binary, you can configure its behavior for a specific platform using its Boot Configuration Table, called MB1-BCT. </div><div id="wwpID0E0GC0HA" class="Body_Text">For information on MB1, see MB1 BCT.</div><H4 id="wwpID0E0FC0HA" class="Heading_4">TegraBoot</H4><div id="wwpID0E0EC0HA" class="Body_Text">On Jetson Xavier NX and Jetson AGX Xavier series, TegraBoot is the bootloader component that executes after MB1. This component is divided into two portions: </div><div id="wwpID0E0DC0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>TBoot-BPMP</div><div id="wwpID0E0CC0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>TBoot-CPU</div><div id="wwpID0E0BC0HA" class="Body_Text">The processor on which they are executing determines which component runs.</div><div id="wwpID0E0AC0HA" class="Heading_5">TegraBoot-BPMP </div><div id="wwpID0E06B0HA" class="Body_Text">This portion of TegraBoot runs on BPMP (TBoot-BPMP). There are two variants of TegraBoot-BPMP:</div><div id="wwpID0E05B0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>One for cold boot</div><div id="wwpID0E04B0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>One for flashing and RCM (recovery) boot</div><div id="wwpID0E03B0HA" class="Body_Text">TBoot-BPMP is responsible for:</div><div id="wwpID0E02B0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Loading and initializing firmware (FW) components.</div><div id="wwpID0E01B0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Creating memory carveouts</div><div id="wwpID0E0ZB0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Unhalting the CPU</div><div id="wwpID0E0YB0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Loading the next stage bootloader </div><div id="wwpID0E0XB0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Supporting flashing</div><div id="wwpID0E0WB0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Supporting RCM boot</div><div id="wwpID0E0VB0HA" class="Body_Text">The components of TBoot-BPMP are as follows:</div><div class="ww_skin_page_overflow"><div id="wwpID0E0UB0HA" class="Body_Text"><img class="Default" src="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/images/image6.jpg" style="display: inline; left: 0pt; top: 0pt" alt="A screenshot of a video game Description generated with high confidence" title="A screenshot of a video game Description generated with high confidence" /></div></div><div id="wwpID0E0TB0HA" class="Heading_5">TegraBoot-CPU</div><div id="wwpID0E0SB0HA" class="Body_Text">TegraBoot-CPU is responsible for:</div><div id="wwpID0E0RB0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Flashing</div><div id="wwpID0E0QB0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>RCM boot</div><div id="wwpID0E0PB0HA" class="Body_Text">The RCM boot flow is similar to a cold boot except that the binaries are transferred from the host over USB and loaded directly to SDRAM. TOS and BPMP-FW are not loaded in this path.</div><div class="ww_skin_page_overflow"><table class="Table_Normal" style="margin-left: 36pt" cellspacing="0" summary=""><tr><td style="background-color: #76B900; background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top; width: 49.5pt"><div id="wwpID0EABA0OB0HA" class="Note_Image">Note:</div></td><td style="background-color: #DDEEBF; background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top; width: 342pt"><div id="wwpID0EAAA0OB0HA" class="Note_Text">The CPU starts execution in EL3 mode, and executes the TOS monitor. The TOS monitor completes its initialization and gives control to the TegraBoot-CPU in EL2 mode. It then initializes the USB and starts the 3P protocol to flash the device.</div></td></tr></table></div><div id="wwpID0E0NB0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>For normal flashing, TegraBoot-CPU takes the binaries from the host one-by-one and flashes them to the device. </div><div id="wwpID0E0MB0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>In RCM boot, TegraBoot-CPU takes the binaries downloaded over USB. The binaries are not flashed onto the device. </div><div id="wwpID0E0LB0HA" class="Body_Text">The components of TBoot-CPU are as follows:</div><div class="ww_skin_page_overflow"><div id="wwpID0E0KB0HA" class="Body_Text"><img class="Default" src="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/images/image7.jpg" style="display: inline; left: 0pt; top: 0pt" alt="" title="" /></div></div><H4 id="wwpID0E0JB0HA" class="Heading_4">CBoot</H4><div id="wwpID0E0IB0HA" class="Body_Text">On Jetson Xavier NX and Jetson AGX Xavier series, CBoot is the primary CPU bootloader used on mobile platforms in the cold boot path. CBoot is feature-rich bootloader based on Little Kernel (LK) that:</div><div id="wwpID0E0HB0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Finds and boots the kernel</div><div id="wwpID0E0GB0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Finds and loads the kernel DTB</div><div id="wwpID0E0FB0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Supports display, boot logo, and Secureboot</div><div id="wwpID0E0EB0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Uses the interrupt and scheduling frameworks of LK</div><div class="ww_skin_page_overflow"><table class="Table_Normal" style="margin-left: 36pt" cellspacing="0" summary=""><tr><td style="background-color: #76B900; background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top; width: 49.5pt"><div id="wwpID0EABA0DB0HA" class="Note_Image">Note:</div></td><td style="background-color: #DDEEBF; background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top; width: 342pt"><div id="wwpID0EAAA0DB0HA" class="Note_Text">The CPU starts in EL3 mode and executes the TOS monitor. The TOS completes its initialization and passes control to CBoot in EL2 mode.</div></td></tr></table></div><div id="wwpID0E0CB0HA" class="Body_Text">BL and Kernel use separate device trees stored in separate partitions.</div><div id="wwpID0E0BB0HA" class="Body_Text">The components of CBoot are as follows:</div><div class="ww_skin_page_overflow"><div id="wwpID0E0AB0HA" class="Body_Text"><img class="Default" src="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/images/image8.jpg" style="display: inline; left: 0pt; top: 0pt" alt="A screenshot of a cell phone Description generated with very high confidence" title="A screenshot of a cell phone Description generated with very high confidence" /></div></div><div id="wwpID0E6HA" class="Heading_5">Kernel Boot Sequence Using extlinux.conf</div><div id="wwpID0E5HA" class="Body_Text">CBoot functionality includes a default booting scan sequence. It scans bootable devices in the following order:</div><div id="wwpID0E4HA" class="List_Number"><span class="WebWorks_Number" style="width: 18pt"><span>1.	</span></span>External SD card</div><div id="wwpID0E3HA" class="List_Number"><span class="WebWorks_Number" style="width: 18pt"><span>2.	</span></span>External NVMe device</div><div id="wwpID0E2HA" class="List_Number"><span class="WebWorks_Number" style="width: 18pt"><span>3.	</span></span>USB device</div><div id="wwpID0E1HA" class="List_Number"><span class="WebWorks_Number" style="width: 18pt"><span>4.	</span></span>Internal eMMC</div><div id="wwpID0EZHA" class="List_Number"><span class="WebWorks_Number" style="width: 18pt"><span>5.	</span></span>NFS device</div><div id="wwpID0EYHA" class="Body_Text">CBoot looks for an <span class="Code_Char">extlinux.conf</span> configuration file in the following directory on each bootable device (except an NFS device):</div><div id="wwpID0EXHA" class="Code">&lt;rootfs&gt;/boot/extlinux</div><div id="wwpID0EWHA" class="Body_Text">The file <span class="Code_Char">extlinux.conf</span> is a standard text-format file that contains all kernel boot information. It contains a section for each kernel selection which indicates the kernel binary file’s name, the kernel-dtb binary file’s name, and the kernel boot command line.</div><div id="wwpID0EVHA" class="Body_Text">Upon finding the <span class="Code_Char">extlinux.conf</span> file, CBoot performs the following steps:</div><div id="wwpID0EUHA" class="List_Number" style="text-indent: -18pt"><span class="WebWorks_Number" style="width: 18pt"><span>1.	</span></span>Reads the boot configuration from <span class="Code_Char">extlinux.conf</span></div><div id="wwpID0ETHA" class="List_Number"><span class="WebWorks_Number" style="width: 18pt"><span>2.	</span></span>Displays the kernel selections</div><div id="wwpID0ESHA" class="List_Number"><span class="WebWorks_Number" style="width: 18pt"><span>3.	</span></span>Waits for the user to choose a kernel selection</div><div id="wwpID0ERHA" class="List_Number"><span class="WebWorks_Number" style="width: 18pt"><span>4.	</span></span>Selects the <span class="Code_Char">DEFAULT</span> selection if the user does not respond before expiration of the <span class="Code_Char">TIMEOUT</span> period (3 seconds)</div><div id="wwpID0EQHA" class="List_Number"><span class="WebWorks_Number" style="width: 18pt"><span>5.	</span></span>Loads the kernel binary file from the <span class="Code_Char">LINUX</span> entry</div><div id="wwpID0EPHA" class="List_Number"><span class="WebWorks_Number" style="width: 18pt"><span>6.	</span></span>Loads the kernel-dtb binary file from <span class="Code_Char">FDT</span> entry</div><div id="wwpID0EOHA" class="List_Number"><span class="WebWorks_Number" style="width: 18pt"><span>7.	</span></span>Boots the kernel</div><div id="wwpID0ENHA" class="Body_Text">The kernel and kernel-dtb binary files are user-accessible after booting at the location <span class="Code_Char">&lt;rootfs&gt;</span>.</div><div id="wwpID0EMHA" class="Body_Text">If there is no <span class="Code_Char">LINUX</span> entry, the kernel binary is loaded from the <span class="Code_Char">kernel</span> partition.</div><div id="wwpID0ELHA" class="Body_Text">If there is no <span class="Code_Char">FDT</span> entry, the kernel-dtb binary is loaded from the <span class="Code_Char">kernel-dtb</span> partition.</div><div id="wwpID0EKHA" class="Body_Text">The <span class="Code_Char">kernel</span> and <span class="Code_Char">kernel-dtb</span> partitions may be on internal  eMMC, an external SD card, a USB device, or an external NVMe device.</div><div id="wwpID0EJHA" class="Body_Text">The default <span class="Code_Char">extlinux.conf</span> file has no <span class="Code_Char">FDT</span> entry.</div><div id="wwpID0EIHA" class="Body_Text">For example, to replace the dtb binary, add this command to <span class="Code_Char">/boot/extlinux/extlinux.conf</span>:</div><div id="wwpID0EHHA" class="Code">FDT /boot/&lt;dtb_file&gt;</div><div id="wwpID0EGHA" class="Body_Text">Where <span class="Code_Char">&lt;dtb_file&gt;</span> is the name of the file.</div><div id="wwpID0EFHA" class="Body_Text">To support Secureboot, each kernel binary and kernel-dtb binary must be signed with a signature file. CBoot authenticates the kernel binary and kernel-dtb binary with their respective signature files. CBoot assumes that a signature file is in the same folder as the corresponding binary file, and has the same filename with the extension <span class="Code_Char">.sig</span>.</div><div id="wwpID0EEHA" class="Body_Text">For instance, if the kernel binary is <span class="Code_Char">/boot/Image</span>, the kernel signature filename is <span class="Code_Char">/boot/Image.sig</span>.</div><div id="wwpID0EDHA" class="Body_Text">If CBoot cannot authenticate a binary file (kernel or kernel-dtb), it continues to load the binary from its corresponding partition.</div><div class="ww_skin_page_overflow"><table class="Table_Normal" style="margin-left: 36pt" cellspacing="0" summary=""><tr><td style="background-color: #76B900; background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top; width: 49.5pt"><div id="wwpID0EABACHA" class="Note_Image">Note:</div></td><td style="background-color: #DDEEBF; background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top; width: 342pt"><div id="wwpID0EAAACHA" class="Note_Text">if the board’s security fuse has not been burned, CBoot ignores the authentication result and continues to load/boot the kernel. In this way CBoot loosens this Secureboot policy so kernel developers can easily modify their kernel binary without going through signing procedure every time.</div></td></tr></table></div><div id="wwpID0EBHA" class="Heading_5">&nbsp;</div></div><div id="page_dates"></div><!-- Related Topics --><!--                --><footer><!-- Disqus --><!--        --><!-- Google Translation --><!--                    --><br /></footer></div></div><input type="hidden" id="preserve_unknown_file_links" value="false"></input><noscript><div id="noscript_warning">This site works best with JavaScript enabled</div></noscript><script type="text/javascript" src="scripts/common.js"></script><script type="text/javascript" src="scripts/page.js"></script><script type="text/javascript" src="scripts/search-client.js"></script><script type="text/javascript" src="scripts/unidata.js"></script><script type="text/javascript" src="scripts/unibreak.js"></script></body></html>