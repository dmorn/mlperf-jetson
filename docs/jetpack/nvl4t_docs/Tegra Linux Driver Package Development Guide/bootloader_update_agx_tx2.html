<!DOCTYPE html ><html xml:lang="en" lang="en" data-highlight-require-whitespace="false" xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html;charset=utf-8" /><meta http-equiv="Content-Style-Type" content="text/css" /><meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta http-equiv="X-UA-Compatible" content="IE=edge" /><!-- NVIDIA customization --><title>NVIDIA Jetson Linux Driver Package Software Features : Bootloader | NVIDIA Docs </title><link rel="Prev" href="bootloader_update_nano_tx1.html" title="Previous" /><link rel="Next" href="uboot_guide.html" title="Next" /><link rel="StyleSheet" href="../css/font-awesome/css/font-awesome.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/bootloader_update_agx_tx2.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/skin.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/social.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/print.css" type="text/css" media="print" /><noscript><div id="noscript_padding"></div></noscript></head><body id="pN9UzfqTixRPqYtyxc21_002fnQ" class="ww_skin_page_body" style="visibility: hidden;"><input type="hidden" id="page_onload_url" value="../index.html#page/Tegra%20Linux%20Driver%20Package%20Development%20Guide/bootloader_update_agx_tx2.html"></input><span id="dropdown_ids" style="display:none;"></span><div id="ww_content_container"><header id="wwconnect_header"><div class="ww_skin_page_toolbar"><div id="dropdown_button_container" class="dropdown_container dropdown_button_container_disabled"><a id="show_hide_all" class="ww_skin ww_behavior_dropdown_toggle ww_skin_dropdown_toggle" title="Page DropDown Toggle" href="#"><i class="fa"></i></a><span class="ww_skin_page_toolbar_divider">&nbsp;</span></div><a class="ww_behavior_print ww_skin ww_skin_print" title="Print" href="#"><i class="fa"></i></a></div><!-- was this helpful button --><!--                         --></header><div id="page_content_container" style="background-attachment: scroll; background-image: url(&quot;watermark.png&quot;); background-position: center center; background-repeat: no-repeat; margin-left: 0pt; margin-right: 10pt; padding-bottom: 0px; padding-left: 0px; padding-right: 0px; padding-top: 0px"><div id="page_content"><H1 id="wwpID0E0NL0HA" class="Heading_3_Top">Jetson Xavier NX&nbsp;/ AGX Xavier&nbsp;/ TX2 Update and Redundancy</H1><div class="WebWorks_MiniTOC"><div class="WebWorks_MiniTOC_Heading">&nbsp;</div><dl class="WebWorks_MiniTOC_List"><dd><div class="WebWorks_MiniTOC_Entry"><a class="WebWorks_MiniTOC_Link" href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/bootloader_update_agx_tx2.html#wwpID0E0HL0HA">A/B Slot Layout</a></div></dd><dd><div class="WebWorks_MiniTOC_Entry"><a class="WebWorks_MiniTOC_Link" href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/bootloader_update_agx_tx2.html#wwpID0E0DL0HA">A/B System Update</a></div></dd><dd><div class="WebWorks_MiniTOC_Entry"><a class="WebWorks_MiniTOC_Link" href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/bootloader_update_agx_tx2.html#wwpID0E0BK0HA">Bootloader Implementation</a></div></dd><dd><div class="WebWorks_MiniTOC_Entry"><a class="WebWorks_MiniTOC_Link" href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/bootloader_update_agx_tx2.html#wwpID0E0CI0HA">When the Update Engine is Launched</a></div></dd><dd><div class="WebWorks_MiniTOC_Entry"><a class="WebWorks_MiniTOC_Link" href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/bootloader_update_agx_tx2.html#wwpID0E0ZH0HA">Enabling Bootloader Redundancy</a></div></dd><dd><div class="WebWorks_MiniTOC_Entry"><a class="WebWorks_MiniTOC_Link" href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/bootloader_update_agx_tx2.html#wwpID0E0NH0HA">Bootloader Tools</a></div></dd><dd><div class="WebWorks_MiniTOC_Entry"><a class="WebWorks_MiniTOC_Link" href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/bootloader_update_agx_tx2.html#wwpID0E0NE0HA">Running the Update Engine</a></div></dd><dd><div class="WebWorks_MiniTOC_Entry"><a class="WebWorks_MiniTOC_Link" href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/bootloader_update_agx_tx2.html#wwpID0E0XD0HA">Update Engine State Machine</a></div></dd><dd><div class="WebWorks_MiniTOC_Entry"><a class="WebWorks_MiniTOC_Link" href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/bootloader_update_agx_tx2.html#wwpID0E0UD0HA">Manually Modifying Boot Slots</a></div></dd><dd><div class="WebWorks_MiniTOC_Entry"><a class="WebWorks_MiniTOC_Link" href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/bootloader_update_agx_tx2.html#wwpID0E0YC0HA">Sample Boot Log</a></div></dd><dd><div class="WebWorks_MiniTOC_Entry"><a class="WebWorks_MiniTOC_Link" href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/bootloader_update_agx_tx2.html#wwpID0E0NB0HA">Generating the Bootloader Update Payload (BUP)</a></div></dd></dl></div><div id="wwpID0E0ML0HA" class="Body_Text_Indent"><span class="Strong">Applies to</span>: Jetson Xavier NX, Jetson AGX Xavier series, and Jetson TX2 series</div><div id="wwpID0E0LL0HA" class="Body_Text">Bootloader update process provides a safe Bootloader update and ensures that a workable Bootloader partition remains on boot storage during an update. It achieves this with <span class="Strong">A/B update</span>, a feature that maintains two sets of Bootloader partitions, Slot A and Slot B, where a slot is a set of partitions that contain boot images.</div><div id="wwpID0E0KL0HA" class="Body_Text"><span style="font-weight: bold">Root filesystems </span><span class="Strong">redundancy</span> (“rootfs redundancy”) is a feature added on top of A/B update to provide Bootloader redundancy. It automatically maintains the same Bootloader image on both Bootloader slots, allowing the system to boot from the unused slot if the current slot is corrupted. </div><div id="wwpID0E0JL0HA" class="Body_Text">A/B update and rootfs redundancy reduce the risk of boot failure after a Bootloader update and when images on the current Bootloader slot are corrupted.</div><div id="wwpID0E0IL0HA" class="Body_Text">Rootfs redundancy is disabled by default. To enable it, see <span class="Hyperlink"><a href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/bootloader_update_agx_tx2.html#wwpID0E0ZH0HA" title="Jetson Xavier NX / AGX Xavier / TX2 Update and Redundancy">Enabling Bootloader Redundancy</a></span>.</div><H4 id="wwpID0E0HL0HA" class="Heading_4">A/B Slot Layout</H4><div id="wwpID0E0GL0HA" class="Body_Text">The principle of shadow copies enables multiple placeholders. All placeholders, but one, holds backup copies. Each copy constitutes a potential candidate to boot from. However, based on runtime decisions, the correct copy of the binary is loaded to continue with the boot process. These two shadow copies are commonly referred to as Slot A and Slot B. This two-slot implementation is as follows:</div><div id="wwpID0E0FL0HA" class="Body_Text">The following diagram gives a conceptual example of the slot implementation.</div><div class="ww_skin_page_overflow"><div id="wwpID0E0EL0HA" class="Body_Text"><img class="Default" src="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/images/bootloader_update_agx_tx2.1.1.jpg" style="display: inline; left: 0pt; top: 0pt" alt="" title="" /></div></div><H4 id="wwpID0E0DL0HA" class="Heading_4">A/B System Update</H4><div id="wwpID0E0CL0HA" class="Body_Text">The A/B slot system updates affects these components:</div><div id="wwpID0E0BL0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Hyperlink"><a href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/bootloader_update_agx_tx2.html#wwpID0E06K0HA" title="Jetson Xavier NX / AGX Xavier / TX2 Update and Redundancy">Partition selection</a></span></div><div id="wwpID0E0AL0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Hyperlink"><a href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/bootloader_update_agx_tx2.html#wwpID0E0LK0HA" title="Jetson Xavier NX / AGX Xavier / TX2 Update and Redundancy">Update engine</a></span></div><div id="wwpID0E06K0HA" class="Heading_5">Partition Selection</div><div id="wwpID0E05K0HA" class="Body_Text">A/B system updates use two sets of partitions, known as <span class="Strong">slots</span>. Each slot has several attributes:</div><div id="wwpID0E04K0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>The <span class="Strong">current slot</span> is the slot that the system, if running, booted from. The other slot is called the <span class="Strong">unused slot</span>. The system may exchange the roles of the current and unused slot in the course of an update, or when the slot fails repeatedly during or immediately after a boot from the current slot.</div><div id="wwpID0E03K0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>The <span class="Strong">active slot</span> is the slot that the next boot operation will attempt to boot from. In the normal state the active slot is the same as the bootable slot. When the system is being updated it may be different.</div><div id="wwpID0E02K0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>The <span class="Strong">Bootable</span> attribute indicates whether the slot contains a correct system that can be used to boot the device. When the system is running the current slot is bootable; the unused slot may have an older, identical, or newer version of the system, and may or may not be bootable.</div><div id="wwpID0E01K0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>The <span class="Strong">Successful</span> attribute indicates that the system has attempted to boot from the slot, and the most recent attempt succeeded. It is set by the user space <span class="Strong">Update Engine</span> (UE) the first time a newly updated slot boots successfully to the kernel. It is reset when a slot is updated or a boot attempt fails. This normally happens immediately after a system update when the updated software contains an error.</div><div id="wwpID0E0ZK0HA" class="Body_Text">If a bootable slot fails to boot a certain number of times, Bootloader resets its Bootable attribute and switches the roles of the current and unused slots. The formerly unused, now current slot normally was the current slot before the last update, and contains the boot-related software that was used for the most recent successful boot.</div><div id="wwpID0E0YK0HA" class="Body_Text">The slot status details are defined in a structure stored in the <span class="Strong">slot metadata</span> (SMD) partition:</div><div class="ww_skin_page_overflow"><div id="wwpID0E0XK0HA" class="Body_Text"><img class="Default" src="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/images/image2_6.png" style="display: inline; left: 0pt; top: 0pt" alt="A screenshot of a cell phone Description automatically generated" title="A screenshot of a cell phone Description automatically generated" /></div></div><div id="wwpID0E0WK0HA" class="Body_Text">Where:</div><div id="wwpID0E0VK0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">magic</span> is a fixed value that identifies the SMD partition.</div><div id="wwpID0E0UK0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">version</span> specifies the version number of the software in the slot.</div><div id="wwpID0E0TK0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">num_slots</span> specifies the number of slots, which should be 2.</div><div id="wwpID0E0SK0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">slot_info</span> is an array of structures which contain information about the slots. In each slot:</div><div id="wwpID0E0RK0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">priority</span> is the priority of this slot.</div><div id="wwpID0E0QK0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">suffix</span> is a string, either “<span class="Code_Char">_a</span>” or “<span class="Code_Char">_b</span>,” that is suffixed to the A/B partitions’ names to make them unique.</div><div id="wwpID0E0PK0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">retry_count</span> is the number of boot retries remaining before Bootloader resets the current slot’s Successful and Bootable attributes and tries to boot from the unused slot.</div><div id="wwpID0E0OK0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">boot_successful</span> is the slot’s Successful attribute.</div><div id="wwpID0E0NK0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>The bootable slot is the slot with <span class="Code_Char">priority</span> and <span class="Code_Char">retry_count</span> both greater than 0.</div><div id="wwpID0E0MK0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>The current slot is the slot with the highest priority and a <span class="Code_Char">retry_count</span> greater than 0. This slot is booted by the next power cycle.</div><div id="wwpID0E0LK0HA" class="Heading_5">Update Engine</div><div id="wwpID0E0KK0HA" class="Body_Text">The A/B system update uses the Update Engine to update A/B slots and to prepare the system to boot an updated version of Bootloader. The Update Engine performs these actions:</div><div id="wwpID0E0JK0HA" class="List_Number"><span class="WebWorks_Number" style="width: 18pt"><span style="font-family: &quot;Palatino Linotype&quot;; font-size: 11pt; font-style: normal; font-weight: normal; text-transform: uppercase">1.	</span></span>Reads the <span class="Code_Char">bl_update_payload</span> and writes data to the unused slot’s partitions as instructed by payload</div><div id="wwpID0E0IK0HA" class="List_Number"><span class="WebWorks_Number" style="width: 18pt"><span style="font-family: &quot;Palatino Linotype&quot;; font-size: 11pt; font-style: normal; font-weight: normal; text-transform: uppercase">2.	</span></span>Calls the <span class="Code_Char">boot_control</span> interface in a pre-defined workflow</div><div id="wwpID0E0HK0HA" class="List_Number"><span class="WebWorks_Number" style="width: 18pt"><span style="font-family: &quot;Palatino Linotype&quot;; font-size: 11pt; font-style: normal; font-weight: normal; text-transform: uppercase">3.	</span></span>Switches the roles of the current and unused slots</div><div id="wwpID0E0GK0HA" class="List_Number"><span class="WebWorks_Number" style="width: 18pt"><span style="font-family: &quot;Palatino Linotype&quot;; font-size: 11pt; font-style: normal; font-weight: normal; text-transform: uppercase">4.	</span></span>Reboots the system</div><div id="wwpID0E0FK0HA" class="List_Number"><span class="WebWorks_Number" style="width: 18pt"><span style="font-family: &quot;Palatino Linotype&quot;; font-size: 11pt; font-style: normal; font-weight: normal; text-transform: uppercase">5.	</span></span>Updates images on the unused, previously current slot to ensure that both slots contain the update</div><div id="wwpID0E0EK0HA" class="Body_Text">For more information, see:</div><div id="wwpID0E0DK0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Hyperlink"><a href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/bootloader_update_agx_tx2.html#wwpID0E0NJ0HA" title="Jetson Xavier NX / AGX Xavier / TX2 Update and Redundancy">Update Engine Usage</a></span></div><div id="wwpID0E0CK0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Hyperlink"><a href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/bootloader_update_agx_tx2.html#wwpID0E0NE0HA" title="Jetson Xavier NX / AGX Xavier / TX2 Update and Redundancy">Running the Update Engine</a></span></div><H4 id="wwpID0E0BK0HA" class="Heading_4">Bootloader Implementation</H4><div id="wwpID0E0AK0HA" class="Body_Text">The A/B system uses the boot slot metadata to store the slot status. It communicates between the Update Engine and Bootloader. Bootloader runs the state machine to select the boot slot. It handles the update failure cases as follows:</div><div class="ww_skin_page_overflow"><div id="wwpID0E06J0HA" class="Body_Text"><img class="Default" src="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/images/image3_4.png" style="display: inline; left: 0pt; top: 0pt" alt="A screenshot of a cell phone Description automatically generated" title="A screenshot of a cell phone Description automatically generated" /></div></div><div id="wwpID0E05J0HA" class="Body_Text">MB1 uses the slot metadata to find the current slot. It caches the current slot number, 0 (slot&nbsp;A) or 1 (slot&nbsp;B), along with a “valid” flag, in scratch register 99 to be used by MB2, CBoot, or later stage loaders.</div><div class="ww_skin_page_overflow"><table class="Table_Normal" style="margin-left: 36pt" cellspacing="0" summary=""><tr><td style="background-color: #DDEEBF; background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top; width: 356pt" colspan="6"><div id="wwpID0EAAD04J0HA" class="Cell_Heading">Scratch register 99 layout</div></td></tr><tr><td style="background-color: #DDEEBF; background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top; width: 356pt" colspan="6"><div id="wwpID0EAAC04J0HA" class="Cell_Heading">Bits</div></td></tr><tr><td style="background-color: #FFFFFF; background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top; width: 36pt"><div id="wwpID0EAFB04J0HA" class="Cell_Heading">31-30</div></td><td style="background-color: #FFFFFF; background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top; width: 63pt"><div id="wwpID0EAEB04J0HA" class="Cell_Heading">29-26</div></td><td style="background-color: #FFFFFF; background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top; width: 63pt"><div id="wwpID0EADB04J0HA" class="Cell_Heading">25-22</div></td><td style="background-color: #FFFFFF; background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top; width: 50.2pt"><div id="wwpID0EACB04J0HA" class="Cell_Heading">21-19</div></td><td style="background-color: #FFFFFF; background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top; width: 62.3pt"><div id="wwpID0EABB04J0HA" class="Cell_Heading">18-16</div></td><td style="background-color: #FFFFFF; background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top; width: 81.5pt"><div id="wwpID0EAAB04J0HA" class="Cell_Heading">15-0</div></td></tr><tr><td style="background-color: #FFFFFF; background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EAFA04J0HA" class="Cell_Heading">Flag</div></td><td style="background-color: #FFFFFF; background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EAEA04J0HA" class="Cell_Heading">Slot A<br />retry count</div></td><td style="background-color: #FFFFFF; background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EADA04J0HA" class="Cell_Heading">Slot B<br />retry count</div></td><td style="background-color: #FFFFFF; background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EACA04J0HA" class="Cell_Heading">Maximum slots</div></td><td style="background-color: #FFFFFF; background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EABA04J0HA" class="Cell_Heading">Current slot number</div></td><td style="background-color: #FFFFFF; background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EAAA04J0HA" class="Cell_Heading">Magic pattern café</div></td></tr></table></div><div id="wwpID0E03J0HA" class="Body_Text">If MB1 does not find a current slot, the device hangs.</div><div id="wwpID0E02J0HA" class="Body_Text">The name of the partition that is being loaded is derived as follows:</div><div id="wwpID0E01J0HA" class="Code">partition_name = &lt;base_name&gt;_&lt;slot_value&gt;”</div><div id="wwpID0E0ZJ0HA" class="Code">slot value = “” for slot 0</div><div id="wwpID0E0YJ0HA" class="Code">slot value = “_b” for slot 1</div><div id="wwpID0E0XJ0HA" class="Heading_5">Partition Settings</div><div id="wwpID0E0WJ0HA" class="Body_Text">All A/B partitions must be named as follows:</div><div id="wwpID0E0VJ0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>mb1</div><div id="wwpID0E0UJ0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>mb1_b</div><div id="wwpID0E0TJ0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>mb2</div><div id="wwpID0E0SJ0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>mb2_b</div><div id="wwpID0E0RJ0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>cboot</div><div id="wwpID0E0QJ0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>cboot_b</div><div id="wwpID0E0PJ0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>etc</div><div id="wwpID0E0OJ0HA" class="Body_Text">The empty suffix for Slot A is to ensure backward compatibility with legacy A/B unaware partition loading mechanisms.</div><div id="wwpID0E0NJ0HA" class="Heading_5">Update Engine States</div><div id="wwpID0E0MJ0HA" class="Body_Text">The Update Engine (UE), <span class="Code_Char">nv_update_engine</span>, uses the slot metadata to instruct Bootloader what slot to boot from. The following scenarios identify all UE states.</div><div id="wwpID0E0LJ0HA" class="Heading_6">Normal State</div><div id="wwpID0E0KJ0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>The system has booted from the current slot, which may be Slot A or Slot B.</div><div id="wwpID0E0JJ0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>No updates have been applied. </div><div id="wwpID0E0IJ0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>The current slot is Bootable and Successful, and is the active slot.</div><div id="wwpID0E0HJ0HA" class="Body_Text">This table shows the status of a system in the normal state with slot B current. Slot A is the unused slot because its priority is lower than that of slot B.</div><div class="ww_skin_page_overflow"><table class="Table_Normal" style="margin-left: 35.75pt" cellspacing="0" summary=""><tr><td style="background-color: #DDEEBF; background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top; width: 49.5pt"><div id="wwpID0EADC0GJ0HA" class="Cell_Heading">Slot</div></td><td style="background-color: #DDEEBF; background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top; width: 79.2pt"><div id="wwpID0EACC0GJ0HA" class="Cell_Heading">Priority</div></td><td style="background-color: #DDEEBF; background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top; width: 79.2pt"><div id="wwpID0EABC0GJ0HA" class="Cell_Heading">Retry count</div></td><td style="background-color: #DDEEBF; background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top; width: 79.2pt"><div id="wwpID0EAAC0GJ0HA" class="Cell_Heading">Successful</div></td></tr><tr><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EADB0GJ0HA" class="Cell_Text">Slot A</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EACB0GJ0HA" class="Cell_Text" style="text-align: center">14</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EABB0GJ0HA" class="Cell_Text" style="text-align: center">7</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EAAB0GJ0HA" class="Cell_Text" style="text-align: center">1</div></td></tr><tr><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EADA0GJ0HA" class="Cell_Text">Slot B</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EACA0GJ0HA" class="Cell_Text" style="text-align: center">15</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EABA0GJ0HA" class="Cell_Text" style="text-align: center">7</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EAAA0GJ0HA" class="Cell_Text" style="text-align: center">1</div></td></tr></table></div><div id="wwpID0E0FJ0HA" class="Heading_6">Update in Progress</div><div id="wwpID0E0EJ0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>The system booted from the current slot. It is updating the unused slot.</div><div id="wwpID0E0DJ0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>The current slot is Bootable and Successful, and is the active slot.</div><div id="wwpID0E0CJ0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>The unused slot is not Bootable because it is being updated and the update is not yet complete.</div><div id="wwpID0E0BJ0HA" class="Body_Text">This table shows the status of a system with slot B current and an update of slot A in progress. If the system must reboot in this state, it reboots from slot B.</div><div class="ww_skin_page_overflow"><table class="Table_Normal" style="margin-left: 35.75pt" cellspacing="0" summary=""><tr><td style="background-color: #DDEEBF; background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top; width: 49.5pt"><div id="wwpID0EADC0AJ0HA" class="Cell_Heading"><span class="Strong">Slot</span></div></td><td style="background-color: #DDEEBF; background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top; width: 76.5pt"><div id="wwpID0EACC0AJ0HA" class="Cell_Heading"><span class="Strong">Priority</span></div></td><td style="background-color: #DDEEBF; background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top; width: 81pt"><div id="wwpID0EABC0AJ0HA" class="Cell_Heading"><span class="Strong">Retry count</span></div></td><td style="background-color: #DDEEBF; background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top; width: 81pt"><div id="wwpID0EAAC0AJ0HA" class="Cell_Heading"><span class="Strong">Successful</span></div></td></tr><tr><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EADB0AJ0HA" class="Cell_Text">Slot A</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EACB0AJ0HA" class="Cell_Text" style="text-align: center">0</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EABB0AJ0HA" class="Cell_Text" style="text-align: center">0</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EAAB0AJ0HA" class="Cell_Text" style="text-align: center">0</div></td></tr><tr><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EADA0AJ0HA" class="Cell_Text">Slot B</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EACA0AJ0HA" class="Cell_Text" style="text-align: center">15</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EABA0AJ0HA" class="Cell_Text" style="text-align: center">7</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EAAA0AJ0HA" class="Cell_Text" style="text-align: center">1</div></td></tr></table></div><div id="wwpID0E06I0HA" class="Heading_6">Update Applied, Reboot Pending</div><div id="wwpID0E05I0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>The roles of the now-current and unused slots are about to be switched. Thus the system will attempt to boot from the now-unused slot.</div><div id="wwpID0E04I0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>The now-unused slot is marked as Bootable and becomes the active slot, but is not yet marked as Successful.</div><div id="wwpID0E03I0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Bootloader attempts to boot from the newly updated slot some number of times.</div><div id="wwpID0E02I0HA" class="Body_Text">This table shows the status of a system with an update applied to slot A and a reboot pending from slot A.</div><div class="ww_skin_page_overflow"><table class="Table_Normal" style="margin-left: 35.75pt" cellspacing="0" summary=""><tr><td style="background-color: #DDEEBF; background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top; width: 49.5pt"><div id="wwpID0EADC01I0HA" class="Cell_Heading"><span class="Strong">Slot</span></div></td><td style="background-color: #DDEEBF; background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top; width: 76.5pt"><div id="wwpID0EACC01I0HA" class="Cell_Heading"><span class="Strong">Priority</span></div></td><td style="background-color: #DDEEBF; background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top; width: 81pt"><div id="wwpID0EABC01I0HA" class="Cell_Heading"><span class="Strong">Retry count</span></div></td><td style="background-color: #DDEEBF; background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top; width: 81pt"><div id="wwpID0EAAC01I0HA" class="Cell_Heading"><span class="Strong">Successful</span></div></td></tr><tr><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EADB01I0HA" class="Cell_Text">Slot A</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EACB01I0HA" class="Cell_Text" style="text-align: center">15</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EABB01I0HA" class="Cell_Text" style="text-align: center">7</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EAAB01I0HA" class="Cell_Text" style="text-align: center">0</div></td></tr><tr><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EADA01I0HA" class="Cell_Text">Slot B</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EACA01I0HA" class="Cell_Text" style="text-align: center">14</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EABA01I0HA" class="Cell_Text" style="text-align: center">7</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EAAA01I0HA" class="Cell_Text" style="text-align: center">1</div></td></tr></table></div><div id="wwpID0E0ZI0HA" class="Heading_6">System Reboot into a New Update</div><div id="wwpID0E0YI0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>The system is booting from the newly updated, now current slot for the first time.</div><div id="wwpID0E0XI0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>The formerly current, now unused slot is still Bootable and Successful, while the now current slot is Bootable and is the active slot, but is not Successful.</div><div id="wwpID0E0WI0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>The Update Engine marks the now current slot Successful after a successful boot and some system checks.</div><div id="wwpID0E0VI0HA" class="Body_Text">This table shows the status of a system that is booting from a new update on slot A.</div><div class="ww_skin_page_overflow"><table class="Table_Normal" style="margin-left: 35.75pt" cellspacing="0" summary=""><tr><td style="background-color: #DDEEBF; background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top; width: 49.5pt"><div id="wwpID0EADC0UI0HA" class="Cell_Heading"><span class="Strong">Slot</span></div></td><td style="background-color: #DDEEBF; background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top; width: 76.5pt"><div id="wwpID0EACC0UI0HA" class="Cell_Heading"><span class="Strong">Priority</span></div></td><td style="background-color: #DDEEBF; background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top; width: 81pt"><div id="wwpID0EABC0UI0HA" class="Cell_Heading"><span class="Strong">Retry count</span></div></td><td style="background-color: #DDEEBF; background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top; width: 81pt"><div id="wwpID0EAAC0UI0HA" class="Cell_Heading"><span class="Strong">Successful</span></div></td></tr><tr><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EADB0UI0HA" class="Cell_Text">Slot A</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EACB0UI0HA" class="Cell_Text" style="text-align: center">15</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EABB0UI0HA" class="Cell_Text" style="text-align: center">6</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EAAB0UI0HA" class="Cell_Text" style="text-align: center">0</div></td></tr><tr><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EADA0UI0HA" class="Cell_Text">Slot B</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EACA0UI0HA" class="Cell_Text" style="text-align: center">14</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EABA0UI0HA" class="Cell_Text" style="text-align: center">7</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EAAA0UI0HA" class="Cell_Text" style="text-align: center">1</div></td></tr></table></div><div id="wwpID0E0TI0HA" class="Heading_6">Slot Duplication in Progress</div><div id="wwpID0E0SI0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>The system has booted from the newly updated slot for the first time.</div><div id="wwpID0E0RI0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>The formerly current, now unused slot is marked as not Bootable because it is being updated.</div><div id="wwpID0E0QI0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>If the system must reboot in this state it boots from the newly updated, now current slot.</div><div id="wwpID0E0PI0HA" class="Body_Text">This table shows the status of a system with slot duplication in progress from slot A to slot B.</div><div class="ww_skin_page_overflow"><table class="Table_Normal" style="margin-left: 35.75pt" cellspacing="0" summary=""><tr><td style="background-color: #DDEEBF; background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top; width: 49.5pt"><div id="wwpID0EADC0OI0HA" class="Cell_Heading"><span class="Strong">Slot</span></div></td><td style="background-color: #DDEEBF; background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top; width: 76.5pt"><div id="wwpID0EACC0OI0HA" class="Cell_Heading"><span class="Strong">Priority</span></div></td><td style="background-color: #DDEEBF; background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top; width: 81pt"><div id="wwpID0EABC0OI0HA" class="Cell_Heading"><span class="Strong">Retry count</span></div></td><td style="background-color: #DDEEBF; background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top; width: 81pt"><div id="wwpID0EAAC0OI0HA" class="Cell_Heading"><span class="Strong">Successful</span></div></td></tr><tr><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EADB0OI0HA" class="Cell_Text">Slot A</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EACB0OI0HA" class="Cell_Text" style="text-align: center">15</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EABB0OI0HA" class="Cell_Text" style="text-align: center">6</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EAAB0OI0HA" class="Cell_Text" style="text-align: center">0</div></td></tr><tr><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EADA0OI0HA" class="Cell_Text">Slot B</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EACA0OI0HA" class="Cell_Text" style="text-align: center">0</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EABA0OI0HA" class="Cell_Text" style="text-align: center">0</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EAAA0OI0HA" class="Cell_Text" style="text-align: center">0</div></td></tr></table></div><div id="wwpID0E0NI0HA" class="Heading_6">Slot Duplication Complete</div><div id="wwpID0E0MI0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>The system has booted from the current slot for the first time and has duplicated the current slot to the unused slot.</div><div id="wwpID0E0LI0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>The current slot is marked as Bootable and Successful. The unused, newly duplicated slot is marked as Bootable and Successful, but with lower priority.</div><div id="wwpID0E0KI0HA" class="Body_Text">This table shows the status of a system with completed slot duplication from slot A to slot B.</div><div class="ww_skin_page_overflow"><table class="Table_Normal" style="margin-left: 35.75pt" cellspacing="0" summary=""><tr><td style="background-color: #DDEEBF; background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top; width: 49.5pt"><div id="wwpID0EADC0JI0HA" class="Cell_Heading"><span class="Strong">Slot</span></div></td><td style="background-color: #DDEEBF; background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top; width: 76.5pt"><div id="wwpID0EACC0JI0HA" class="Cell_Heading"><span class="Strong">Priority</span></div></td><td style="background-color: #DDEEBF; background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top; width: 81pt"><div id="wwpID0EABC0JI0HA" class="Cell_Heading"><span class="Strong">Retry count</span></div></td><td style="background-color: #DDEEBF; background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top; width: 81pt"><div id="wwpID0EAAC0JI0HA" class="Cell_Heading"><span class="Strong">Successful</span></div></td></tr><tr><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EADB0JI0HA" class="Cell_Text">Slot A</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EACB0JI0HA" class="Cell_Text" style="text-align: center">15</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EABB0JI0HA" class="Cell_Text" style="text-align: center">7</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EAAB0JI0HA" class="Cell_Text" style="text-align: center">1</div></td></tr><tr><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EADA0JI0HA" class="Cell_Text">Slot B</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EACA0JI0HA" class="Cell_Text" style="text-align: center">14</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EABA0JI0HA" class="Cell_Text" style="text-align: center">7</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EAAA0JI0HA" class="Cell_Text" style="text-align: center">1</div></td></tr></table></div><div id="wwpID0E0II0HA" class="Heading_6">Boot Failure and Recovery</div><div id="wwpID0E0HI0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>The system fails to boot from the current slot due to data corruption or I/O errors.</div><div id="wwpID0E0GI0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>After some number of failed attempts to boot from the current slot, Bootloader marks the current slot not Bootable and boots from the unused slot.</div><div id="wwpID0E0FI0HA" class="Body_Text">This table shows the status of a system that failed to boot from slot A and recovered by booting from slot B.</div><div class="ww_skin_page_overflow"><table class="Table_Normal" style="margin-left: 35.75pt" cellspacing="0" summary=""><tr><td style="background-color: #DDEEBF; background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top; width: 49.5pt"><div id="wwpID0EADC0EI0HA" class="Cell_Heading"><span class="Strong">Slot</span></div></td><td style="background-color: #DDEEBF; background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top; width: 76.5pt"><div id="wwpID0EACC0EI0HA" class="Cell_Heading"><span class="Strong">Priority</span></div></td><td style="background-color: #DDEEBF; background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top; width: 81pt"><div id="wwpID0EABC0EI0HA" class="Cell_Heading"><span class="Strong">Retry count</span></div></td><td style="background-color: #DDEEBF; background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top; width: 81pt"><div id="wwpID0EAAC0EI0HA" class="Cell_Heading"><span class="Strong">Successful</span></div></td></tr><tr><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EADB0EI0HA" class="Cell_Text">Slot A</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EACB0EI0HA" class="Cell_Text" style="text-align: center">0</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EABB0EI0HA" class="Cell_Text" style="text-align: center">0</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EAAB0EI0HA" class="Cell_Text" style="text-align: center">0</div></td></tr><tr><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EADA0EI0HA" class="Cell_Text">Slot B</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EACA0EI0HA" class="Cell_Text" style="text-align: center">14</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EABA0EI0HA" class="Cell_Text" style="text-align: center">7</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EAAA0EI0HA" class="Cell_Text" style="text-align: center">1</div></td></tr></table></div><div id="wwpID0E0DI0HA" class="Body_Text">In this state the Update Engine is not allowed to duplicate a slot. Duplication is not allowed until the system updates the now-unused slot and boots from it successfully. The Update Engine also is not allowed to modify the partition table or the contents of partitions not assigned to slot A or B.</div><H4 id="wwpID0E0CI0HA" class="Heading_4">When the Update Engine is Launched</H4><div id="wwpID0E0BI0HA" class="Body_Text">The update engine is launched under these scenarios:</div><div id="wwpID0E0AI0HA" class="List_Number"><span class="WebWorks_Number" style="width: 18pt"><span style="font-family: &quot;Palatino Linotype&quot;; font-size: 11pt; font-style: normal; font-weight: normal; text-transform: uppercase">6.	</span></span>An explicit launch by the user to update partitions with newer versions, with the command:</div><div id="wwpID0E06H0HA" class="Code">$ sudo nv_update_engine --install</div><div id="wwpID0E05H0HA" class="List_Continue">The update engine applies Bootloader update payload (BUP) during the update. The BUP must be named <span class="Code_Char">bl_update_payload</span> and must be placed under:</div><div id="wwpID0E04H0HA" class="Code">/opt/ota_package</div><div id="wwpID0E03H0HA" class="List_Number"><span class="WebWorks_Number" style="width: 18pt"><span style="font-family: &quot;Palatino Linotype&quot;; font-size: 11pt; font-style: normal; font-weight: normal; text-transform: uppercase">7.	</span></span>Update Engine is launched by the boot service during a system boot with the command:</div><div id="wwpID0E02H0HA" class="Code">$ sudo nv_update_engine --verify</div><div id="wwpID0E01H0HA" class="List_Continue">The update engine loads the slot metadata, evaluates the current state, and runs a pre-defined workflow. In normal boot, the update engine is in normal boot state, where an update is not applied and a duplicate is not required. The update engine simply exits.</div><H4 id="wwpID0E0ZH0HA" class="Heading_4">Enabling Bootloader Redundancy</H4><div id="wwpID0E0YH0HA" class="Body_Text">There are two methods for enabling Bootloader redundancy:</div><div id="wwpID0E0XH0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Creating an SMD image and setting redundancy settings.</div><div id="wwpID0E0WH0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Using the <span class="Code_Char">nv_update_engine</span> tool to enable redundancy.</div><div id="wwpID0E0VH0HA" class="Heading_5">To enable redundancy by creating an SMD image</div><div id="wwpID0E0UH0HA" class="List_Number" style="text-indent: -18pt"><span class="WebWorks_Number" style="width: 18pt"><span style="font-family: &quot;Palatino Linotype&quot;; font-size: 11pt; font-style: normal; font-weight: normal; text-transform: uppercase">1.	</span></span>Modify the SMD configuration file <span class="Code_Char">smd_info.cfg</span> to enable A/B slots.</div><div id="wwpID0E0TH0HA" class="List_Number"><span class="WebWorks_Number" style="width: 18pt"><span style="font-family: &quot;Palatino Linotype&quot;; font-size: 11pt; font-style: normal; font-weight: normal; text-transform: uppercase">2.	</span></span>Run the host tool <span class="Code_Char">nv_smd_generator</span> on the x86 system to generate the SMD image with the updated SMD configuration file.</div><div id="wwpID0E0SH0HA" class="List_Continue">For instructions on generating the SMD image, consult <span class="Hyperlink"><a href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/bootloader_update_agx_tx2.html#wwpID0E0NG0HA" title="Jetson Xavier NX / AGX Xavier / TX2 Update and Redundancy">SMD Image Generator</a></span>.</div><div id="wwpID0E0RH0HA" class="List_Number"><span class="WebWorks_Number" style="width: 18pt"><span style="font-family: &quot;Palatino Linotype&quot;; font-size: 11pt; font-style: normal; font-weight: normal; text-transform: uppercase">3.	</span></span>Run the <span class="Code_Char">flash.sh</span> script to perform a fresh flash of the device with all the partitions.</div><div id="wwpID0E0QH0HA" class="Heading_5">To enable redundancy by using the nv_update_engine</div><div id="wwpID0E0PH0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>On the target system launch the <span class="Code_Char">nv_update_engine</span> tool to enable A/B for the flashed device with A/B disabled SMD image.</div><div id="wwpID0E0OH0HA" class="List_Continue">For instructions consult <span class="Hyperlink"><a href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/bootloader_update_agx_tx2.html#wwpID0E0NE0HA" title="Jetson Xavier NX / AGX Xavier / TX2 Update and Redundancy">Running the Update Engine</a></span>. </div><H4 id="wwpID0E0NH0HA" class="Heading_4">Bootloader Tools</H4><div id="wwpID0E0MH0HA" class="Body_Text">The following NVIDIA tools are provided for ease-of-use of Bootloader update process.</div><div id="wwpID0E0LH0HA" class="Heading_5">Boot Control</div><div id="wwpID0E0KH0HA" class="Body_Text">The <span class="Code_Char">nvbootctrl</span> tool is intended for debugging purposes to load in the SMD image and dump the slot information. It can also be used to set the active slot to forcefully change the boot slot in the next boot. </div><div id="wwpID0E0JH0HA" class="Heading_6">To display the command usage</div><div id="wwpID0E0IH0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Enter the command:</div><div id="wwpID0E0HH0HA" class="Code">$ sudo nvbootctrl</div><div id="wwpID0E0GH0HA" class="Heading_5">Bootloader Update Payload Generator</div><div id="wwpID0E0FH0HA" class="Body_Text">The Bootloader Update Payload (BUP) is the payload that is applied by the update engine during an update. The BUP is generated by the host tool <span class="Code_Char">build_l4t_bup.sh</span> script that is packaged along with the <span class="Code_Char">flash.sh</span> flashing script tool in the Linux for Jetson Board Support Package (BSP).</div><div id="wwpID0E0EH0HA" class="Body_Text">This section describes procedures for generating a multi-spec BUP or a single-spec BUP. A multi-spec BUP includes multiple firmware binaries and BCT images of each type, and can be used to update any supported type of Jetson device. When you run the updater, it uses the appropriate binary of each type for the device you are updating. A single-spec BUP contains just one binary of each type, and can be used to update just one Jetson device configuration.</div><div id="wwpID0E0DH0HA" class="Heading_6">To generate a multi-spec BUP</div><div id="wwpID0E0CH0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Enter the commands:</div><div id="wwpID0E0BH0HA" class="Code">$ cd &lt;top&gt;</div><div id="wwpID0E0AH0HA" class="Code">$ sudo ./l4t_generate_soc_bup.sh [-u &lt;pkc_key_file&gt;] [‑p &lt;options&gt;] [-d] &lt;processor&gt;</div><div id="wwpID0E06G0HA" class="List_Continue">Where:</div><div id="wwpID0E05G0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span style="font-family: Arial">•	</span></span><span class="Code_Char">&lt;top&gt;</span> is the pathname of the directory that contains the PDK installation package. The <span class="Code_Char">flash.sh</span> script is in this directory.</div><div id="wwpID0E04G0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">&lt;pkc_key_file&gt;</span><span style="font-family: &quot;Trebuchet MS&quot;"> </span>is the RSA private key file for your Jetson carrier board. If it is a relative pathname, it is interpreted relative to <span style="font-family: &quot;Trebuchet MS&quot;">the </span><span class="Code_Char">&lt;top&gt;/bootloader</span><span style="font-family: &quot;Trebuchet MS&quot;"> </span>directory.</div><div id="wwpID0E03G0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span style="font-family: &quot;Palatino Linotype&quot;">•	</span></span><span class="Code_Char">-d</span> causes the script to run in debug mode, which keeps all boot firmware blob images in <span class="Code_Char">bootloader/signed</span> and <span class="Code_Char">bootloader/multi-signed</span></div><div id="wwpID0E02G0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span style="font-family: &quot;Palatino Linotype&quot;">•	</span></span><span class="Code_Char">&lt;options&gt;</span> is a string containing command line options to be passed to <span class="Code_Char">flash.sh</span> to generate the BUP. If the string contains whitespace characters, it must be enclosed in quotes.</div><div id="wwpID0E01G0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">&lt;processor&gt;</span> is t19x for a Jetson AGX Xavier series processor, or <span class="Code_Char">t18x</span> for a Jetson TX2 series processor.</div><div id="wwpID0E0ZG0HA" class="Body_Text">The procedure stores the BUP in the file:</div><div id="wwpID0E0YG0HA" class="Code">&lt;top&gt;/bootloader/&lt;psd&gt;/bl_update_payload</div><div id="wwpID0E0XG0HA" class="Body_Text">For more information, see <span class="Hyperlink"><a href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/bootloader_update_agx_tx2.html#wwpID0E0NB0HA" title="Jetson Xavier NX / AGX Xavier / TX2 Update and Redundancy">Generating the Bootloader Update Payload (BUP)</a></span>.</div><div id="wwpID0E0WG0HA" class="Heading_6">To generate a single-spec BUP</div><div id="wwpID0E0VG0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Enter the command:</div><div id="wwpID0E0UG0HA" class="Code">$ sudo [env={value}, …] ./build_l4t_bup.sh [options] &lt;board&gt; &lt;rootdev&gt;</div><div id="wwpID0E0TG0HA" class="List_Continue">Where:</div><div id="wwpID0E0SG0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">&lt;board&gt;</span> is the value of <span class="Code_Char">$(BOARD)</span> for your Jetson module and configuration, as shown in the table <span class="Hyperlink"><a href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/quick_start.html#wwpID0EAAPNHA" title="Quick Start">Jetson Modules and Configurations</a></span> in the topic <span class="Hyperlink"><a href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/quick_start.html#" title="Quick Start">Quick Start</a></span>.</div><div id="wwpID0E0RG0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">&lt;rootdev&gt;</span> is the partition where the root file system is to be flashed.</div><div id="wwpID0E0QG0HA" class="Body_Text">The procedure stores the BUP in the file:</div><div id="wwpID0E0PG0HA" class="Code">&lt;top&gt;/bootloader/&lt;psd&gt;/<span class="Code_Char">bl_update_payload</span></div><div id="wwpID0E0OG0HA" class="Body_Text">For more information, see <span class="Hyperlink"><a href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/bootloader_update_agx_tx2.html#wwpID0E0NB0HA" title="Jetson Xavier NX / AGX Xavier / TX2 Update and Redundancy">Generating the Bootloader Update Payload (BUP)</a></span>.</div><div id="wwpID0E0NG0HA" class="Heading_5">Where the BUP File is Stored</div><div id="wwpID0E0MG0HA" class="Body_Text">Both procedures store the BUP file at:</div><div id="wwpID0E0LG0HA" class="Code">&lt;top&gt;/bootloader/&lt;payload_dir&gt;/bl_update_payload</div><div id="wwpID0E0KG0HA" class="Body_Text">Where <span class="Code_Char">&lt;payload_dir&gt;</span> is:</div><div id="wwpID0E0JG0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>For Jetson Xavier NX and Jetson AGX Xavier series devices: <span class="Code_Char">payloads_t19x</span></div><div id="wwpID0E0IG0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>For Jetson TX2 series devices: <span class="Code_Char">payloads_t18x</span></div><div id="wwpID0E0HG0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>For Jetson Nano and Jetson TX1 devices: <span class="Code_Char">payloads_t21x</span></div><div id="wwpID0E0GG0HA" class="Body_Text">The multi-spec procedure stores a BUP at each of these locations for the respective group of processors. The single-spec procedure stores a BUP at just one location for the appropriate type of processor.</div><div id="wwpID0E0FG0HA" class="Body_Text">You must place the BUP file in the target system under this directory before the Update Engine is run:</div><div id="wwpID0E0EG0HA" class="Code">/opt/ota_package/</div><div id="wwpID0E0DG0HA" class="Heading_5">SMD Image Generator</div><div id="wwpID0E0CG0HA" class="Body_Text">Run the <span class="Code_Char">nv_smd_generator</span> tool on X86 host systems to generate the default SMD image <span class="Code_Char">slot_metadata.bin</span> that is flashed into the SMD partition.</div><div id="wwpID0E0BG0HA" class="Heading_6">To launch the image generator</div><div id="wwpID0E0AG0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Enter the command:</div><div id="wwpID0E06F0HA" class="Code">$ nv_smd_generator &lt;config_file&gt; &lt;output_file&gt;</div><div id="wwpID0E05F0HA" class="List_Continue">Where:</div><div id="wwpID0E04F0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">&lt;config_file&gt;</span> is the SMD configuration file.</div><div id="wwpID0E03F0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">&lt;output_file&gt;</span> is the <span class="Code_Char">slot_metadata.bin</span> output SMD image.</div><div id="wwpID0E02F0HA" class="List_Continue">For example:</div><div id="wwpID0E01F0HA" class="Code">$ sudo nv_smd_generator smd_info.cfg slot_metadata.bin</div><div id="wwpID0E0ZF0HA" class="List_Continue">In the Linux for Jetson Board Support Package, <span class="Code_Char">nv_smd_generator</span>, the default SMD configuration file <span class="Code_Char">smd_info.cfg</span>, and the default image file <span class="Code_Char">slot_metadata.bin</span>, are installed under the directory:</div><div id="wwpID0E0YF0HA" class="Code">&lt;top&gt;/bootloader</div><div id="wwpID0E0XF0HA" class="List_Continue">By default, the <span class="Code_Char">smd_info.cfg</span> configuration file is set so that Slot A is the only available slot. This effectively disables redundancy:</div><div id="wwpID0E0WF0HA" class="Code">&lt; VERSION 4 &gt;</div><div id="wwpID0E0VF0HA" class="Code"># Set the maximum boot slot retry count</div><div id="wwpID0E0UF0HA" class="Code"># Please make sure this field is set before slot info config</div><div id="wwpID0E0TF0HA" class="Code">&lt; MAX_BL_RETRY_COUNT 7 &gt;</div><div id="wwpID0E0SF0HA" class="Code">#</div><div id="wwpID0E0RF0HA" class="Code"># Config 1: Disable A/B support (Default)</div><div id="wwpID0E0QF0HA" class="Code">#</div><div id="wwpID0E0PF0HA" class="Code">&nbsp;</div><div id="wwpID0E0OF0HA" class="Code"># slot info order is important!</div><div id="wwpID0E0NF0HA" class="Code"># &lt;priority&gt;    &lt;suffix&gt;   &lt;boot_successful&gt;</div><div id="wwpID0E0MF0HA" class="Code">15                  _a         1</div><div id="wwpID0E0LF0HA" class="Code">&nbsp;</div><div id="wwpID0E0KF0HA" class="Code">#</div><div id="wwpID0E0JF0HA" class="Code"># Config 2: Enable redundancy support (by removing comments ##)</div><div id="wwpID0E0IF0HA" class="Code">#</div><div id="wwpID0E0HF0HA" class="Code">##&lt; REDUNDANCY_USER 1 &gt;</div><div id="wwpID0E0GF0HA" class="Code">#</div><div id="wwpID0E0FF0HA" class="Code"># To disable bootloader autosync, use &lt; BL_AUTOSYNC_DISABLE 1&gt;</div><div id="wwpID0E0EF0HA" class="Code"># REDUNDANCY_ENABLE or REDUNDANCY_USER must be defined before BL_AUTOSYNC DISABLE!</div><div id="wwpID0E0DF0HA" class="Code">##&lt; BL_AUTOSYNC_DISABLE 1 &gt;</div><div id="wwpID0E0CF0HA" class="Code">&nbsp;</div><div id="wwpID0E0BF0HA" class="Code"># slot info order is important!</div><div id="wwpID0E0AF0HA" class="Code"># &lt;priority&gt;    &lt;suffix&gt;   &lt;boot_successful&gt;</div><div id="wwpID0E06E0HA" class="Code">##15                  _a         1</div><div id="wwpID0E05E0HA" class="Code">##14                  _b         1</div><div id="wwpID0E04E0HA" class="List_Continue">Use Config 2 to create the SMD image and enable rootfs redundancy.</div><div id="wwpID0E03E0HA" class="Heading_6">To enable A/B update and rootfs redundancy</div><div id="wwpID0E02E0HA" class="List_Number"><span class="WebWorks_Number" style="width: 18pt"><span style="font-family: &quot;Palatino Linotype&quot;; font-size: 11pt; font-style: normal; font-weight: normal; text-transform: uppercase">4.	</span></span>Comment out the configuration that disables A/B update by adding a ‘#’ to the beginning of the parameter line below <span class="Code_Char">Config 1</span>:</div><div id="wwpID0E01E0HA" class="Code">15               _a            1</div><div id="wwpID0E0ZE0HA" class="List_Number"><span class="WebWorks_Number" style="width: 18pt"><span style="font-family: &quot;Palatino Linotype&quot;; font-size: 11pt; font-style: normal; font-weight: normal; text-transform: uppercase">5.	</span></span>“Uncomment” the configuration that enables A/B update by removing ‘##’ from the beginning of the parameter lines below <span class="Code_Char">Config 2</span>:</div><div id="wwpID0E0YE0HA" class="Code">##15               _a            1</div><div id="wwpID0E0XE0HA" class="Code">##14               _b            1</div><div id="wwpID0E0WE0HA" class="List_Continue">Now the Bootloader-related partitions, the <span class="Code_Char">kernel</span> partition, and the <span class="Code_Char">kernel-dtb</span> partition all have A/B slots.</div><div id="wwpID0E0VE0HA" class="List_Number"><span class="WebWorks_Number" style="width: 18pt"><span style="font-family: &quot;Palatino Linotype&quot;; font-size: 11pt; font-style: normal; font-weight: normal; text-transform: uppercase">6.	</span></span>If you want to enable rootfs redundancy as well as A/B update, uncomment the <span class="Code_Char">&lt;REDUNDANCY_USER </span><span class="Emphasis">x</span><span class="Code_Char">&gt;</span> statement. Replace <span class="Emphasis">x</span> with a number that specifies the type of redundancy support you want:</div><div id="wwpID0E0UE0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>0: Support for redundancy at Bootloader only, i.e, from <span class="Code_Char">mb1</span>, <span class="Code_Char">mb2</span>, until <span class="Code_Char">cboot</span>.</div><div id="wwpID0E0TE0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>1: Support for redundancy at Bootloader, images at <span class="Code_Char">kernel</span>, and <span class="Code_Char">kernel-dtb</span> partitions.</div><div id="wwpID0E0SE0HA" class="List_Number"><span class="WebWorks_Number" style="width: 18pt"><span style="font-family: &quot;Palatino Linotype&quot;; font-size: 11pt; font-style: normal; font-weight: normal; text-transform: uppercase">7.	</span></span>Bootloader slot duplication is enabled by default. You can disable it by uncommenting the configuration:</div><div id="wwpID0E0RE0HA" class="Code">##&lt; BL_AUTOSYNC_DISABLE 1 &gt;</div><div id="wwpID0E0QE0HA" class="Heading_6">Maximum Boot Slot Retry Count</div><div id="wwpID0E0PE0HA" class="Body_Text"><span class="Code_Char">MAX_BL_RETRY_COUNT</span> specifies the maximum boot slot retry count. Its default value is 7. You can set any value between 0 and 7.</div><div class="ww_skin_page_overflow"><table class="Table_Normal" style="margin-left: 54pt" cellspacing="0" summary=""><tr><td style="background-color: #76B900; background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top; width: 49.5pt"><div id="wwpID0EABA0OE0HA" class="Note_Image">Note:</div></td><td style="background-color: #DDEEBF; background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top; width: 315pt"><div id="wwpID0EAAA0OE0HA" class="Note_Text">Rootfs redundancy is disabled by default because only one file system partition (APP) is created. NVIDIA can provide guidance on enabling rootfs redundancy.</div></td></tr></table></div><H4 id="wwpID0E0NE0HA" class="Heading_4">Running the Update Engine</H4><div id="wwpID0E0ME0HA" class="Body_Text">Run the update Engine script on the target system.</div><div id="wwpID0E0LE0HA" class="Heading_5">To enable/disable rootfs redundancy</div><div id="wwpID0E0KE0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Enter this command to enable redundancy:</div><div id="wwpID0E0JE0HA" class="Code">$ sudo nv_update_engine –-enable-ab</div><div id="wwpID0E0IE0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Enter this command to disable redundancy:</div><div id="wwpID0E0HE0HA" class="Code">$ sudo nv_update_engine –-disable-ab</div><div id="wwpID0E0GE0HA" class="Body_Text">The command fails if the current boot slot is NOT 0.</div><div id="wwpID0E0FE0HA" class="Heading_5">To update Bootloader</div><div id="wwpID0E0EE0HA" class="List_Number"><span class="WebWorks_Number" style="width: 18pt"><span style="font-family: &quot;Palatino Linotype&quot;; font-size: 11pt; font-style: normal; font-weight: normal; text-transform: uppercase">8.	</span></span>Enter this command to switch to superuser mode:</div><div id="wwpID0E0DE0HA" class="Code">$ sudo su</div><div id="wwpID0E0CE0HA" class="List_Number"><span class="WebWorks_Number" style="width: 18pt"><span style="font-family: &quot;Palatino Linotype&quot;; font-size: 11pt; font-style: normal; font-weight: normal; text-transform: uppercase">9.	</span></span>Enable rootfs redundancy (a one-time command):</div><div id="wwpID0E0BE0HA" class="Code">$ nv_update_engine --enable-ab</div><div id="wwpID0E0AE0HA" class="List_Number"><span class="WebWorks_Number" style="width: 18pt"><span style="font-family: &quot;Palatino Linotype&quot;; font-size: 11pt; font-style: normal; font-weight: normal; text-transform: uppercase">10.	</span></span>If a BUP directory does not exist, create one by executing the command:</div><div id="wwpID0E06D0HA" class="Code">$ mkdir /opt/ota_package</div><div id="wwpID0E05D0HA" class="List_Number"><span class="WebWorks_Number" style="width: 18pt"><span style="font-family: &quot;Palatino Linotype&quot;; font-size: 11pt; font-style: normal; font-weight: normal; text-transform: uppercase">11.	</span></span>Copy the BUP from the host system to this newly created BUP directory with the command:</div><div id="wwpID0E04D0HA" class="Code">$ scp &lt;host_loc:bl_update_payload&gt; /opt/ota_package/</div><div id="wwpID0E03D0HA" class="List_Continue">Where:</div><div id="wwpID0E02D0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">&lt;host_loc:bl_update_payload&gt;</span> is where the BUP is built on the host system. You can also use a USB key to copy the BUP from the host system to the target system.</div><div id="wwpID0E01D0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>See <span class="Hyperlink"><a href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/bootloader_update_agx_tx2.html#wwpID0E0NB0HA" title="Jetson Xavier NX / AGX Xavier / TX2 Update and Redundancy">Generating the Bootloader Update Payload</a></span> for information about how to generate the BUP.</div><div id="wwpID0E0ZD0HA" class="List_Number"><span class="WebWorks_Number" style="width: 18pt"><span style="font-family: &quot;Palatino Linotype&quot;; font-size: 11pt; font-style: normal; font-weight: normal; text-transform: uppercase">12.	</span></span>Launch the Update Engine to update Bootloader on the non-current slot with the command:</div><div id="wwpID0E0YD0HA" class="Code">$ nv_update_engine --install</div><H4 id="wwpID0E0XD0HA" class="Heading_4">Update Engine State Machine</H4><div id="wwpID0E0WD0HA" class="Body_Text">The <span class="Strong">Update Engine state machine</span> flow is as follows:</div><div class="ww_skin_page_overflow"><div id="wwpID0E0VD0HA" class="Body_Text" style="text-indent: 0pt"> <img class="Default" src="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/images/image4_6.png" style="display: inline; left: 0pt; top: 0pt" alt="Diagram, schematic Description automatically generated" title="Diagram, schematic Description automatically generated" /></div></div><H4 id="wwpID0E0UD0HA" class="Heading_4">Manually Modifying Boot Slots</H4><div id="wwpID0E0TD0HA" class="Body_Text">NVIDIA provides the <span class="Code_Char">nvbootctrl</span> tool for testing and development purposes. However, you may wish to manually change the boot slots or make modifications to the SMD partition from the userspace.</div><div id="wwpID0E0SD0HA" class="Heading_5">To manually modify the boot slots</div><div id="wwpID0E0RD0HA" class="List_Number" style="text-indent: -18pt"><span class="WebWorks_Number" style="width: 18pt"><span style="font-family: &quot;Palatino Linotype&quot;; font-size: 11pt; font-style: normal; font-weight: normal; text-transform: uppercase">1.	</span></span>Enter this command to switch to superuser mode:</div><div id="wwpID0E0QD0HA" class="Code">$ sudo su</div><div id="wwpID0E0PD0HA" class="List_Number"><span class="WebWorks_Number" style="width: 18pt"><span style="font-family: &quot;Palatino Linotype&quot;; font-size: 11pt; font-style: normal; font-weight: normal; text-transform: uppercase">2.	</span></span>Enter this command:</div><div id="wwpID0E0OD0HA" class="Code">$ nvbootctrl &lt;command&gt;</div><div id="wwpID0E0ND0HA" class="List_Continue">Where <span class="Code_Char">&lt;command&gt;</span> is as follows:</div><div id="wwpID0E0MD0HA" class="List_Continue">The default setting for both Slot 0 and Slot 1 is “bootable,” with Slot 0 having higher priority.</div><div class="ww_skin_page_overflow"><table class="Table_Normal" style="margin-left: 53.75pt" cellspacing="0" summary=""><tr><td style="background-color: #DDEEBF; background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top; width: 171pt"><div id="wwpID0EABN0LD0HA" class="Cell_Heading">Command</div></td><td style="background-color: #DDEEBF; background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top; width: 207pt"><div id="wwpID0EAAN0LD0HA" class="Cell_Heading">Description</div></td></tr><tr><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EABL0LD0HA" class="Cell_Text">get-number-slots</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EAAL0LD0HA" class="Cell_Text">Printer the number of slots.</div></td></tr><tr><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EABK0LD0HA" class="Cell_Text">get-current-slot</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EAAK0LD0HA" class="Cell_Text">Prints the currently running slot.</div></td></tr><tr><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EABJ0LD0HA" class="Cell_Text">mark-boot-successful</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EAAJ0LD0HA" class="Cell_Text">Marks the current slot as GOOD.</div></td></tr><tr><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EABI0LD0HA" class="Cell_Text">set-active-boot-slot <span class="Code_Char">&lt;slot&gt;</span></div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EAAI0LD0HA" class="Cell_Text">On next boot, loads and executes <span class="Code_Char">&lt;slot&gt;</span>.</div></td></tr><tr><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EABH0LD0HA" class="Cell_Text">set-slot-as-unbootable <span class="Code_Char">&lt;slot&gt;</span></div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EAAH0LD0HA" class="Cell_Text">Marks SLOT as invalid.</div></td></tr><tr><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EABG0LD0HA" class="Cell_Text">is-slot-bootable <span class="Code_Char">&lt;slot&gt;</span></div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EAAG0LD0HA" class="Cell_Text">Returns 0 if SLOT is bootable.</div></td></tr><tr><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EABF0LD0HA" class="Cell_Text">is-slot-marked-successful <span class="Code_Char">&lt;slot&gt;</span></div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EAAF0LD0HA" class="Cell_Text">Returns 0 if SLOT is marked GOOD.</div></td></tr><tr><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EABE0LD0HA" class="Cell_Text">get-suffix <span class="Code_Char">&lt;slot&gt;</span></div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EAAE0LD0HA" class="Cell_Text">Prints the suffix for <span class="Code_Char">&lt;slot&gt;</span>.</div></td></tr><tr><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EABD0LD0HA" class="Cell_Text">is-autosync-enabled</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EAAD0LD0HA" class="Cell_Text">Prints enablement status of slot duplication (it is enabled by default).</div></td></tr><tr><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EABC0LD0HA" class="Cell_Text">toggle-autosync</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EAAC0LD0HA" class="Cell_Text">Toggles enablement of slot duplication.</div></td></tr><tr><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EABB0LD0HA" class="Cell_Text">dump-slots-info</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EAAB0LD0HA" class="Cell_Text">Prints the information for the slots.</div></td></tr><tr><td style="background-color: #DDEEBF; background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top" colspan="2"><div id="wwpID0EAAA0LD0HA" class="Cell_Text"><span class="Code_Char">&lt;slot&gt;</span> is the zero-based slot number.</div></td></tr></table></div><div id="wwpID0E0KD0HA" class="Heading_5">To show the current boot slot</div><div id="wwpID0E0JD0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Enter this command:</div><div id="wwpID0E0ID0HA" class="Code">root@tegra-ubuntu:/home/nvidia# nvbootctrl get-current-slot</div><div id="wwpID0E0HD0HA" class="Code">0</div><div id="wwpID0E0GD0HA" class="Code">root@tegra-ubuntu:/home/nvidia#</div><div id="wwpID0E0FD0HA" class="Heading_5">To show the slot status</div><div id="wwpID0E0ED0HA" class="Body_Text">Enter one of the following commands:</div><div id="wwpID0E0DD0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Before enabling rootfs redundancy:</div><div id="wwpID0E0CD0HA" class="Code">root@tegra-ubuntu:/home/nvidia# nvbootctrl dump-slots-info</div><div id="wwpID0E0BD0HA" class="Code">magic:0x43424e00,	version: 3  features: 0    num_slots: 1</div><div id="wwpID0E0AD0HA" class="Code">slot: 0, priority: 15, suffix: _a, retry_count: 7,       boot_successful: 1</div><div id="wwpID0E06C0HA" class="Code">   slot: 1, priority: 0,  suffix: ,   retry_count: 0,            boot_successful: 0</div><div id="wwpID0E05C0HA" class="Code">   root@tegra-ubuntu:/home/nvidia#</div><div id="wwpID0E04C0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>After enabling rootfs redundancy:</div><div id="wwpID0E03C0HA" class="Code">root@tegra-ubuntu:/home/nvidia# nvbootctrl dump-slots-info  magic:0x43424e00,       version: 3 features: 3    num_slots: 2</div><div id="wwpID0E02C0HA" class="Code">slot: 0, priority: 15, suffix: _a, retry_count: 7, boot_successful: 1</div><div id="wwpID0E01C0HA" class="Code">slot: 1, priority: 14, suffix: _b, retry_count: 7, boot_successful: 1</div><div id="wwpID0E0ZC0HA" class="Code">root@tegra-ubuntu:/home/nvidia#</div><H4 id="wwpID0E0YC0HA" class="Heading_4">Sample Boot Log</H4><div id="wwpID0E0XC0HA" class="Body_Text">The boot slot is selected by MB1. The following sample log shows that Slot 1 is selected as the boot slot. The message displayed from MB1 is available from a debug build of MB1 that has messages enabled. Messages from MB2 are always available.</div><div id="wwpID0E0WC0HA" class="Code">[0000.040] I&gt; Welcome to MB1-coldboot(dev-version : 14.00.170822-t186-M-00.00-96e265a3)</div><div id="wwpID0E0VC0HA" class="Code">[0000.048] I&gt; rst_source : 0xb</div><div id="wwpID0E0UC0HA" class="Code">[0000.051] I&gt; rst_level : 0x1</div><div id="wwpID0E0TC0HA" class="Code">[0000.053] I&gt; Read lock all AES keyslots</div><div id="wwpID0E0SC0HA" class="Code">[0000.057] I&gt; Read lock all RSA keyslots</div><div id="wwpID0E0RC0HA" class="Code">[0000.061] I&gt; Clear SE keyslots left open by BR</div><div id="wwpID0E0QC0HA" class="Code">[0000.065] I&gt; Last mts-fallback status: 0x00000000</div><div id="wwpID0E0PC0HA" class="Code">[0000.070] I&gt; Boot-device: eMMC</div><div id="wwpID0E0OC0HA" class="Code">[0000.094] I&gt; sdmmc ddr50 mode</div><div id="wwpID0E0NC0HA" class="Code">[0000.098] I&gt; A/B: bin_type (19) slot 0</div><div id="wwpID0E0MC0HA" class="Code">[0000.102] I&gt; Binary(19) of size 512 is loaded @ 0x40043400</div><div id="wwpID0E0LC0HA" class="Code">[0000.108] I&gt; Boot chain chosen: 1</div><div id="wwpID0E0KC0HA" class="Code">[0000.111] I&gt; Boot chain chosen: 1</div><div id="wwpID0E0JC0HA" class="Code">[0000.114] I&gt; magic:0x43424e00, version: 259, num_slots: 2</div><div id="wwpID0E0IC0HA" class="Code">[0000.119] I&gt; slot: 0, pri: 14, suffix: _a, retry: 7, boot_succ: 1</div><div id="wwpID0E0HC0HA" class="Code">[0000.125] I&gt; slot: 1, pri: 15, suffix: _b, retry: 6, boot_succ: 1</div><div id="wwpID0E0GC0HA" class="Code">[0000.131] I&gt; Loading MB1-BCT to SysRAM</div><div id="wwpID0E0FC0HA" class="Code">[0000.135] I&gt; A/B: bin_type (0) slot 1</div><div id="wwpID0E0EC0HA" class="Code">[0000.138] I&gt; Boot-device: eMMC </div><div id="wwpID0E0DC0HA" class="Code">. . . </div><div id="wwpID0E0CC0HA" class="Code">. . .</div><div id="wwpID0E0BC0HA" class="Code">[0000.888] I&gt; Welcome to MB2(TBoot-BPMP)(version: 01.00.160913-t186-M-00.00-mobile-09b4fbd4)</div><div id="wwpID0E0AC0HA" class="Code">[0000.897] I&gt; Default Heap @ [0xd486400 - 0xd488400]</div><div id="wwpID0E06B0HA" class="Code">[0000.901] I&gt; DMA Heap @ [0x84a00000 - 0x85300000]</div><div id="wwpID0E05B0HA" class="Code">[0000.906] I&gt; bit @ 0xd480000</div><div id="wwpID0E04B0HA" class="Code">[0000.909] I&gt; BR-BCT relocated to 0xd7020000</div><div id="wwpID0E03B0HA" class="Code">[0000.913] I&gt; Boot-device: eMMC</div><div id="wwpID0E02B0HA" class="Code">[0000.917] I&gt; sdmmc bdev is already initialized</div><div id="wwpID0E01B0HA" class="Code">[0000.922] I&gt; pmic: reset reason (nverc)	: 0x0</div><div id="wwpID0E0ZB0HA" class="Code">[0000.926] I&gt; Reading GPT from 512 for device 00000003</div><div id="wwpID0E0YB0HA" class="Code">[0000.932] I&gt; Reading GPT from 8388096 for device 00000003</div><div id="wwpID0E0XB0HA" class="Code">[0000.939] I&gt; Found 13 partitions in 00000003 device</div><div id="wwpID0E0WB0HA" class="Code">[0000.944] I&gt; Reading GPT from 512 for device 00010003</div><div id="wwpID0E0VB0HA" class="Code">[0000.950] I&gt; Found 27 partitions in 00010003 device</div><div id="wwpID0E0UB0HA" class="Code">[0000.956] I&gt; A/B: bin_type (16) slot 1</div><div id="wwpID0E0TB0HA" class="Code">[0000.959] I&gt; Loading partition bpmp-fw_b at 0xd7800000</div><div id="wwpID0E0SB0HA" class="Code">[0000.964] I&gt; Reading two headers - addr:0xd7800000 blocks:1</div><div id="wwpID0E0RB0HA" class="Code">[0000.970] I&gt; Addr: 0xd7800000, start-block: 58762425, num_blocks: 1</div><div id="wwpID0E0QB0HA" class="Code">[0000.985] I&gt; Binary(16) of size 528848 is loaded @ 0xd7800000</div><div id="wwpID0E0PB0HA" class="Code">. . . </div><div id="wwpID0E0OB0HA" class="Code">. . .</div><H4 id="wwpID0E0NB0HA" class="Heading_4">Generating the Bootloader Update Payload (BUP)</H4><div id="wwpID0E0MB0HA" class="Body_Text">A Bootloader Update Payload (BUP) is used to implement bootloader update. It contains firmware binaries of each type needed to update a Jetson device.</div><div id="wwpID0E0LB0HA" class="Body_Text">This section describes the procedure for generating a single-spec BUP, which contains just one binary of each type and can be used to update just one Jetson device configuration.</div><div id="wwpID0E0KB0HA" class="Body_Text">There is also a procedure for generating a multi-spec BUP, which includes multiple firmware binaries and BCT images of each type, and can be used to update any supported type of Jetson device. When you run the updater, it uses the appropriate binary for each type for the device you are updating. See the section <span class="Hyperlink"><a href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/bootloader_update_agx_tx2.html#wwpID0EDHA" title="Jetson Xavier NX / AGX Xavier / TX2 Update and Redundancy">To generate a multi-spec BUP</a></span>, <a href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/bootloader_update_agx_tx2.html#wwpID0EDHA" title="Jetson Xavier NX / AGX Xavier / TX2 Update and Redundancy">below</a>, for information.</div><div id="wwpID0E0JB0HA" class="Heading_5">To generate a single-spec BUP</div><div id="wwpID0E0IB0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Enter these commands to create the BUP image to be stored in a file for a board that is not connected to the host system.</div><div id="wwpID0E0HB0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>With the indicated FAB/BOARDID/FUSELEVEL Jetson Xavier NX board:</div><div id="wwpID0E0GB0HA" class="Code_Indent">$ cd &lt;top&gt;</div><div id="wwpID0E0FB0HA" class="Code_Indent">$ sudo FAB=100 BOARDID=3668 FUSELEVEL=fuselevel_production BOARDSKU=0001./build_l4t_bup.sh jetson-xavier-nx-devkit-emmc mmcblk0p1</div><div id="wwpID0E0EB0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>With the indicated <span class="Code_Char">FAB/BOARDID/FUSELEVEL</span> Jetson AGX Xavier series board:</div><div id="wwpID0E0DB0HA" class="Code" style="text-indent: 0pt">$ cd &lt;top&gt;</div><div id="wwpID0E0CB0HA" class="Code" style="text-indent: 0pt">$ sudo FAB=400 BOARDID=2888 FUSELEVEL=fuselevel_production BOARDSKU=0001 BOARDREV=H.0 ./build_l4t_bup.sh jetson-agx-xavier-devkit mmcblk0p1</div><div id="wwpID0E0BB0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>With the indicated <span class="Code_Char">FAB/BOARDID/FUSELEVEL</span> Jetson TX2 board:</div><div id="wwpID0E0AB0HA" class="Code" style="text-indent: 0pt">$ cd &lt;top&gt;</div><div id="wwpID0E6HA" class="Code" style="text-indent: 0pt">$ sudo FAB=C04 BOARDID=3310 FUSELEVEL=fuselevel_production ./build_l4t_bup.sh jetson-tx2-devkit mmcblk0p1</div><div id="wwpID0E5HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Enter these commands to create the BUP image for a board that is connected to the host system:</div><div id="wwpID0E4HA" class="List_Number_2"><span class="WebWorks_Number" style="width: 18pt"><span>1.	</span></span>Place the target board into <span class="Hyperlink"><a href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/quick_start.html#" title="Quick Start">force recovery mode</a></span>.</div><div id="wwpID0E3HA" class="List_Number_2"><span class="WebWorks_Number" style="width: 18pt"><span>2.	</span></span>Enter the commands:</div><div id="wwpID0E2HA" class="List_Continue_2"><span class="Code_Char">$ cd &lt;top&gt;</span><br /><span class="Code_Char">$ sudo ./build_l4t_bup.sh &lt;device&gt; mmcblk0p1</span></div><div id="wwpID0E1HA" class="List_Continue_2">Where <span class="Code_Char">&lt;device&gt;</span> is:</div><div id="wwpID0EZHA" class="List_Bullet_3"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>For Jetson Xavier NX: <span class="Code_Char">jetson-xavier-nx-devkit-emmc</span></div><div id="wwpID0EYHA" class="List_Bullet_3"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>For Jetson AGX AGX Xavier series: <span class="Code_Char">jetson-agx-xavier-devkit</span></div><div id="wwpID0EXHA" class="List_Bullet_3"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>For Jetson TX2 series: <span class="Code_Char">jetson-tx2-devkit</span></div><div id="wwpID0EWHA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Enter these commands to create the PKC signed BUP image for the indicated <span class="Code_Char">FAB/BOARDID/FUSELEVEL</span> Jetson TX2 board:</div><div id="wwpID0EVHA" class="Code">$ cd &lt;top&gt;</div><div id="wwpID0EUHA" class="Code">$ sudo FAB=C04 BOARDID=3310 FUSELEVEL=fuselevel_production ./build_l4t_bup.sh -s &lt;pkc_key_file&gt; jetson-tx2-devkit mmcblk0p1</div><div id="wwpID0ETHA" class="List_Continue">Where:</div><div id="wwpID0ESHA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>The target is an original Jetson TX2 board. Contact NVIDIA for assistance in generating the BUP for other boards in the Jetson TX2 series.</div><div id="wwpID0ERHA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">&lt;top&gt;</span><span class="Body_Text_Char"> is the location of the parent directory of the PDK installation package, where </span><span class="Code_Char">flash.sh</span><span class="Body_Text_Char"> command is located.</span></div><div id="wwpID0EQHA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">&lt;pkc_key_file&gt;</span> <span class="Body_Text_Char">is the RSA private key file for your board. It must be located under</span> the <span class="Code_Char">&lt;top&gt;/bootloader</span> <span class="Body_Text_Char">directory or be specified by a complete (absolute) pathname.</span></div><div id="wwpID0EOHA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Enter these commands to create the PKC signed BUP image for the board connected to the host system:</div><div id="wwpID0ENHA" class="List_Number_2" style="text-indent: -18pt"><span class="WebWorks_Number" style="width: 18pt"><span>1.	</span></span>Place the target board into <span class="Hyperlink"><a href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/quick_start.html#" title="Quick Start">force recovery mode</a></span>.</div><div id="wwpID0EMHA" class="List_Number_2"><span class="WebWorks_Number" style="width: 18pt"><span>2.	</span></span><span class="Body_Text_Char">Enter the following commands:</span></div><div id="wwpID0ELHA" class="List_Continue_2"><span class="Code_Char">$ cd &lt;top&gt;</span><br /><span class="Code_Char">$ sudo ./build_l4t_bup.sh -s &lt;pkc_key_file&gt; -u &lt;pkc_key_file&gt; &lt;device&gt; mmcblk0p1</span></div><div id="wwpID0EKHA" class="List_Continue">Where:</div><div id="wwpID0EJHA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>&lt;top&gt;<span class="Body_Text_Char"> is the location to parent directory of the PDK installation package, where the </span><span class="Code_Char">flash.sh</span><span class="Body_Text_Char"> command is located.</span></div><div id="wwpID0EIHA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span style="font-family: &quot;Courier New&quot;">•	</span></span><span class="Code_Char">&lt;pkc_key_file&gt;</span> <span class="Body_Text_Char">is the RSA private key file for your board. It must be located under</span> <span class="Code_Char">&lt;top&gt;/bootloader</span> <span class="Body_Text_Char">directory or a complete (absolute) pathname.</span></div><div id="wwpID0EHHA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">&lt;device&gt;</span> is:</div><div id="wwpID0EGHA" class="List_Bullet_3"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>For Jetson Xavier NX: <span class="Code_Char">jetson-xavier-nx-devkit-emmc</span></div><div id="wwpID0EFHA" class="List_Bullet_3"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>For Jetson AGX Xavier series: <span class="Code_Char">jetson-agx-xavier-devkit</span></div><div id="wwpID0EEHA" class="List_Bullet_3"><span class="WebWorks_Number" style="width: 18pt"><span style="font-family: &quot;Palatino Linotype&quot;">•	</span></span>For Jetson TX2 series: <span class="Code_Char">jetson-tx2-devkit</span></div><div id="wwpID0EDHA" class="Heading_5">To generate a multi-spec BUP</div><div id="wwpID0ECHA" class="Body_Text" style="text-align: justify">The section <span class="Hyperlink"><a href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/bootloader_update_nano_tx1.html#wwpID0E0IG0HA" title="Jetson Nano/TX1 Update and Redundancy">Generating the Bootloader Update Payload (BUP)</a></span> in the topic <span class="Hyperlink"><a href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/bootloader_update_nano_tx1.html#" title="Jetson Nano/TX1 Update and Redundancy">Jetson Nano / TX1 Update and Redundancy</a></span> describes a procedure for generating a multi-spec BUP. When you run the updater, it uses the appropriate binary of each type for the device you are updating.</div><div id="wwpID0EBHA" class="Body_Text">To use the multi-spec BUP procedure with a Jetson Xavier NX or Jetson AGX Xavier series device, replace <span class="Code_Char">t21x</span> with <span class="Code_Char">t19x</span> in the command that generates the BUP. To use the procedure with a Jetson TX2 series device, replace <span class="Code_Char">t21x</span> with <span class="Code_Char">t18x</span>.</div></div><div id="page_dates"></div><!-- Related Topics --><!--                --><footer><!-- Disqus --><!--        --><!-- Google Translation --><!--                    --><br /></footer></div></div><input type="hidden" id="preserve_unknown_file_links" value="false"></input><noscript><div id="noscript_warning">This site works best with JavaScript enabled</div></noscript><script type="text/javascript" src="scripts/common.js"></script><script type="text/javascript" src="scripts/page.js"></script><script type="text/javascript" src="scripts/search-client.js"></script><script type="text/javascript" src="scripts/unidata.js"></script><script type="text/javascript" src="scripts/unibreak.js"></script></body></html>