<!DOCTYPE html ><html xml:lang="en" lang="en" data-highlight-require-whitespace="false" xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html;charset=utf-8" /><meta http-equiv="Content-Style-Type" content="text/css" /><meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta http-equiv="X-UA-Compatible" content="IE=edge" /><!-- NVIDIA customization --><title>NVIDIA Jetson Linux Driver Package Software Features : Graphics Programming | NVIDIA Docs </title><link rel="Prev" href="graphics_opengl.html" title="Previous" /><link rel="Next" href="window_system_stub.html" title="Next" /><link rel="StyleSheet" href="../css/font-awesome/css/font-awesome.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/opengl_egl_test_app.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/skin.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/social.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/print.css" type="text/css" media="print" /><noscript><div id="noscript_padding"></div></noscript></head><body id="pfAjZqGZlu5TdfdCFxpc9KA" class="ww_skin_page_body" style="visibility: hidden;"><input type="hidden" id="page_onload_url" value="../index.html#page/Tegra%20Linux%20Driver%20Package%20Development%20Guide/opengl_egl_test_app.html"></input><span id="dropdown_ids" style="display:none;"></span><div id="ww_content_container"><header id="wwconnect_header"><div class="ww_skin_page_toolbar"><div id="dropdown_button_container" class="dropdown_container dropdown_button_container_disabled"><a id="show_hide_all" class="ww_skin ww_behavior_dropdown_toggle ww_skin_dropdown_toggle" title="Page DropDown Toggle" href="#"><i class="fa"></i></a><span class="ww_skin_page_toolbar_divider">&nbsp;</span></div><a class="ww_behavior_print ww_skin ww_skin_print" title="Print" href="#"><i class="fa"></i></a></div><!-- was this helpful button --><!--                         --></header><div id="page_content_container" style="background-attachment: scroll; background-image: url(&quot;watermark.png&quot;); background-position: center center; background-repeat: no-repeat; margin-left: 0pt; margin-right: 10pt; padding-bottom: 0px; padding-left: 0px; padding-right: 0px; padding-top: 0px"><div id="page_content"><H1 id="wwpID0E0QC0HA" class="Heading_2_Top">Graphics Sample Applications</H1><div class="WebWorks_MiniTOC"><div class="WebWorks_MiniTOC_Heading">&nbsp;</div><dl class="WebWorks_MiniTOC_List"><dd><div class="WebWorks_MiniTOC_Entry"><a class="WebWorks_MiniTOC_Link" href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/opengl_egl_test_app.html#wwpID0E0OC0HA">NVIDIA Graphics Sample Applications</a></div></dd><dl class="WebWorks_MiniTOC_List"><dd><div class="WebWorks_MiniTOC_Entry"><a class="WebWorks_MiniTOC_Link" href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/opengl_egl_test_app.html#wwpID0E0MC0HA">Building the Samples</a></div></dd><dd><div class="WebWorks_MiniTOC_Entry"><a class="WebWorks_MiniTOC_Link" href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/opengl_egl_test_app.html#wwpID0E0CC0HA">Starting the Graphics System</a></div></dd><dd><div class="WebWorks_MiniTOC_Entry"><a class="WebWorks_MiniTOC_Link" href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/opengl_egl_test_app.html#wwpID0E5HA">Running the Sample Applications</a></div></dd></dl><dd><div class="WebWorks_MiniTOC_Entry"><a class="WebWorks_MiniTOC_Link" href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/opengl_egl_test_app.html#wwpID0ETHA">Upstream Sample Application: Gears</a></div></dd></dl></div><div id="wwpID0E0PC0HA" class="Body_Text">This topic contains information about several sample applications that are provided with NVIDIA<span style="vertical-align: super">®</span> Jetson™ Linux Driver Package (L4T).</div><H3 id="wwpID0E0OC0HA" class="Heading_3">NVIDIA Graphics Sample Applications</H3><div id="wwpID0E0NC0HA" class="Body_Text">NVIDIA graphics samples are included in L4T. This topic gives detailed steps for building and running these samples on the target.</div><H4 id="wwpID0E0MC0HA" class="Heading_4">Building the Samples</H4><div id="wwpID0E0LC0HA" class="Body_Text">The sample source files are available in the directory <span class="Code_Char">/usr/src/nvidia/graphics_demos</span>. The samples currently provided are:</div><div id="wwpID0E0KC0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">gears-basic</span></div><div id="wwpID0E0JC0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">gears-cube</span></div><div id="wwpID0E0IC0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">bubble</span></div><div id="wwpID0E0HC0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">ctree</span></div><div id="wwpID0E0GC0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">eglstreamcube</span></div><div id="wwpID0E0FC0HA" class="Body_Text">The sample applications may be built on either the host or the target. The file <span class="Code_Char">/usr/src/nvidia/graphics_demos/README</span> contains instructions for building the sample applications on either system.</div><div id="wwpID0E0EC0HA" class="Body_Text">L4T also provides pre-built binaries for all of the sample applications under all three supported graphics systems. The pre-built binaries are at:</div><div id="wwpID0E0DC0HA" class="Code">/usr/src/nvidia/graphics_demos/bin</div><H4 id="wwpID0E0CC0HA" class="Heading_4">Starting the Graphics System</H4><div id="wwpID0E0BC0HA" class="Body_Text">This section describes the procedure for starting your preferred graphics system as a prerequisite for running sample applications.</div><div id="wwpID0E0AC0HA" class="Heading_5">X11 (X Window System)</div><div id="wwpID0E06B0HA" class="Body_Text">Before you can run X11 graphics sample applications you must start the X server in the background. You must also export the <span class="Code_Char">DISPLAY</span> variable, which the X&nbsp;driver uses to launch sample applications on the selected display.</div><div id="wwpID0E05B0HA" class="List_Number"><span class="WebWorks_Number" style="width: 18pt"><span>1.	</span></span>Enter these commands to export the DISPLAY environment variable and start the X server.</div><div id="wwpID0E04B0HA" class="Code">$ export DISPLAY=:0</div><div id="wwpID0E03B0HA" class="Code">$ xinit &amp;</div><div id="wwpID0E02B0HA" class="List_Number"><span class="WebWorks_Number" style="width: 18pt"><span>2.	</span></span>After you start the X server, open a terminal window (i.e. launch an instance of <span class="Code_Char">xterm</span>).</div><div id="wwpID0E01B0HA" class="Heading_5">Wayland</div><div id="wwpID0E0ZB0HA" class="Body_Text">Before you can run the Wayland graphics sample applications, you must first stop the X server (which is running by default) and then launch Weston either by running the Weston binary (<span class="Code_Char">/usr/bin/weston</span>) from the root user or by running the <span class="Code_Char">Weston-launch</span> binary (<span class="Code_Char">/ usr /bin/ weston -launch</span>).</div><div id="wwpID0E0YB0HA" class="Heading_5"> To run the Wayland graphics sample applications</div><div id="wwpID0E0XB0HA" class="List_Number" style="text-indent: -18pt"><span class="WebWorks_Number" style="width: 18pt"><span>1.	</span></span>Enter these commands to stop the X server:</div><div id="wwpID0E0WB0HA" class="Code">$ sudo systemctl stop gdm</div><div id="wwpID0E0VB0HA" class="Code">$ sudo loginctl terminate-seat seat0</div><div id="wwpID0E0UB0HA" class="Code">$ sudo pkill -9 X</div><div id="wwpID0E0TB0HA" class="List_Number"><span class="WebWorks_Number" style="width: 18pt"><span>2.	</span></span>Use the Tegra dummy DRM driver:</div><div id="wwpID0E0SB0HA" class="Code">$ sudo modprobe tegra-udrm modeset=1</div><div id="wwpID0E0RB0HA" class="Code">$ sudo ln -sf /usr/lib/aarch64-linux-gnu/tegra/libnvgbm.so /usr/lib/aarch64-linux-gnu/libgbm.so.1  </div><div id="wwpID0E0QB0HA" class="List_Number"><span class="WebWorks_Number" style="width: 18pt"><span>3.	</span></span>Set up the environment and directory:</div><div id="wwpID0E0PB0HA" class="Code">$ unset DISPLAY</div><div id="wwpID0E0OB0HA" class="Code">$ mkdir /tmp/xdg</div><div id="wwpID0E0NB0HA" class="Code">$ chmod 700 /tmp/xdg</div><div id="wwpID0E0MB0HA" class="List_Number"><span class="WebWorks_Number" style="width: 18pt"><span>4.	</span></span>Enter these commands to run Weston from the root user:</div><div id="wwpID0E0LB0HA" class="Code">$ sudo su</div><div id="wwpID0E0KB0HA" class="Code">$ export XDG_RUNTIME_DIR=/tmp/xdg</div><div id="wwpID0E0JB0HA" class="Code">$ weston --idle-time=0 &amp;</div><div id="wwpID0E0IB0HA" class="List_Number"><span class="WebWorks_Number" style="width: 18pt"><span>5.	</span></span>Enter these commands to run Weston using <span class="Code_Char">weston-launch</span> as a non-root user. These commands need be entered only once after booting:</div><div id="wwpID0E0HB0HA" class="Code">$ sudo groupadd weston-launch</div><div id="wwpID0E0GB0HA" class="Code">$ sudo usermod -a -G weston-launch $USER</div><div id="wwpID0E0FB0HA" class="Code">$ sudo chown root /usr/bin/weston-launch</div><div id="wwpID0E0EB0HA" class="Code">$ sudo chmod +s /usr/bin/weston-launch</div><div id="wwpID0E0DB0HA" class="Code">$ weston-launch</div><div id="wwpID0E0CB0HA" class="Heading_5">EGLDevice</div><div id="wwpID0E0BB0HA" class="Body_Text">Before you can run EGLDevice graphics sample applications you must ensure that no display server or compositor is running, since EGLDevice applications are started by default on the default CRTC plane and communicate directly with the display using EGLOutput Ext. For more information, see:</div><div id="wwpID0E0AB0HA" class="Code"><span class="Hyperlink"><a href="https://www.khronos.org/registry/EGL/extensions/EXT/EGL_EXT_stream_consumer_egloutput.txt" target="external_window">https://www.khronos.org/registry/EGL/extensions/EXT/EGL_EXT_stream_consumer_egloutput.txt</a></span></div><div id="wwpID0E6HA" class="Body_Text">If you want to start sample applications on an overlay plane, use the sample applications’ <span class="Code_Char">‑layer</span> option.</div><H4 id="wwpID0E5HA" class="Heading_4">Running the Sample Applications</H4><div id="wwpID0E4HA" class="Body_Text">To run a sample built on the target, run the sample from the appropriate subdirectory of the samples directory for your chosen graphics system.</div><div id="wwpID0E3HA" class="Body_Text">For example, to run the pre-built version of <span class="Code_Char">gears</span>:</div><div id="wwpID0E2HA" class="Code"><span style="color: #000000">$ cd /usr/src/nvidia/graphics_demos/prebuilts/bin/&lt;graphics&gt;</span></div><div id="wwpID0E1HA" class="Code"><span style="color: #000000">$ ./bubble</span></div><div id="wwpID0EZHA" class="Body_Text">Where <span class="Code_Char">&lt;graphics&gt;</span> is <span class="Code_Char">x11</span>, <span class="Code_Char">wayland</span>, or <span class="Code_Char">egldevice</span>.</div><div id="wwpID0EYHA" class="Body_Text">The sample application presents a rendered screen on the display and prints a run log on the terminal that shows the display rate in frames/second:</div><div id="wwpID0EXHA" class="Code">Alpha value specified for constant blending is not in range [0, 1]. Using alpha 1.0.</div><div id="wwpID0EWHA" class="Code">Demo Mode: 1920 x 1080 @ 59</div><div id="wwpID0EVHA" class="Code">running for 5.000000 seconds...</div><div id="wwpID0EUHA" class="Body_Text">To stop a sample application, press Ctrl+C.</div><H3 id="wwpID0ETHA" class="Heading_3">Upstream Sample Application: Gears</H3><div id="wwpID0ESHA" class="Body_Text">The Gears application is an example of an upstream graphics sample application. It is not an NVIDIA application, and distinct from the NVIDIA sample applications in some ways.</div><div id="wwpID0ERHA" class="Heading_5">To install and run the Gears application</div><div id="wwpID0EQHA" class="List_Number" style="text-indent: -18pt"><span class="WebWorks_Number" style="width: 18pt"><span>1.	</span></span>Boot the target system with an Ethernet connection.</div><div id="wwpID0EPHA" class="List_Number" style="text-indent: -18pt"><span class="WebWorks_Number" style="width: 18pt"><span>2.	</span></span>Enable package download from the “universe” repository by editing <span class="Code_Char">/etc/apt/sources.list</span> as root:</div><div id="wwpID0EOHA" class="Code">$ sudo vi /etc/apt/sources.list</div><div id="wwpID0ENHA" class="List_Number" style="text-indent: -18pt"><span class="WebWorks_Number" style="width: 18pt"><span>3.	</span></span>Uncomment the following line in the file by removing the leading <span class="Code_Char">#</span> character:</div><div id="wwpID0EMHA" class="Code"># deb http://ports.ubuntu.com/ubuntu-ports/ bionic universe</div><div id="wwpID0ELHA" class="List_Number" style="text-indent: -18pt"><span class="WebWorks_Number" style="width: 18pt"><span>4.	</span></span>Update the repository:</div><div id="wwpID0EKHA" class="Code">$ sudo apt-get update</div><div id="wwpID0EJHA" class="List_Number" style="text-indent: -18pt"><span class="WebWorks_Number" style="width: 18pt"><span>5.	</span></span>Install the <span class="Code_Char">mesa-utils</span> and <span class="Code_Char">mesa-utils-extra</span> packages:</div><div id="wwpID0EIHA" class="Code">$ sudo apt-get install -y mesa-utils</div><div id="wwpID0EHHA" class="Code">$ sudo apt-get install –y mesa-utils-extra</div><div id="wwpID0EGHA" class="List_Number" style="text-indent: -18pt"><span class="WebWorks_Number" style="width: 18pt"><span>6.	</span></span>Run the application with these steps:</div><div id="wwpID0EFHA" class="Code">$ export DISPLAY=:0</div><div id="wwpID0EEHA" class="Code">$ X&amp;</div><div id="wwpID0EDHA" class="Code">$ /usr/bin/es2gears</div><div id="wwpID0ECHA" class="List_Continue">or</div><div id="wwpID0EBHA" class="Code">$ /usr/bin/glxgears</div></div><div id="page_dates"></div><!-- Related Topics --><!--                --><footer><!-- Disqus --><!--        --><!-- Google Translation --><!--                    --><br /></footer></div></div><input type="hidden" id="preserve_unknown_file_links" value="false"></input><noscript><div id="noscript_warning">This site works best with JavaScript enabled</div></noscript><script type="text/javascript" src="scripts/common.js"></script><script type="text/javascript" src="scripts/page.js"></script><script type="text/javascript" src="scripts/search-client.js"></script><script type="text/javascript" src="scripts/unidata.js"></script><script type="text/javascript" src="scripts/unibreak.js"></script></body></html>