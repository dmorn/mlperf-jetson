<!DOCTYPE html ><html xml:lang="en" lang="en" data-highlight-require-whitespace="false" xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html;charset=utf-8" /><meta http-equiv="Content-Style-Type" content="text/css" /><meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta http-equiv="X-UA-Compatible" content="IE=edge" /><!-- NVIDIA customization --><title>NVIDIA Jetson Linux Developer Guide : Over-the-Air Update | NVIDIA Docs </title><link rel="Prev" href="quick_start.html" title="Previous" /><link rel="Next" href="overview.html" title="Next" /><link rel="StyleSheet" href="../css/font-awesome/css/font-awesome.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/updating_jetson_and_host.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/skin.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/social.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/print.css" type="text/css" media="print" /><noscript><div id="noscript_padding"></div></noscript></head><body id="pgwDMV1J3n25t1ZVMG8o7SA" class="ww_skin_page_body" style="visibility: hidden;"><input type="hidden" id="page_onload_url" value="../index.html#page/Tegra%20Linux%20Driver%20Package%20Development%20Guide/updating_jetson_and_host.html"></input><span id="dropdown_ids" style="display:none;"></span><div id="ww_content_container"><header id="wwconnect_header"><div class="ww_skin_page_toolbar"><div id="dropdown_button_container" class="dropdown_container dropdown_button_container_disabled"><a id="show_hide_all" class="ww_skin ww_behavior_dropdown_toggle ww_skin_dropdown_toggle" title="Page DropDown Toggle" href="#"><i class="fa"></i></a><span class="ww_skin_page_toolbar_divider">&nbsp;</span></div><a class="ww_behavior_print ww_skin ww_skin_print" title="Print" href="#"><i class="fa"></i></a></div><!-- was this helpful button --><!--                         --></header><div id="page_content_container" style="background-attachment: scroll; background-image: url(&quot;watermark.png&quot;); background-position: center center; background-repeat: no-repeat; margin-left: 0pt; margin-right: 10pt; padding-bottom: 0px; padding-left: 0px; padding-right: 0px; padding-top: 0px"><div id="page_content"><H1 id="wwpID0E0DL0HA" class="Heading_1">Over-the-Air Update</H1><div class="WebWorks_MiniTOC"><div class="WebWorks_MiniTOC_Heading">&nbsp;</div><dl class="WebWorks_MiniTOC_List"><dd><div class="WebWorks_MiniTOC_Entry"><a class="WebWorks_MiniTOC_Link" href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/updating_jetson_and_host.html#wwpID0E0AL0HA">Updating from the NVIDIA APT Server</a></div></dd><dd><div class="WebWorks_MiniTOC_Entry"><a class="WebWorks_MiniTOC_Link" href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/updating_jetson_and_host.html#wwpID0E0XI0HA">Downloading Debian Packages for Later Use</a></div></dd><dd><div class="WebWorks_MiniTOC_Entry"><a class="WebWorks_MiniTOC_Link" href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/updating_jetson_and_host.html#wwpID0E0UI0HA">Updating Jetson Linux with Image-Based Over-the-Air Update</a></div></dd></dl></div><div id="wwpID0E0CL0HA" class="Body_Text"><span class="Strong">Over-the-Air (OTA) Update</span> enables you to update NVIDIA<span style="vertical-align: super">®</span> Jetson™ devices and host computers for Jetson development.</div><div id="wwpID0E0BL0HA" class="Body_Text">Jetson Linux supports two forms of OTA which are used for different purposes. <span class="Strong">Debian package management-based OTA</span> can update Jetson devices running Jetson Linux or Jetson components on a host computer. <span class="Strong">Image-based OTA</span> lets you create OTA payload packages, and can update the full image running on a Jetson device, partition by partition. This topic describes both forms of OTA.</div><H2 id="wwpID0E0AL0HA" class="Heading_2">Updating from the NVIDIA APT Server</H2><div class="WebWorks_MiniTOC"><div class="WebWorks_MiniTOC_Heading">&nbsp;</div><dl class="WebWorks_MiniTOC_List"><dd><div class="WebWorks_MiniTOC_Entry"><a class="WebWorks_MiniTOC_Link" href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/updating_jetson_and_host.html#wwpID0E03K0HA">Updating a Jetson Device</a></div></dd><dd><div class="WebWorks_MiniTOC_Entry"><a class="WebWorks_MiniTOC_Link" href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/updating_jetson_and_host.html#wwpID0E0WJ0HA">Updating a Host</a></div></dd><dd><div class="WebWorks_MiniTOC_Entry"><a class="WebWorks_MiniTOC_Link" href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/updating_jetson_and_host.html#wwpID0E0EJ0HA">Debian Packages on the NVIDIA APT Server</a></div></dd><dl class="WebWorks_MiniTOC_List"><dd><div class="WebWorks_MiniTOC_Entry"><a class="WebWorks_MiniTOC_Link" href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/updating_jetson_and_host.html#wwpID0E0CJ0HA">Update Packages for Jetson Devices</a></div></dd><dd><div class="WebWorks_MiniTOC_Entry"><a class="WebWorks_MiniTOC_Link" href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/updating_jetson_and_host.html#wwpID0E04I0HA">Update Packages for Hosts</a></div></dd></dl><dd><div class="WebWorks_MiniTOC_Entry"><a class="WebWorks_MiniTOC_Link" href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/updating_jetson_and_host.html#wwpID0E0ZI0HA">Customizing Debian Packages</a></div></dd></dl></div><div id="wwpID0E06K0HA" class="Body_Text">The first form of OTA update uses Debian packages obtained from an NVIDIA APT server. You can use this form of OTA update to update a Jetson device running Jetson Linux or to update Jetpack components installed on a host computer running Ubuntu. The APT server maintains respective groups of Debian packages for each purpose.</div><div id="wwpID0E05K0HA" class="Body_Text">This section describes the tools and packages that provide basic support for Jetson Linux.</div><div class="ww_skin_page_overflow"><table class="Table_Normal" style="margin-left: 49.5pt" cellspacing="0" summary=""><tr><td style="background-color: #76B900; background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top; width: 49.5pt"><div id="wwpID0EABA04K0HA" class="Note_Image">Note:</div></td><td style="background-color: #DDEEBF; background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top; width: 319.5pt"><div id="wwpID0ECAA04K0HA" class="Note_Text"><span style="color: #000000">You cannot use OTA update to update a Jetson device on which Jetpack is installed.</span></div><div id="wwpID0EBAA04K0HA" class="Note_Text"><span style="color: #000000">To update JetPack and Jetson Linux components to a new JetPack release on a system where both are installed, see the instructions in the </span><span class="Hyperlink"><a href="https://docs.nvidia.com/jetson/jetpack/install-jetpack/index.html#upgrade-jetpack" target="external_window">JetPack documentation</a></span><span style="color: #000000">.</span></div><div id="wwpID0EAAA04K0HA" class="Note_Text">NVIDIA does not recommend installing OTA Debian packages on a Jetson Linux release earlier than release 32.3.1, or on a system that is based on Ubuntu without the customization of Jetson Linux.</div></td></tr></table></div><H3 id="wwpID0E03K0HA" class="Heading_3">Updating a Jetson Device</H3><div id="wwpID0E02K0HA" class="Body_Text">Use the appropriate procedure below to update your system:</div><div id="wwpID0E01K0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Hyperlink"><a href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/updating_jetson_and_host.html#wwpID0E0YK0HA" title="Over-the-Air Update">To update to a new point release</a></span> of the same minor release; for example, from release 32.4.1 to 32.4.2</div><div id="wwpID0E0ZK0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Hyperlink"><a href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/updating_jetson_and_host.html#wwpID0E0OK0HA" title="Over-the-Air Update">To update to new minor release</a></span>; for example, from release 32.3.<span class="Emphasis">x</span> to 32.4.2</div><div id="wwpID0E0YK0HA" class="Heading_5">To update to a new point release</div><div id="wwpID0E0XK0HA" class="List_Number" style="text-indent: -18pt"><span class="WebWorks_Number" style="width: 18pt"><span>1.	</span></span>Enter the command:</div><div id="wwpID0E0WK0HA" class="Code">$ sudo apt update</div><div id="wwpID0E0VK0HA" class="List_Continue"><span class="Code_Char">apt</span> reads a list of packages from the remote APT repository and identifies new and upgradable packages.</div><div id="wwpID0E0UK0HA" class="List_Number"><span class="WebWorks_Number" style="width: 18pt"><span>2.	</span></span>Enter the command:</div><div id="wwpID0E0TK0HA" class="Code">apt list --upgradable</div><div id="wwpID0E0SK0HA" class="List_Continue"><span class="Code_Char">apt</span> displays a list of new and upgradable packages.</div><div id="wwpID0E0RK0HA" class="List_Number"><span class="WebWorks_Number" style="width: 18pt"><span>3.	</span></span>To install the basic packages for Jetson Linux, enter the command:</div><div id="wwpID0E0QK0HA" class="Code">sudo apt upgrade</div><div id="wwpID0E0OK0HA" class="List_Number"><span class="WebWorks_Number" style="width: 18pt"><span>4.	</span></span>Reboot your Jetson device when the upgrade is finished.</div><div id="wwpID0E0NK0HA" class="Heading_5">To update to a new minor release</div><div id="wwpID0E0MK0HA" class="List_Number" style="text-indent: -18pt"><span class="WebWorks_Number" style="width: 18pt"><span>1.	</span></span>Open the <span class="Code_Char">apt</span> source configuration file in a text editor, for example:</div><div id="wwpID0E0LK0HA" class="Code">$ sudo vi /etc/apt/sources.list.d/nvidia-l4t-apt-source.list</div><div id="wwpID0E0KK0HA" class="List_Number"><span class="WebWorks_Number" style="width: 18pt"><span>2.	</span></span>Change the repository name and download URL in the <span class="Code_Char">deb</span> commands.</div><div id="wwpID0E0JK0HA" class="List_Continue">The original commands are:</div><div id="wwpID0E0IK0HA" class="Code">deb https://repo.download.nvidia.com/jetson/common &lt;release&gt; main</div><div id="wwpID0E0HK0HA" class="Code">deb https://repo.download.nvidia.com/jetson/&lt;platform&gt; &lt;release&gt; main</div><div id="wwpID0E0GK0HA" class="List_Continue">Where:</div><div id="wwpID0E0FK0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span style="font-family: &quot;Palatino Linotype&quot;">•	</span></span><span class="Code_Char">&lt;release&gt;</span><span class="Code_Char" style="font-family: &quot;Palatino Linotype&quot;"> is the release number of the minor release you want to update to. For example, to update to minor </span>release 32.2,<span class="Code_Char" style="font-family: &quot;Palatino Linotype&quot;"> replace </span><span class="Code_Char">r32</span><span class="Code_Char" style="font-family: &quot;Palatino Linotype&quot;"> with </span><span class="Code_Char">r32.2</span><span class="Code_Char" style="font-family: &quot;Palatino Linotype&quot;">. OTA updates to the latest point release of the specified minor release (release 32.2.1 in this case).</span></div><div id="wwpID0E0EK0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">&lt;platform&gt;</span> identifies the platform’s processor:</div><div id="wwpID0E0DK0HA" class="List_Bullet_3"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">t186</span> for NVIDIA<span style="vertical-align: super">®</span> Jetson™ TX2 series</div><div id="wwpID0E0CK0HA" class="List_Bullet_3"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">t194</span> for NVIDIA<span style="vertical-align: super">®</span> Jetson AGX Xavier™ series or Jetson Xavier NX</div><div id="wwpID0E0BK0HA" class="List_Bullet_3"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">t210</span> for NVIDIA<span style="vertical-align: super">®</span> Jetson Nano™ devices or Jetson TX1</div><div id="wwpID0E0AK0HA" class="List_Continue">For example, if the current release was release 32.4 and your platform was Jetson Xavier NX, the commands would be:</div><div id="wwpID0E06J0HA" class="Code">deb https://repo.download.nvidia.com/jetson/common <span class="Strong">r32.4</span> main</div><div id="wwpID0E05J0HA" class="Code">deb https://repo.download.nvidia.com/jetson/<span class="Strong">t194</span> <span class="Strong">r32.4</span> main</div><div id="wwpID0E04J0HA" class="List_Number"><span class="WebWorks_Number" style="width: 18pt"><span>3.	</span></span>Save and close the source configuration file.</div><div id="wwpID0E03J0HA" class="List_Number"><span class="WebWorks_Number" style="width: 18pt"><span>4.	</span></span>Enter the commands:</div><div id="wwpID0E02J0HA" class="Code">$ sudo apt update</div><div id="wwpID0E01J0HA" class="Code">$ sudo apt dist-upgrade</div><div id="wwpID0E0ZJ0HA" class="List_Continue">If <span class="Code_Char">apt</span> prompts you to choose a configuration file, reply <span class="Code_Char">Y</span> for <span class="Emphasis">yes</span> (to use the NVIDIA updated version of the file).</div><div id="wwpID0E0YJ0HA" class="List_Number"><span class="WebWorks_Number" style="width: 18pt"><span>5.	</span></span>Reboot your Jetson device when the upgrade is finished.</div><div class="ww_skin_page_overflow"><table class="Table_Normal" style="margin-left: 49.5pt" cellspacing="0" summary=""><tr><td style="background-color: #76B900; background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top; width: 49.5pt"><div id="wwpID0EABA0XJ0HA" class="Note_Image">Note:</div></td><td style="background-color: #DDEEBF; background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top; width: 324pt"><div id="wwpID0EAAA0XJ0HA" class="Note_Text">The <span class="Code_Char">do-release-upgrade</span> command is disabled because Jetson Linux does not officially support release 20.04 at this time.</div></td></tr></table></div><H3 id="wwpID0E0WJ0HA" class="Heading_3">Updating a Host</H3><div id="wwpID0E0VJ0HA" class="Body_Text">NVIDIA provides a group of Debian packages that add or update Jetson Linux support components on the host computer.</div><div id="wwpID0E0UJ0HA" class="Heading_5">To prepare the host computer to install Jetson Linux support components</div><div id="wwpID0E0TJ0HA" class="List_Number" style="text-indent: -18pt"><span class="WebWorks_Number" style="width: 18pt"><span>1.	</span></span>Enter this command to install the public key of the x86_64 repository of the public APT server:</div><div id="wwpID0E0SJ0HA" class="Code">$ sudo apt-key adv --fetch-key http://repo.download.nvidia.com/jetson/jetson-ota-public.asc</div><div id="wwpID0E0RJ0HA" class="List_Number"><span class="WebWorks_Number" style="width: 18pt"><span>2.	</span></span>Add the following x86_64 repository to the host system’s source list:</div><div id="wwpID0E0QJ0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>For an Ubuntu 16.04 host:</div><div id="wwpID0E0PJ0HA" class="Code_Indent">deb http://repo.download.nvidia.com/jetson/x86_64/xenial &lt;relno&gt; main</div><div id="wwpID0E0OJ0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>For an Ubuntu 18.04 host:</div><div id="wwpID0E0NJ0HA" class="Code_Indent">deb http://repo.download.nvidia.com/jetson/x86_64/bionic &lt;relno&gt; main</div><div id="wwpID0E0MJ0HA" class="List_Continue">Where <span class="Code_Char">&lt;relno&gt;</span> is the current release’s full release number as specified in the <span class="Emphasis">Release Notes</span>.</div><div id="wwpID0E0LJ0HA" class="List_Number"><span class="WebWorks_Number" style="width: 18pt"><span>3.	</span></span>Enter the command:</div><div id="wwpID0E0KJ0HA" class="Code">$ sudo apt update</div><div id="wwpID0E0JJ0HA" class="List_Number"><span class="WebWorks_Number" style="width: 18pt"><span>4.	</span></span>Use <span class="Code_Char">apt</span> to download and install the required packages.</div><div id="wwpID0E0IJ0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>For an Ubuntu 16.04 host:</div><div id="wwpID0E0HJ0HA" class="Code_Indent">$ sudo apt-get install nsight-graphics-for-embeddedlinux-2021.1.1 cuda-toolkit-10-2  cuda-cross-aarch64-10-2  libvisionworks libvisionworks-dev libvisionworks-samples  libvisionworks-sfm libvisionworks-sfm-dev libvisionworks-tracking libvisionworks-tracking-dev libnvvpi1 vpi1-dev vpi1-samples vpi1-cross-aarch64-l4t nsight-systems-2021.2.3</div><div id="wwpID0E0GJ0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>For an Ubuntu 18.04 host:</div><div id="wwpID0E0FJ0HA" class="Code_Indent">$ sudo apt-get install  nsight-graphics-for-embeddedlinux-2021.1.1 nsight-systems-2021.2.3 cuda-toolkit-10-2 cuda-cross-aarch64-10-2 libvisionworks libvisionworks-dev libvisionworks-samples libvisionworks-sfm libvisionworks-sfm-dev libvisionworks-tracking libvisionworks-tracking-dev libnvvpi1 vpi1-dev vpi1-samples vpi1-cross-aarch64-l4t</div><H3 id="wwpID0E0EJ0HA" class="Heading_3">Debian Packages on the NVIDIA APT Server</H3><div id="wwpID0E0DJ0HA" class="Body_Text">This section lists the Debian packages maintained on the NVIDIA APT server for a Jetson device or a host.</div><H4 id="wwpID0E0CJ0HA" class="Heading_4">Update Packages for Jetson Devices</H4><div id="wwpID0E0BJ0HA" class="Body_Text">Following is a list of OTA update packages for BSP on Jetson devices as of Jetson Linux release 32.6.</div><div id="wwpID0E0AJ0HA" class="Body_Text">For a list of other OTA packages and instructions for applying them, see the section “List of JetPack OTA Packages” in <span class="Hyperlink"><a href="https://docs.nvidia.com/jetson/jetpack/index.html" target="external_window">JetPack User Guide</a></span>.</div><div class="ww_skin_page_overflow"><table class="Table_Grid" style="margin-left: 35.75pt" cellspacing="0" summary=""><tr><th style="background-color: #DDE4BF; border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 0.5pt; border-left-color: #000000; border-left-style: solid; border-left-width: 0.5pt; border-right-color: #000000; border-right-style: solid; border-right-width: 0.5pt; border-top-color: #000000; border-top-style: solid; border-top-width: 0.5pt; padding-bottom: 0pt; padding-left: 0pt; padding-right: 0pt; padding-top: 0pt; vertical-align: bottom; width: 64.2pt"><div id="wwpID0EABB06I0HA" class="Cell_Heading">Component Group</div></th><th style="background-color: #DDE4BF; border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 0.5pt; border-left-color: #000000; border-left-style: solid; border-left-width: 0.5pt; border-right-color: #000000; border-right-style: solid; border-right-width: 0.5pt; border-top-color: #000000; border-top-style: solid; border-top-width: 0.5pt; padding-bottom: 0pt; padding-left: 0pt; padding-right: 0pt; padding-top: 0pt; vertical-align: bottom; width: 331.8pt" colspan="2"><div id="wwpID0EAAB06I0HA" class="Cell_Heading">Packages</div></th></tr><tr><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top; width: 64.2pt"><div id="wwpID0EACA06I0HA" class="Cell_Text">BSP</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top; width: 159.55pt"><div id="wwpID0ENBA06I0HA" class="Cell_Text" style="text-indent: -3.6pt">jetson-gpio-common</div><div id="wwpID0EMBA06I0HA" class="Cell_Text" style="text-indent: -3.6pt">nvidia-l4t-3d-core</div><div id="wwpID0ELBA06I0HA" class="Cell_Text" style="text-indent: -3.6pt">nvidia-l4t-apt-source</div><div id="wwpID0EKBA06I0HA" class="Cell_Text" style="text-indent: -3.6pt">nvidia-l4t-bootloader</div><div id="wwpID0EJBA06I0HA" class="Cell_Text" style="text-indent: -3.6pt">nvidia-l4t-camera</div><div id="wwpID0EIBA06I0HA" class="Cell_Text" style="text-indent: -3.6pt">nvidia-l4t-configs</div><div id="wwpID0EHBA06I0HA" class="Cell_Text" style="text-indent: -3.6pt">nvidia-l4t-core</div><div id="wwpID0EGBA06I0HA" class="Cell_Text" style="text-indent: -3.6pt">nvidia-l4t-cuda</div><div id="wwpID0EFBA06I0HA" class="Cell_Text" style="text-indent: -3.6pt">nvidia-l4t-firmware</div><div id="wwpID0EEBA06I0HA" class="Cell_Text" style="text-indent: -3.6pt">nvidia-l4t-graphics-demos</div><div id="wwpID0EDBA06I0HA" class="Cell_Text" style="text-indent: -3.6pt">nvidia-l4t-gstreamer</div><div id="wwpID0ECBA06I0HA" class="Cell_Text" style="text-indent: -3.6pt">nvidia-l4t-init</div><div id="wwpID0EBBA06I0HA" class="Cell_Text" style="text-indent: -3.6pt">nvidia-l4t-initrd</div><div id="wwpID0EABA06I0HA" class="Cell_Text" style="text-indent: -3.6pt">nvidia-l4t-jetson-io</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top; width: 172.25pt"><div id="wwpID0ENAA06I0HA" class="Cell_Text" style="text-indent: -3.6pt">nvidia-l4t-jetson-multimedia-api</div><div id="wwpID0EMAA06I0HA" class="Cell_Text" style="text-indent: -3.6pt">nvidia-l4t-kernel</div><div id="wwpID0ELAA06I0HA" class="Cell_Text" style="text-indent: -3.6pt">nvidia-l4t-kernel-dtbs</div><div id="wwpID0EKAA06I0HA" class="Cell_Text" style="text-indent: -3.6pt">nvidia-l4t-kernel-headers</div><div id="wwpID0EJAA06I0HA" class="Cell_Text" style="text-indent: -3.6pt">nvidia-l4t-multimedia</div><div id="wwpID0EIAA06I0HA" class="Cell_Text" style="text-indent: -3.6pt">nvidia-l4t-multimedia-utils</div><div id="wwpID0EHAA06I0HA" class="Cell_Text" style="text-indent: -3.6pt">nvidia-l4t-oem-config</div><div id="wwpID0EGAA06I0HA" class="Cell_Text" style="text-indent: -3.6pt">nvidia-l4t-tools</div><div id="wwpID0EFAA06I0HA" class="Cell_Text" style="text-indent: -3.6pt">nvidia-l4t-wayland</div><div id="wwpID0EEAA06I0HA" class="Cell_Text" style="text-indent: -3.6pt">nvidia-l4t-weston</div><div id="wwpID0EDAA06I0HA" class="Cell_Text" style="text-indent: -3.6pt">nvidia-l4t-x11</div><div id="wwpID0ECAA06I0HA" class="Cell_Text" style="text-indent: -3.6pt">nvidia-l4t-xusb-firmware</div><div id="wwpID0EBAA06I0HA" class="Cell_Text" style="text-indent: -3.6pt">python-jetson-gpio</div><div id="wwpID0EAAA06I0HA" class="Cell_Text" style="text-indent: -3.6pt">python3-jetson-gpio</div></td></tr></table></div><H4 id="wwpID0E04I0HA" class="Heading_4">Update Packages for Hosts</H4><div id="wwpID0E03I0HA" class="Body_Text">The following table lists Jetson Linux support components that you can install with <span class="Code_Char">apt</span> on a host, and the packages that contain them.</div><div class="ww_skin_page_overflow"><table class="Table_Grid" style="margin-left: 35.75pt" cellspacing="0" summary=""><tr><td style="background-color: #DDE4BF; background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top; width: 70.85pt"><div id="wwpID0EABF02I0HA" class="Cell_Heading">Component Group</div></td><td style="background-color: #DDE4BF; background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top; width: 320.65pt" colspan="2"><div id="wwpID0EAAF02I0HA" class="Cell_Heading">Packages</div></td></tr><tr><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top; width: 70.85pt"><div id="wwpID0EACE02I0HA" class="Cell_Text">CUDA</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top; width: 154.15pt"><div id="wwpID0E0MB0BE02I0HA" class="Cell_Text">cuda</div><div id="wwpID0E0LB0BE02I0HA" class="Cell_Text">cuda-10-2</div><div id="wwpID0E0KB0BE02I0HA" class="Cell_Text">cuda-command-line-tools-10-2</div><div id="wwpID0E0JB0BE02I0HA" class="Cell_Text">cuda-compat-11-0</div><div id="wwpID0E0IB0BE02I0HA" class="Cell_Text">cuda-compiler-10-2</div><div id="wwpID0E0HB0BE02I0HA" class="Cell_Text">cuda-cudart-10-2</div><div id="wwpID0E0GB0BE02I0HA" class="Cell_Text">cuda-cudart-dev-10-2</div><div id="wwpID0E0FB0BE02I0HA" class="Cell_Text">cuda-cuobjdump-10-2</div><div id="wwpID0E0EB0BE02I0HA" class="Cell_Text">cuda-cupti-10-2</div><div id="wwpID0E0DB0BE02I0HA" class="Cell_Text">cuda-cupti-dev-10-2</div><div id="wwpID0E0CB0BE02I0HA" class="Cell_Text">cuda-demo-suite-10-2</div><div id="wwpID0E0BB0BE02I0HA" class="Cell_Text">cuda-documentation-10-2</div><div id="wwpID0E0AB0BE02I0HA" class="Cell_Text">cuda-driver-dev-10-2</div><div id="wwpID0E6BE02I0HA" class="Cell_Text">cuda-drivers</div><div id="wwpID0E5BE02I0HA" class="Cell_Text">cuda-drivers-450</div><div id="wwpID0E4BE02I0HA" class="Cell_Text">cuda-gdb-10-2</div><div id="wwpID0E3BE02I0HA" class="Cell_Text">cuda-gdb-src-10-2</div><div id="wwpID0E2BE02I0HA" class="Cell_Text">cuda-libraries-10-2</div><div id="wwpID0E1BE02I0HA" class="Cell_Text">cuda-libraries-dev-10-2</div><div id="wwpID0EZBE02I0HA" class="Cell_Text">cuda-memcheck-10-2</div><div id="wwpID0EYBE02I0HA" class="Cell_Text">cuda-minimal-build-10-2</div><div id="wwpID0EXBE02I0HA" class="Cell_Text">cuda-nsight-10-2</div><div id="wwpID0EWBE02I0HA" class="Cell_Text">cuda-nsight-compute-10-2</div><div id="wwpID0EVBE02I0HA" class="Cell_Text">cuda-nsight-systems-10-2</div><div id="wwpID0EUBE02I0HA" class="Cell_Text">cuda-nvcc-10-2</div><div id="wwpID0ETBE02I0HA" class="Cell_Text">cuda-nvdisasm-10-2</div><div id="wwpID0ESBE02I0HA" class="Cell_Text">cuda-nvgraph-10-2</div><div id="wwpID0ERBE02I0HA" class="Cell_Text">cuda-nvgraph-dev-10-2</div><div id="wwpID0EQBE02I0HA" class="Cell_Text">cuda-nvml-dev-10-2</div><div id="wwpID0EPBE02I0HA" class="Cell_Text">cuda-nvprof-10-2</div><div id="wwpID0EOBE02I0HA" class="Cell_Text">cuda-nvprune-10-2</div><div id="wwpID0ENBE02I0HA" class="Cell_Text">cuda-nvrtc-10-2</div><div id="wwpID0EMBE02I0HA" class="Cell_Text">cuda-nvrtc-dev-10-2</div><div id="wwpID0ELBE02I0HA" class="Cell_Text">cuda-nvtx-10-2</div><div id="wwpID0EKBE02I0HA" class="Cell_Text">cuda-nvvp-10-2</div><div id="wwpID0EJBE02I0HA" class="Cell_Text">cuda-runtime-10-2</div><div id="wwpID0EIBE02I0HA" class="Cell_Text">cuda-samples-10-2</div><div id="wwpID0EHBE02I0HA" class="Cell_Text">cuda-sanitizer-10-2</div><div id="wwpID0EGBE02I0HA" class="Cell_Text">cuda-toolkit-10-2</div><div id="wwpID0EFBE02I0HA" class="Cell_Text">cuda-tools-10-2</div><div id="wwpID0EEBE02I0HA" class="Cell_Text">cuda-visual-tools-10-2</div><div id="wwpID0EDBE02I0HA" class="Cell_Text">libcublas-dev</div><div id="wwpID0ECBE02I0HA" class="Cell_Text">libcublas10</div><div id="wwpID0EBBE02I0HA" class="Cell_Text">libcuda1-375</div><div id="wwpID0EABE02I0HA" class="Cell_Text">libcuda1-450</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top; width: 166.5pt"><div id="wwpID0E0LB0AE02I0HA" class="Cell_Text">libcufft-10-2</div><div id="wwpID0E0KB0AE02I0HA" class="Cell_Text">libcufft-dev-10-2</div><div id="wwpID0E0JB0AE02I0HA" class="Cell_Text">libcurand-10-2</div><div id="wwpID0E0IB0AE02I0HA" class="Cell_Text">libcurand-dev-10-2</div><div id="wwpID0E0HB0AE02I0HA" class="Cell_Text">libcusolver-10-2</div><div id="wwpID0E0GB0AE02I0HA" class="Cell_Text">libcusolver-dev-10-2</div><div id="wwpID0E0FB0AE02I0HA" class="Cell_Text">libcusparse-10-2</div><div id="wwpID0E0EB0AE02I0HA" class="Cell_Text">libcusparse-dev-10-2</div><div id="wwpID0E0DB0AE02I0HA" class="Cell_Text">libnpp-10-2</div><div id="wwpID0E0CB0AE02I0HA" class="Cell_Text">libnpp-dev-10-2</div><div id="wwpID0E0BB0AE02I0HA" class="Cell_Text">libnvidia-cfg1-450</div><div id="wwpID0E0AB0AE02I0HA" class="Cell_Text">libnvidia-common-450</div><div id="wwpID0E6AE02I0HA" class="Cell_Text">libnvidia-compute-450</div><div id="wwpID0E5AE02I0HA" class="Cell_Text">libnvidia-decode-450</div><div id="wwpID0E4AE02I0HA" class="Cell_Text">libnvidia-encode-450</div><div id="wwpID0E3AE02I0HA" class="Cell_Text">libnvidia-extra-450</div><div id="wwpID0E2AE02I0HA" class="Cell_Text">libnvidia-fbc1-450</div><div id="wwpID0E1AE02I0HA" class="Cell_Text">libnvidia-gl-450</div><div id="wwpID0EZAE02I0HA" class="Cell_Text">libnvidia-ifr1-450</div><div id="wwpID0EYAE02I0HA" class="Cell_Text">libnvjpeg-10-2</div><div id="wwpID0EXAE02I0HA" class="Cell_Text">libnvjpeg-dev-10-2</div><div id="wwpID0EWAE02I0HA" class="Cell_Text">libxnvctrl-dev</div><div id="wwpID0EVAE02I0HA" class="Cell_Text">libxnvctrl0</div><div id="wwpID0EUAE02I0HA" class="Cell_Text">nsight-compute-2019.5.3</div><div id="wwpID0ETAE02I0HA" class="Cell_Text">nsight-systems-2021.1.3</div><div id="wwpID0ESAE02I0HA" class="Cell_Text">nvidia-375</div><div id="wwpID0ERAE02I0HA" class="Cell_Text">nvidia-375-dev</div><div id="wwpID0EQAE02I0HA" class="Cell_Text">nvidia-450</div><div id="wwpID0EPAE02I0HA" class="Cell_Text">nvidia-450-dev</div><div id="wwpID0EOAE02I0HA" class="Cell_Text">nvidia-compute-utils-450</div><div id="wwpID0ENAE02I0HA" class="Cell_Text">nvidia-dkms-450</div><div id="wwpID0EMAE02I0HA" class="Cell_Text">nvidia-driver-450</div><div id="wwpID0ELAE02I0HA" class="Cell_Text">nvidia-headless-450</div><div id="wwpID0EKAE02I0HA" class="Cell_Text">nvidia-headless-no-dkms-450</div><div id="wwpID0EJAE02I0HA" class="Cell_Text">nvidia-kernel-common-450</div><div id="wwpID0EIAE02I0HA" class="Cell_Text">nvidia-kernel-source-450</div><div id="wwpID0EHAE02I0HA" class="Cell_Text">nvidia-libopencl1-375</div><div id="wwpID0EGAE02I0HA" class="Cell_Text">nvidia-libopencl1-450</div><div id="wwpID0EFAE02I0HA" class="Cell_Text">nvidia-modprobe</div><div id="wwpID0EEAE02I0HA" class="Cell_Text">nvidia-opencl-icd-375</div><div id="wwpID0EDAE02I0HA" class="Cell_Text">nvidia-opencl-icd-450</div><div id="wwpID0ECAE02I0HA" class="Cell_Text">nvidia-settings</div><div id="wwpID0EBAE02I0HA" class="Cell_Text">nvidia-utils-450</div><div id="wwpID0EAAE02I0HA" class="Cell_Text">xserver-xorg-video-nvidia-450</div></td></tr><tr><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EABD02I0HA" class="Cell_Text">CUDA cross-compile package (host)</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top" colspan="2"><div id="wwpID0ESAD02I0HA" class="Cell_Text">cuda-cross-aarch64</div><div id="wwpID0ERAD02I0HA" class="Cell_Text">cuda-cross-aarch64-10-2</div><div id="wwpID0EQAD02I0HA" class="Cell_Text">cuda-cudart-cross-aarch64-10-2</div><div id="wwpID0EPAD02I0HA" class="Cell_Text">cuda-cupti-cross-aarch64-10-2</div><div id="wwpID0EOAD02I0HA" class="Cell_Text">cuda-driver-cross-aarch64-10-2</div><div id="wwpID0ENAD02I0HA" class="Cell_Text">cuda-nsight-compute-addon-l4t-10-2</div><div id="wwpID0EMAD02I0HA" class="Cell_Text">cuda-nvcc-cross-aarch64-10-2</div><div id="wwpID0ELAD02I0HA" class="Cell_Text">cuda-nvgraph-cross-aarch64-10-2</div><div id="wwpID0EKAD02I0HA" class="Cell_Text">cuda-nvml-cross-aarch64-10-2</div><div id="wwpID0EJAD02I0HA" class="Cell_Text">cuda-nvprof-cross-aarch64-10-2</div><div id="wwpID0EIAD02I0HA" class="Cell_Text">cuda-nvrtc-cross-aarch64-10-2</div><div id="wwpID0EHAD02I0HA" class="Cell_Text">cuda-nvtx-cross-aarch64-10-2</div><div id="wwpID0EGAD02I0HA" class="Cell_Text">libcublas-cross-aarch64</div><div id="wwpID0EFAD02I0HA" class="Cell_Text">libcufft-cross-aarch64-10-2</div><div id="wwpID0EEAD02I0HA" class="Cell_Text">libcurand-cross-aarch64-10-2</div><div id="wwpID0EDAD02I0HA" class="Cell_Text">libcusolver-cross-aarch64-10-2</div><div id="wwpID0ECAD02I0HA" class="Cell_Text">libcusparse-cross-aarch64-10-2</div><div id="wwpID0EBAD02I0HA" class="Cell_Text">libnpp-cross-aarch64-10-2</div><div id="wwpID0EAAD02I0HA" class="Cell_Text">nsight-compute-addon-l4t-2019.5.3</div></td></tr><tr><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EABC02I0HA" class="Cell_Text">Computer vision <span style="font-family: Calibri">(</span>VisionWorks)</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top" colspan="2"><div id="wwpID0EGAC02I0HA" class="Cell_Text">libvisionworks</div><div id="wwpID0EFAC02I0HA" class="Cell_Text">libvisionworks-dev</div><div id="wwpID0EEAC02I0HA" class="Cell_Text">libvisionworks-samples</div><div id="wwpID0EDAC02I0HA" class="Cell_Text">libvisionworks-sfm</div><div id="wwpID0ECAC02I0HA" class="Cell_Text">libvisionworks-sfm-dev</div><div id="wwpID0EBAC02I0HA" class="Cell_Text">libvisionworks-tracking</div><div id="wwpID0EAAC02I0HA" class="Cell_Text">libvisionworks-tracking-dev</div></td></tr><tr><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EABB02I0HA" class="Cell_Text">Computer vision (VPI)</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top" colspan="2"><div id="wwpID0EEAB02I0HA" class="Cell_Text">libnvvpi1</div><div id="wwpID0EDAB02I0HA" class="Cell_Text">vpi1-cross-aarch64-l4t</div><div id="wwpID0ECAB02I0HA" class="Cell_Text">vpi1-demos</div><div id="wwpID0EBAB02I0HA" class="Cell_Text">vpi1-dev</div><div id="wwpID0EAAB02I0HA" class="Cell_Text">vpi1-samples</div></td></tr></table></div><div id="wwpID0E01I0HA" class="Body_Text">&nbsp;</div><H3 id="wwpID0E0ZI0HA" class="Heading_3">Customizing Debian Packages</H3><div id="wwpID0E0YI0HA" class="Body_Text">You can customize Debian packages to help you implement your solution, for example by adding support for your carrier board. For more information, see <span class="Hyperlink"><a href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/getting_started.html#wwpID0E0FF0HA" title="BSP Customization">Repackaging Debian Packages</a></span> and <span class="Hyperlink"><a href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/getting_started.html#wwpID0E0DF0HA" title="BSP Customization">Building the Debian Bootloader Package Yourself</a></span> in the topic <span class="Hyperlink"><a href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/getting_started.html#" title="BSP Customization">BSP Customization</a></span>.</div><H2 id="wwpID0E0XI0HA" class="Heading_2">Downloading Debian Packages for Later Use</H2><div id="wwpID0E0WI0HA" class="Body_Text">As an alternative to installing Debian packages on a Jetson device or host from the APT server, you can download packages and store them, and later, you can install them manually.</div><div id="wwpID0E0VI0HA" class="Body_Text">To download packages, open <span class="Hyperlink"><a href="https://repo.download.nvidia.com/jetson/" target="external_window">https://repo.download.nvidia.com/jetson/</a></span> in a web browser. This URL displays a list of Debian packages for each Jetpack release. Each package name is a hyperlink; to download a package, click its link.</div><H2 id="wwpID0E0UI0HA" class="Heading_2">Updating Jetson Linux with Image-Based Over-the-Air Update</H2><div class="WebWorks_MiniTOC"><div class="WebWorks_MiniTOC_Heading">&nbsp;</div><dl class="WebWorks_MiniTOC_List"><dd><div class="WebWorks_MiniTOC_Entry"><a class="WebWorks_MiniTOC_Link" href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/updating_jetson_and_host.html#wwpID0E0OI0HA">Terms and Abbreviations</a></div></dd><dd><div class="WebWorks_MiniTOC_Entry"><a class="WebWorks_MiniTOC_Link" href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/updating_jetson_and_host.html#wwpID0E0II0HA">Overall High-Level Flow</a></div></dd><dl class="WebWorks_MiniTOC_List"><dd><div class="WebWorks_MiniTOC_Entry"><a class="WebWorks_MiniTOC_Link" href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/updating_jetson_and_host.html#wwpID0E0GI0HA">Preparing the OTA Payload Package</a></div></dd><dd><div class="WebWorks_MiniTOC_Entry"><a class="WebWorks_MiniTOC_Link" href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/updating_jetson_and_host.html#wwpID0E02H0HA">Trigger the OTA Process</a></div></dd></dl><dd><div class="WebWorks_MiniTOC_Entry"><a class="WebWorks_MiniTOC_Link" href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/updating_jetson_and_host.html#wwpID0E0VH0HA">Preparing for an Image-Based OTA Update</a></div></dd><dd><div class="WebWorks_MiniTOC_Entry"><a class="WebWorks_MiniTOC_Link" href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/updating_jetson_and_host.html#wwpID0E0VD0HA">nv_ota_start.sh, a Utility for Triggering OTA</a></div></dd><dd><div class="WebWorks_MiniTOC_Entry"><a class="WebWorks_MiniTOC_Link" href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/updating_jetson_and_host.html#wwpID0E0QD0HA">Update with Rootfs Redundancy Enabled</a></div></dd><dd><div class="WebWorks_MiniTOC_Entry"><a class="WebWorks_MiniTOC_Link" href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/updating_jetson_and_host.html#wwpID0E0JD0HA">Update with Partition Layout Changes</a></div></dd><dd><div class="WebWorks_MiniTOC_Entry"><a class="WebWorks_MiniTOC_Link" href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/updating_jetson_and_host.html#wwpID0E0AD0HA">Back Up and Restore Files on the APP Partition</a></div></dd><dd><div class="WebWorks_MiniTOC_Entry"><a class="WebWorks_MiniTOC_Link" href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/updating_jetson_and_host.html#wwpID0E0VC0HA">Complete and Secure OTA</a></div></dd><dd><div class="WebWorks_MiniTOC_Entry"><a class="WebWorks_MiniTOC_Link" href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/updating_jetson_and_host.html#wwpID0E0NC0HA">Customization</a></div></dd><dl class="WebWorks_MiniTOC_List"><dd><div class="WebWorks_MiniTOC_Entry"><a class="WebWorks_MiniTOC_Link" href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/updating_jetson_and_host.html#wwpID0E0LC0HA">Rootfs Customization</a></div></dd><dd><div class="WebWorks_MiniTOC_Entry"><a class="WebWorks_MiniTOC_Link" href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/updating_jetson_and_host.html#wwpID0E0FC0HA">Partition Layout Customization</a></div></dd><dd><div class="WebWorks_MiniTOC_Entry"><a class="WebWorks_MiniTOC_Link" href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/updating_jetson_and_host.html#wwpID0E01B0HA">Update Process Customization</a></div></dd><dd><div class="WebWorks_MiniTOC_Entry"><a class="WebWorks_MiniTOC_Link" href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/updating_jetson_and_host.html#wwpID0E0TB0HA">Recovery Image Customization</a></div></dd><dd><div class="WebWorks_MiniTOC_Entry"><a class="WebWorks_MiniTOC_Link" href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/updating_jetson_and_host.html#wwpID0E0OB0HA">Recovery Task Customization</a></div></dd></dl><dd><div class="WebWorks_MiniTOC_Entry"><a class="WebWorks_MiniTOC_Link" href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/updating_jetson_and_host.html#wwpID0E0JB0HA">Updating the Rootfs Partition with a Customized Updater and Image</a></div></dd><dd><div class="WebWorks_MiniTOC_Entry"><a class="WebWorks_MiniTOC_Link" href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/updating_jetson_and_host.html#wwpID0E6HA">Updating an Individual Partition</a></div></dd><dd><div class="WebWorks_MiniTOC_Entry"><a class="WebWorks_MiniTOC_Link" href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/updating_jetson_and_host.html#wwpID0EJHA">Examples</a></div></dd></dl></div><div id="wwpID0E0TI0HA" class="Body_Text_Indent"><span class="Strong">Applies to</span>: Jetson Xavier NX, Jetson AGX Xavier series, and Jetson TX2 series only</div><div id="wwpID0E0SI0HA" class="Body_Text"><span class="Strong">Image-Based Over-the-Air Update</span> is a failsafe way to update BSP on a Jetson device by writing pre-generated images to the partitions. It can update many old BSP versions to newer ones.</div><div id="wwpID0E0RI0HA" class="Body_Text">Image-based OTA further supports updates between versions with different partition layouts, which require layout changes in the course of the update. One example of such an update is the update from Jetson Linux release 28.3 to release 32.6.</div><div id="wwpID0E0QI0HA" class="Body_Text">Image-based OTA currently supports updates to the current release, release 32.6, from the following earlier versions. You can adapt the process to update to other versions.</div><div class="ww_skin_page_overflow"><table class="Table_Grid" style="margin-left: 35.75pt" cellspacing="0" summary=""><tr><th style="background-color: #DDEEBF; border-bottom-color: #A6A6A6; border-bottom-style: solid; border-bottom-width: 0.5pt; border-left-color: #7F7F7F; border-left-style: solid; border-left-width: 0.5pt; border-right-color: #7F7F7F; border-right-style: solid; border-right-width: 0.5pt; border-top-color: #A6A6A6; border-top-style: solid; border-top-width: 0.5pt; padding-bottom: 0pt; padding-left: 0pt; padding-right: 0pt; padding-top: 0pt; vertical-align: bottom; width: 329.5pt" colspan="4"><div id="wwpID0EAAF0PI0HA" class="Cell_Heading">Updates to Jetson Linux release 32.6</div></th></tr><tr><th style="background-color: #DDEEBF; border-bottom-color: #A6A6A6; border-bottom-style: solid; border-bottom-width: 0.5pt; border-left-color: #7F7F7F; border-left-style: solid; border-left-width: 0.5pt; border-right-color: #A6A6A6; border-right-style: solid; border-right-width: 0.5pt; border-top-color: #A6A6A6; border-top-style: solid; border-top-width: 0.5pt; padding-bottom: 0pt; padding-left: 0pt; padding-right: 0pt; padding-top: 0pt; vertical-align: bottom; width: 99pt"><div id="wwpID0EACE0PI0HA" class="Cell_Heading">Carrier board</div></th><th style="background-color: #DDEEBF; border-bottom-color: #A6A6A6; border-bottom-style: solid; border-bottom-width: 0.5pt; border-left-color: #A6A6A6; border-left-style: solid; border-left-width: 0.5pt; border-right-color: #A6A6A6; border-right-style: solid; border-right-width: 0.5pt; border-top-color: #A6A6A6; border-top-style: solid; border-top-width: 0.5pt; padding-bottom: 0pt; padding-left: 0pt; padding-right: 0pt; padding-top: 0pt; vertical-align: bottom; width: 184.5pt"><div id="wwpID0EABE0PI0HA" class="Cell_Heading">Modules</div></th><th style="background-color: #DDEEBF; border-bottom-color: #A6A6A6; border-bottom-style: solid; border-bottom-width: 0.5pt; border-left-color: #A6A6A6; border-left-style: solid; border-left-width: 0.5pt; border-right-color: #7F7F7F; border-right-style: solid; border-right-width: 0.5pt; border-top-color: #A6A6A6; border-top-style: solid; border-top-width: 0.5pt; padding-bottom: 0pt; padding-left: 0pt; padding-right: 0pt; padding-top: 0pt; vertical-align: bottom; width: 45pt"><div id="wwpID0EAAE0PI0HA" class="Cell_Heading">From release</div></th></tr><tr><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top; width: 99pt"><div id="wwpID0EACD0PI0HA" class="Cell_Text">NVIDIA Jetson TX2</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top; width: 184.5pt"><div id="wwpID0EABD0PI0HA" class="Cell_Text">Original Jetson TX2 module only</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top; width: 45pt"><div id="wwpID0EAAD0PI0HA" class="Cell_Text" style="text-align: center">28.2<br />28.3<br />28.4<br />32.1<br />32.2<br />32.3<br />32.4<br />32.5</div></td></tr><tr><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top; width: 99pt"><div id="wwpID0EACC0PI0HA" class="Cell_Text">NVIDIA Jetson TX2&nbsp;NX</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top; width: 184.5pt"><div id="wwpID0EABC0PI0HA" class="Cell_Text">Jetson TX2 NX module</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top; width: 45pt"><div id="wwpID0EAAC0PI0HA" class="Cell_Text" style="text-align: center">32.5</div></td></tr><tr><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top; width: 99pt"><div id="wwpID0EACB0PI0HA" class="Cell_Text">NVIDIA<span style="vertical-align: super">®</span> Jetson AGX&nbsp;Xavier™</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top; width: 184.5pt"><div id="wwpID0EABB0PI0HA" class="Cell_Text">All Jetson AGX Xavier series modules</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top; width: 45pt"><div id="wwpID0EAAB0PI0HA" class="Cell_Text" style="text-align: center">32.1<br />32.2<br />32.3<br />32.4<br />32.5</div></td></tr><tr><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top; width: 99pt"><div id="wwpID0EACA0PI0HA" class="Cell_Text">NVIDIA Jetson Xavier&nbsp;NX</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top; width: 184.5pt"><div id="wwpID0EABA0PI0HA" class="Cell_Text">All Jetson Xavier NX modules</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top; width: 45pt"><div id="wwpID0EAAA0PI0HA" class="Cell_Text" style="text-align: center">32.4<br />32.5</div></td></tr></table></div><H3 id="wwpID0E0OI0HA" class="Heading_3">Terms and Abbreviations</H3><div id="wwpID0E0NI0HA" class="Body_Text">This section uses the following terms and abbreviations:</div><div id="wwpID0E0MI0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Strong">BUP</span>: Bootloader update payload, a file that contains firmware binaries of each type needed to update a Jetson device</div><div id="wwpID0E0LI0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Strong">MSI</span>: Minimal set of images, the minimal set of images needed to boot Jetson Linux</div><div id="wwpID0E0KI0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Strong">OTA</span>: Over-the-Air Update, the Jetson Linux feature that enables you to update Jetson devices</div><div id="wwpID0E0JI0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Strong">ToT</span>: Top of tree, the latest revision of a file in a source control system such as Git</div><H3 id="wwpID0E0II0HA" class="Heading_3">Overall High-Level Flow</H3><div id="wwpID0E0HI0HA" class="Body_Text">An image-based OTA update is performed in two steps. The first step is to prepare an OTA payload package on the host machine; the second is to trigger the OTA process on the target device.</div><H4 id="wwpID0E0GI0HA" class="Heading_4">Preparing the OTA Payload Package</H4><div id="wwpID0E0FI0HA" class="Body_Text">The current Jetson Linux BSP provides all necessary tools for generating the OTA payload package in the OTA tool package:</div><div id="wwpID0E0EI0HA" class="Code">ota_tools_&lt;rel&gt;_aarch64.tbz2</div><div id="wwpID0E0DI0HA" class="Body_Text">Where <span class="Code_Char">&lt;rel&gt;</span> is the current point release number, e.g. <span class="Code_Char">R32.6.1</span>.</div><div id="wwpID0E0CI0HA" class="Body_Text">The OTA tool package can be used to create OTA payload package for:</div><div id="wwpID0E0BI0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Updating a full system</div><div id="wwpID0E0AI0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Updating Bootloader only</div><div id="wwpID0E06H0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Updating the rootfs only</div><div id="wwpID0E05H0HA" class="Body_Text">The generated OTA payload package is named <span class="Code_Char">ota_payload_package.tar.gz</span>. This package includes images for all partitions that are to be updated.</div><div class="ww_skin_page_overflow"><table class="Table_Normal" style="margin-left: 49.5pt" cellspacing="0" summary=""><tr><td style="background-color: #76B900; background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top; width: 49.5pt"><div id="wwpID0EABA04H0HA" class="Note_Image">Note:</div></td><td style="background-color: #DDEEBF; background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top; width: 324pt"><div id="wwpID0EAAA04H0HA" class="Note_Text">NVIDIA recommends applying a security mechanism to this package, such as a signature or encryption.</div></td></tr></table></div><div id="wwpID0E03H0HA" class="Body_Text">Upload <span class="Code_Char">ota_payload_package.tar.gz</span> and the OTA tools package <span class="Code_Char">ota_tools_&lt;rel&gt;_aarch64.tbz2</span> to your OTA server.</div><H4 id="wwpID0E02H0HA" class="Heading_4">Trigger the OTA Process</H4><div id="wwpID0E01H0HA" class="Body_Text">You are responsible for writing the OTA client service that triggers the OTA process. It must include the following steps:</div><div id="wwpID0E0ZH0HA" class="List_Number" style="text-indent: -18pt"><span class="WebWorks_Number" style="width: 18pt"><span>1.	</span></span>Download the OTA tool package <span class="Code_Char">ota_tools_&lt;rel&gt;_aarch64.tbz2</span> and the OTA payload package <span class="Code_Char">ota_payload_package.tar.gz</span> from your own OTA server.</div><div id="wwpID0E0YH0HA" class="List_Number"><span class="WebWorks_Number" style="width: 18pt"><span>2.	</span></span>Validate the downloaded OTA payload package and its contents according to your own security requirements.</div><div id="wwpID0E0XH0HA" class="List_Number"><span class="WebWorks_Number" style="width: 18pt"><span>3.	</span></span>Use the tool in the OTA tool package to trigger the OTA update. The tool decompresses the OTA payload package and prepares it for OTA update. The tool handles cases where a partition layout change is involved, and where rootfs A/B is enabled</div><div id="wwpID0E0WH0HA" class="Body_Text">For detailed steps, see the following sections.</div><H3 id="wwpID0E0VH0HA" class="Heading_3">Preparing for an Image-Based OTA Update</H3><div id="wwpID0E0UH0HA" class="Body_Text">Preparing for an image-based OTA update involves some steps on both the host machine and target device. The steps performed on each are identified in the procedure.</div><div id="wwpID0E0TH0HA" class="Heading_5">Steps Performed on the Host Machine</div><div id="wwpID0E0SH0HA" class="List_Number" style="text-indent: -18pt"><span class="WebWorks_Number" style="width: 18pt"><span>1.	</span></span>Set the environment variable <span class="Code_Char">BASE_BSP</span> to the full pathname of the base BSP’s <span class="Code_Char">Linux_for_Tegra/</span> directory. (The base BSP is the BSP release to be updated, i.e., a supported version of release 28 or release 32.)</div><div id="wwpID0E0RH0HA" class="List_Number"><span class="WebWorks_Number" style="width: 18pt"><span>2.	</span></span>Get the package for the current release of Jetson Linux and unpack and apply its sample root filesystem. Go to the directory that contains the current BSP package and enter the following commands:</div><div id="wwpID0E0QH0HA" class="Code">$ tar xpf Tegra186_Linux_&lt;rel&gt;_aarch64.tbz2</div><div id="wwpID0E0PH0HA" class="Code">$ cd Linux_for_Tegra/rootfs/</div><div id="wwpID0E0OH0HA" class="Code">$ sudo tar xpf \</div><div id="wwpID0E0NH0HA" class="Code">  ../../Tegra_Linux_Sample-Root-Filesystem_&lt;rel&gt;_aarch64.tbz2</div><div id="wwpID0E0MH0HA" class="Code">$ cd ..</div><div id="wwpID0E0LH0HA" class="Code">$ sudo ./apply_binaries.sh</div><div id="wwpID0E0KH0HA" class="List_Number"><span class="WebWorks_Number" style="width: 18pt"><span>3.	</span></span>Set the environment variable <span class="Code_Char">ToT_BSP</span> to the full pathname of the current-release BSP’s <span class="Code_Char">Linux_for_Tegra/</span> directory.</div><div id="wwpID0E0JH0HA" class="List_Number"><span class="WebWorks_Number" style="width: 18pt"><span>4.	</span></span>Install the OTA tool package <span class="Code_Char">ota_tools_&lt;rel&gt;_aarch64.tbz2</span> to <span class="Code_Char">${ToT_BSP}</span>:</div><div id="wwpID0E0IH0HA" class="Code">$ cd ${ToT_BSP}/../</div><div id="wwpID0E0HH0HA" class="Code">$ tar xpf ota_tools_&lt;rel&gt;_aarch64.tbz2</div><div id="wwpID0E0GH0HA" class="List_Number"><span class="WebWorks_Number" style="width: 18pt"><span>5.	</span></span>If the release you want to update to is <span class="Code_Char">${ToT_BSP}</span>, set the environment variable <span class="Code_Char">TARGET_BSP</span> to <span class="Code_Char">${ToT_BSP}</span> and go to step&nbsp;<a href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/updating_jetson_and_host.html#wwpID0E0KF0HA" title="Over-the-Air Update">12</a>. Otherwise, go on to the next step to update the BSP to the desired other release.</div><div id="wwpID0E0FH0HA" class="List_Number"><span class="WebWorks_Number" style="width: 18pt"><span>6.	</span></span>Get the package for the release of Jetson Linux that you want to update to, such as release 32.4 or 32.5. Unpack and apply its sample root filesystem.</div><div class="ww_skin_page_overflow"><table class="Table_Normal" style="margin-left: 49.5pt" cellspacing="0" summary=""><tr><td style="background-color: #76B900; background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top; width: 49.5pt"><div id="wwpID0EABA0EH0HA" class="Note_Image">Note:</div></td><td style="background-color: #DDEEBF; background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top; width: 324pt"><div id="wwpID0EAAA0EH0HA" class="Note_Text">Updating to r32.5 is not supported on the Jetson Xavier NX P3668-0000.</div></td></tr></table></div><div id="wwpID0E0DH0HA" class="List_Continue">Go to the directory that contains the BSP package and enter the following commands:</div><div id="wwpID0E0CH0HA" class="Code">$ tar xpf Tegra186_Linux_&lt;rel&gt;_aarch64.tbz2</div><div id="wwpID0E0BH0HA" class="Code">$ cd Linux_for_Tegra/rootfs/</div><div id="wwpID0E0AH0HA" class="Code">$ sudo tar xpf \</div><div id="wwpID0E06G0HA" class="Code">  ../../Tegra_Linux_Sample-Root-Filesystem_&lt;rel&gt;_aarch64.tbz2</div><div id="wwpID0E05G0HA" class="Code">$ cd ..</div><div id="wwpID0E04G0HA" class="Code">$ sudo ./apply_binaries.sh</div><div id="wwpID0E03G0HA" class="List_Number"><span class="WebWorks_Number" style="width: 18pt"><span>7.	</span></span>Set the environment variable <span class="Code_Char">TARGET_BSP</span> to the full pathname of the <span class="Code_Char">Linux_for_Tegra/</span> directory in the package you unpacked in step&nbsp;<a href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/updating_jetson_and_host.html#wwpID0E0FH0HA" title="Over-the-Air Update">6</a>.</div><div id="wwpID0E02G0HA" class="List_Number"><span class="WebWorks_Number" style="width: 18pt"><span>8.	</span></span>Install the OTA tool package <span class="Code_Char">ota_tools_&lt;rel&gt;_aarch64.tbz2</span> from <span class="Code_Char">${ToT_BSP}</span> to <span class="Code_Char">${TARGET_BSP}</span>:</div><div id="wwpID0E01G0HA" class="Code">$ cd ${TARGET_BSP}/../</div><div id="wwpID0E0ZG0HA" class="Code">$ tar xpf ${ToT_BSP}/../ota_tools_&lt;rel&gt;_aarch64.tbz2 -C ./</div><div id="wwpID0E0YG0HA" class="List_Number"><span class="WebWorks_Number" style="width: 18pt"><span>9.	</span></span>Copy files under <span class="Code_Char">${ToT_BSP}/tools/ota_tools/version_upgrade</span> to <span class="Code_Char">${TARGET_BSP}</span>:</div><div id="wwpID0E0XG0HA" class="Code">$ cd ${TARGET_BSP}</div><div id="wwpID0E0WG0HA" class="Code">$ cp ${ToT_BSP}/tools/ota_tools/version_upgrade/* ./tools/ota_tools/version_upgrade</div><div id="wwpID0E0VG0HA" class="List_Number"><span class="WebWorks_Number" style="width: 18pt"><span>10.	</span></span>Generate slot metadata files for <span class="Code_Char">${TARGET_BSP}</span>:</div><div id="wwpID0E0UG0HA" class="Code">$ cd ${TARGET_BSP}</div><div id="wwpID0E0TG0HA" class="Code">$ cp ./bootloader/smd_info.cfg ./tools/ota_tools/version_upgrade/smd_info.boot_slot_A.cfg</div><div id="wwpID0E0SG0HA" class="Code">$ cp ./bootloader/smd_info.cfg ./tools/ota_tools/version_upgrade/smd_info.boot_slot_B.cfg</div><div id="wwpID0E0RG0HA" class="Code">$ sed -i -e 's/^15/# 15/' -e 's/^##15/15/' -e 's/^##14/14/' ./tools/ota_tools/version_upgrade/smd_info.boot_slot_A.cfg</div><div id="wwpID0E0QG0HA" class="Code">$ sed -i -e 's/^15/# 15/' -e 's/^##15/14/' -e 's/^##14/15/' ./tools/ota_tools/version_upgrade/smd_info.boot_slot_B.cfg</div><div id="wwpID0E0PG0HA" class="Code">$ ./bootloader/nv_smd_generator ./tools/ota_tools/version_upgrade/smd_info.boot_slot_A.cfg ./tools/ota_tools/version_upgrade/slot_metadata.bin.A</div><div id="wwpID0E0OG0HA" class="Code">$ ./bootloader/nv_smd_generator ./tools/ota_tools/version_upgrade/smd_info.boot_slot_B.cfg ./tools/ota_tools/version_upgrade/slot_metadata.bin.B</div><div id="wwpID0E0NG0HA" class="List_Number"><span class="WebWorks_Number" style="width: 18pt"><span>11.	</span></span>Copy the files from <span class="Code_Char">${ToT_BSP}</span> and modify<span class="Code_Char"> p2771-0000.conf.common,</span> <span class="Code_Char">p2972-0000.conf.common</span>, and <span class="Code_Char">p3668.conf.common</span>:</div><div id="wwpID0E0MG0HA" class="Code">$ cd ${TARGET_BSP}</div><div id="wwpID0E0LG0HA" class="Code">$ mv ./flash.sh ./flash.sh.backup</div><div id="wwpID0E0KG0HA" class="Code">$ cp ${ToT_BSP}/flash.sh ./</div><div id="wwpID0E0JG0HA" class="Code">$ mv ./l4t_sign_image.sh ./l4t_sign_image.sh.backup</div><div id="wwpID0E0IG0HA" class="Code">$ cp ${ToT_BSP}/l4t_sign_image.sh ./</div><div id="wwpID0E0HG0HA" class="Code">$ mv ./l4t_sign_image.sh ./l4t_sign_image.sh.backup</div><div id="wwpID0E0GG0HA" class="Code">$ cp ${ToT_BSP}/l4t_sign_image.sh ./</div><div id="wwpID0E0FG0HA" class="Code">$ mv ./l4t_generate_soc_bup.sh ./l4t_generate_soc_bup.sh.backup</div><div id="wwpID0E0EG0HA" class="Code">$ cp ${ToT_BSP}/l4t_generate_soc_bup.sh ./</div><div id="wwpID0E0DG0HA" class="Code">$ mv ./bootloader/tegraparser_v2 ./bootloader/tegraparser_v2.backup</div><div id="wwpID0E0CG0HA" class="Code">$ cp ${ToT_BSP}/bootloader/tegraparser_v2 ./bootloader/</div><div id="wwpID0E0BG0HA" class="Code">$ mv ./bootloader/tegraflash.py ./bootloader/tegraflash.py.backup</div><div id="wwpID0E0AG0HA" class="Code">$ cp ${ToT_BSP}/bootloader/tegraflash.py ./bootloader/</div><div id="wwpID0E06F0HA" class="Code">$ mv ./bootloader/tegrahost_v2 ./bootloader/tegrahost_v2.backup</div><div id="wwpID0E05F0HA" class="Code">$ cp ${ToT_BSP}/bootloader/tegrahost_v2 ./bootloader/</div><div id="wwpID0E04F0HA" class="Code">$ mv ./bootloader/tegrabct_v2 ./bootloader/tegrabct_v2.backup</div><div id="wwpID0E03F0HA" class="Code">$ cp ${ToT_BSP}/bootloader/tegrabct_v2 ./bootloader/</div><div id="wwpID0E02F0HA" class="Code">$ mv ./bootloader/tegraflash_internal.py ./bootloader/tegraflash_internal.py.backup</div><div id="wwpID0E01F0HA" class="Code">$ cp ${ToT_BSP}/bootloader/tegraflash_internal.py ./bootloader/</div><div id="wwpID0E0ZF0HA" class="Code">$ cp ${ToT_BSP}/bootloader/tegrasign_v3_util.py ./bootloader/</div><div id="wwpID0E0YF0HA" class="Code">$ cp ${ToT_BSP}/bootloader/tegrasign_v3_internal.py ./bootloader/</div><div id="wwpID0E0XF0HA" class="Code">$ cp ${ToT_BSP}/bootloader/tegrasign_v3.py ./bootloader/</div><div id="wwpID0E0WF0HA" class="Code">$ cp ${ToT_BSP}/bootloader/tegraopenssl ./bootloader/</div><div id="wwpID0E0VF0HA" class="Code">$ sudo mv ./rootfs/opt/nvidia/l4t-bootloader-config/nv-l4t-bootloader-config.sh ./rootfs/opt/nvidia/l4t-bootloader-config/nv-l4t-bootloader-config.sh.backup</div><div id="wwpID0E0UF0HA" class="Code">$ sudo cp ${ToT_BSP}/rootfs/opt/nvidia/l4t-bootloader-config/nv-l4t-bootloader-config.sh ./rootfs/opt/nvidia/l4t-bootloader-config/nv-l4t-bootloader-config.sh</div><div id="wwpID0E0TF0HA" class="Code">$ sudo mv ./rootfs/usr/sbin/nvbootctrl ./rootfs/usr/sbin/nvbootctrl.backup</div><div id="wwpID0E0SF0HA" class="Code">$ sudo cp ${ToT_BSP}/rootfs/usr/sbin/nvbootctrl ./rootfs/usr/sbin/nvbootctrl</div><div id="wwpID0E0RF0HA" class="Code">$ sudo mv ./rootfs/usr/sbin/nv_bootloader_payload_updater ./rootfs/usr/sbin/nv_bootloader_payload_updater.backup</div><div id="wwpID0E0QF0HA" class="Code">$ sudo cp ${ToT_BSP}/rootfs/usr/sbin/nv_bootloader_payload_updater ./rootfs/usr/sbin/nv_bootloader_payload_updater</div><div id="wwpID0E0PF0HA" class="Code">$ sudo mv ./rootfs/usr/sbin/nv_update_engine ./rootfs/usr/sbin/nv_update_engine.backup</div><div id="wwpID0E0OF0HA" class="Code">$ sudo cp ${ToT_BSP}/rootfs/usr/sbin/nv_update_engine ./rootfs/usr/sbin/nv_update_engine</div><div id="wwpID0E0NF0HA" class="Code">$ echo "SMDFILE=\"slot_metadata.bin\";" &gt;&gt;p2771-0000.conf.common</div><div id="wwpID0E0MF0HA" class="Code">$ echo "SMDFILE=\"slot_metadata.bin\";" &gt;&gt;p2972-0000.conf.common</div><div id="wwpID0E0LF0HA" class="Code">$ echo "SMDFILE=\"slot_metadata.bin\";" &gt;&gt;p3668.conf.common</div><div id="wwpID0E0KF0HA" class="List_Number"><span class="WebWorks_Number" style="width: 18pt"><span>12.	</span></span>Generate the base recovery image and recovery DTB. Enter these commands:</div><div id="wwpID0E0JF0HA" class="Code">$ cd ${TARGET_BSP}/</div><div id="wwpID0E0IF0HA" class="Code">$ sudo ./tools/ota_tools/version_upgrade/build_base_recovery_image.sh  [-u &lt;PKC key file&gt;] [-v &lt;SBK key file&gt;]  &lt;target_board&gt; &lt;bsp_version&gt; ${BASE_BSP} ${BASE_BSP}/rootfs ${TARGET_BSP}</div><div id="wwpID0E0HF0HA" class="List_Continue">Where:</div><div id="wwpID0E0GF0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">&lt;target_board&gt;</span> is the appropriate configuration name:</div><div id="wwpID0E0FF0HA" class="List_Bullet_3"><span class="WebWorks_Number" style="width: 18pt"><span style="font-family: &quot;Palatino Linotype&quot;">•	</span></span>For Jetson Xavier NX P3668-0000: <span class="Code_Char">jetson-xavier-nx-devkit</span></div><div id="wwpID0E0EF0HA" class="List_Bullet_3"><span class="WebWorks_Number" style="width: 18pt"><span style="font-family: &quot;Palatino Linotype&quot;">•	</span></span>For Jetson Xavier NX P3668-0001: <span class="Code_Char">jetson-xavier-nx-devkit-emmc</span></div><div id="wwpID0E0DF0HA" class="List_Bullet_3"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>For Jetson TX2 NX: <span class="Code_Char">jetson-xavier-nx-devkit-tx2-nx</span></div><div id="wwpID0E0CF0HA" class="List_Bullet_3"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>For Jetson AGX Xavier P2888-0001 (16&nbsp;GB) or P2888-0004 (32&nbsp;GB): <span class="Code_Char">jetson-agx-xavier-devkit</span></div><div id="wwpID0E0BF0HA" class="List_Bullet_3"><span class="WebWorks_Number" style="width: 18pt"><span style="font-family: &quot;Palatino Linotype&quot;">•	</span></span>For Jetson TX2 P3310-1000: <span class="Code_Char">jetson-tx2-devkit</span></div><div id="wwpID0E0AF0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">&lt;bsp_version&gt;</span> is the base BSP version, in the form <span class="Code_Char">R</span><span class="Emphasis">mm</span><span class="Code_Char">-</span><span class="Emphasis">n</span>, where <span class="Emphasis">mm</span> and <span class="Emphasis">n</span> are respectively the major and minor version numbers. The base BSP version may be any minor version from release 28.2 forward. For example, <span class="Code_Char">R32-3</span> specifies base BSP release 32.3.  </div><div id="wwpID0E06E0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">&lt;PKC key file&gt;</span> is an optional PKC key file. It must be the same as the one used in flashing images to the target board.</div><div id="wwpID0E05E0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">&lt;SBK key file&gt;</span> is an optional SBK key file. It must be the same as the one used in flashing images to the target board.</div><div id="wwpID0E04E0HA" class="List_Continue">After this command is completed successfully, the script generates the recovery image and recovery DTB and stores them under <span class="Code_Char">${TARGET_BSP}/bootloader/</span>. The recovery image and recovery DTB are used to boot the target device into the recovery kernel.</div><div id="wwpID0E03E0HA" class="List_Continue">For example, the following command generates a recovery image and recovery DTB for release 32.1 on a Jetson TX2 carrier board without using a PKC key and SBK key. It generates the recovery image <span class="Code_Char">recovery.img.R32_1_2</span> and the recovery DTB <span class="Code_Char">recovery.dtb.R32_1_2</span> under <span class="Code_Char">${TARGET_BSP}/bootloader/</span>.</div><div id="wwpID0E02E0HA" class="Code">$ sudo ./tools/ota_tools/version_upgrade/build_base_recovery_image.sh  jetson-tx2 R32-1 ${BASE_BSP}/ ${BASE_BSP}/rootfs ${TARGET_BSP}</div><div id="wwpID0E01E0HA" class="List_Number"><span class="WebWorks_Number" style="width: 18pt"><span>13.	</span></span>Generate the OTA update payload package. Enter these commands:</div><div id="wwpID0E0ZE0HA" class="Code">$ cd ${TARGET_BSP}</div><div id="wwpID0E0YE0HA" class="Code">$ sudo ./tools/ota_tools/version_upgrade/l4t_generate_ota_package.sh [-s] [‑b] [‑r] [-u &lt;PKC_key_file&gt;] [-v &lt;SBK_key_file&gt;]  [-o &lt;rootfs_updater&gt;] [-f &lt;rootfs_image&gt;] &lt;target_board&gt; &lt;bsp_version&gt;</div><div id="wwpID0E0XE0HA" class="List_Continue">Where:</div><div id="wwpID0E0WE0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">‑s</span>, <span class="Code_Char">‑b</span>, and <span class="Code_Char">‑r </span>may be used separately, as shown, or may be combined in a single “word,” e.g. <span class="Code_Char">‑sb</span> or <span class="Code_Char">‑sr</span>.</div><div id="wwpID0E0VE0HA" class="List_Bullet_3"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">‑s</span>: Skip generating the rootfs image. Use this option if a rootfs image has been generated or specified with the <span class="Code_Char">-f</span> option.</div><div id="wwpID0E0UE0HA" class="List_Bullet_3"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">-b</span>: Generate an OTA payload package for updating Bootloader only. This option is meaningful only for an update without layout change.</div><div id="wwpID0E0TE0HA" class="List_Bullet_3"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">-r</span>: Generate an OTA payload package for updating rootfs only. This option is valid only for an update without layout change.</div><div id="wwpID0E0SE0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">&lt;PKC_key_file&gt;</span> is an optional PKC key file. It must be the same as the one used in flashing images to the target board.</div><div id="wwpID0E0RE0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">&lt;SBK_key_file&gt;</span> is an optional SBK key file. It must be the same as the one used in flashing images to the target board.</div><div id="wwpID0E0QE0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">&lt;rootfs_updater&gt;</span> specifies the script to be used to update the <span class="Code_Char">rootfs</span> partition. (For more information, see <span class="Hyperlink"><a href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/updating_jetson_and_host.html#wwpID0E0JB0HA" title="Over-the-Air Update">Updating the Rootfs Partition with a Customized Updater and Image</a></span>.</div><div id="wwpID0E0PE0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">&lt;rootfs_image&gt;</span> is the path of the rootfs image to be written to the <span class="Code_Char">rootfs</span> partition.</div><div id="wwpID0E0OE0HA" class="List_Continue_2">The default rootfs is built from <span class="Code_Char">${TARGET_BSP)/rootfs</span>. This option lets you overwrite the default rootfs image with a self-generated rootfs image, for example, an image cloned from a Jetson device that has been fully customized with a top-of-tree release of Jetson Linux.</div><div id="wwpID0E0NE0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">&lt;target_board&gt;</span> is the configuration name specified for <span class="Code_Char">build-base-recovery-image.sh</span> in step <a href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/updating_jetson_and_host.html#wwpID0E0KF0HA" title="Over-the-Air Update">12</a>.</div><div id="wwpID0E0ME0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">&lt;bsp_version&gt;</span> is the base BSP version specified for <span class="Code_Char">build-base-recovery-image.sh</span> in step <a href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/updating_jetson_and_host.html#wwpID0E0KF0HA" title="Over-the-Air Update">12</a>.</div><div id="wwpID0E0LE0HA" class="List_Continue">The script generates the file <span class="Code_Char">ota_payload_package.tar.gz</span> under <span class="Code_Char">${TARGET_BSP}/bootloader/&lt;target_board&gt;</span>.</div><div id="wwpID0E0KE0HA" class="List_Continue">The <span class="Code_Char">ota_payload_package.tar.gz</span> archive that the script generates from the default rootfs occupies about 2&nbsp;GB. A self-generated rootfs may yield a larger or smaller archive Decompressing the archive on the Jetson device to apply the image-based OTA requires at least 6&nbsp;GB of free space.</div><div class="ww_skin_page_overflow"><table class="Table_Normal" style="margin-left: 49.5pt" cellspacing="0" summary=""><tr><td style="background-color: #76B900; background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top; width: 49.5pt"><div id="wwpID0EABA0JE0HA" class="Note_Image"> Note:</div></td><td style="background-color: #DDEEBF; background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top; width: 319.5pt"><div id="wwpID0ECAA0JE0HA" class="Note_Text">Steps&nbsp;<a href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/updating_jetson_and_host.html#wwpID0E0KF0HA" title="Over-the-Air Update">12</a> and&nbsp;<a href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/updating_jetson_and_host.html#wwpID0E01E0HA" title="Over-the-Air Update">13</a> use the Jetson Linux sample rootfs from <span class="Code_Char">Linux_for_Tegra/rootfs/</span> to build the recovery kernel and recovery DTB and OTA package.</div><div id="wwpID0EBAA0JE0HA" class="Note_Text">If you have customized the sample rootfs, for example, you must add required libraries and binaries into the rootfs, apply them before running this script.</div><div id="wwpID0EAAA0JE0HA" class="Note_Text">You must put the OTA tool package and OTA payload package on to your own OTA server to implement a complete OTA solution.</div></td></tr></table></div><div id="wwpID0E0IE0HA" class="Heading_5">Steps Performed on the Jetson Device</div><div id="wwpID0E0HE0HA" class="List_Number" style="text-indent: -18pt"><span class="WebWorks_Number" style="width: 18pt"><span>1.	</span></span>Review <span class="Code_Char">/boot/extlinux/extlinux.conf</span>.</div><div id="wwpID0E0GE0HA" class="List_Continue">If the <span class="Code_Char">INITRD</span> entry is not set, add the line under the <span class="Code_Char">LINUX /boot/Image</span> line:</div><div id="wwpID0E0FE0HA" class="Code"><span class="Code_Char">INITRD /boot/initrd</span></div><div id="wwpID0E0EE0HA" class="List_Continue">If the root device is not set, add it into the <span class="Code_Char">APPEND</span> line, for example:</div><div id="wwpID0E0DE0HA" class="Code">root=/dev/mmcblk0p1 rw rootwait rootfstype=ext4.</div><div id="wwpID0E0CE0HA" class="List_Number" style="text-indent: -18pt"><span class="WebWorks_Number" style="width: 18pt"><span>2.	</span></span>Download the OTA update tool package <span class="Code_Char">ota_tools_&lt;rel&gt;_aarch64.tbz2</span> and the OTA update payload package <span class="Code_Char">ota_payload_package.tar.gz</span> to the target board.</div><div id="wwpID0E0BE0HA" class="List_Number"><span class="WebWorks_Number" style="width: 18pt"><span>3.	</span></span>Create a directory to hold files generated in the OTA update process. Set the environment variable <span class="Code_Char">WORKDIR</span> to this directory’s full pathname.</div><div id="wwpID0E0AE0HA" class="List_Number"><span class="WebWorks_Number" style="width: 18pt"><span>4.	</span></span>Unpack <span class="Code_Char">ota_tools_&lt;rel&gt;_aarch64.tbz2</span> into the <span class="Code_Char">${WORKDIR}</span> directory.</div><div id="wwpID0E06D0HA" class="List_Number"><span class="WebWorks_Number" style="width: 18pt"><span>5.	</span></span>Create a directory <span class="Code_Char">/ota/</span> and put the OTA update payload package <span class="Code_Char">ota_payload_package.tar.gz</span> in it.</div><div id="wwpID0E05D0HA" class="List_Number"><span class="WebWorks_Number" style="width: 18pt"><span>6.	</span></span>Unpack the OTA payload package and prepare to start OTA:</div><div id="wwpID0E04D0HA" class="Code">$ cd ${WORKDIR}/Linux_for_Tegra/tools/ota_tools/version_upgrade</div><div id="wwpID0E03D0HA" class="Code">$ sudo ./nv_ota_start.sh /dev/mmcblk0 /ota/ota_payload_package.tar.gz</div><div id="wwpID0E02D0HA" class="List_Continue"><span class="Code_Char">/ota/ota_payload_package.tar.gz</span> is the OTA payload package.</div><div id="wwpID0E01D0HA" class="List_Number"><span class="WebWorks_Number" style="width: 18pt"><span>7.	</span></span>If no error occurs in the last step, reboot the target board.</div><div id="wwpID0E0ZD0HA" class="List_Continue">If rootfs A/B is enabled on the target, Bootloader partitions and rootfs partitions on the inactive slot are updated in step&nbsp;<a href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/updating_jetson_and_host.html#wwpID0E05D0HA" title="Over-the-Air Update">6</a>. The target board then reboots to the slot just updated.</div><div id="wwpID0E0YD0HA" class="List_Continue">If rootfs A/B is disabled on the target it boots to the recovery kernel, which runs the OTA update process after executing this step. If the update fails due to power loss, the target device can reboot into the recovery kernel and continue the update. The maximum number of times the target device reboots and continues the update is determined by the script variable <span class="Code_Char">OTA_MAX_RETRY_COUNT</span>, which defaults to 0 (zero). If the update fails more than that number of times the target device boots to the recovery kernel and enters the bash shell. You can change the value of <span class="Code_Char">OTA_MAX_RETRY_COUNT</span> in <span class="Code_Char">${TARGET_BSP}/‌tools/‌ota_tools/‌version_upgrade/‌nv_recovery.sh</span>.</div><div id="wwpID0E0XD0HA" class="List_Continue">The update process stores logs in <span class="Code_Char">/ota_logs/</span> on the target device if it fails. These logs record the details of the OTA update process. At the end of a successful OTA update, the log files in this directory are deleted.</div><div class="ww_skin_page_overflow"><table class="Table_Normal" style="margin-left: 49.5pt" cellspacing="0" summary=""><tr><td style="background-color: #76B900; background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top; width: 49.5pt"><div id="wwpID0EABA0WD0HA" class="Note_Image">Note:</div></td><td style="background-color: #DDEEBF; background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top; width: 319.5pt"><div id="wwpID0EAAA0WD0HA" class="Note_Text">To create a complete, secure OTA update solution, you must implement an OTA client that executes this procedure on the target device, and you must apply security mechanisms according to your security policy requirements.</div></td></tr></table></div><H3 id="wwpID0E0VD0HA" class="Heading_3">nv_ota_start.sh, a Utility for Triggering OTA</H3><div id="wwpID0E0UD0HA" class="Body_Text">Image-based OTA supports updates between versions, either with or without partition layout changes. It supports updates whether rootfs A/B is enabled or disabled<span style="background-color: #FFFFFF; color: #000000; font-family: Verdana">. </span>You do not need to be aware of the difference because the same utility, <span class="Code_Char">nv_ota_start.sh</span>, handles both cases.</div><div id="wwpID0E0TD0HA" class="Body_Text"><span class="Code_Char">nv_ota_start.sh</span> is included in <span class="Code_Char">ota_tools_&lt;rel&gt;_aarch64.tbz2</span>. It determines whether layout changes are needed, and executes another script to perform the appropriate type of update.</div><div id="wwpID0E0SD0HA" class="Body_Text">To perform an update without layout changes, the script executes <span class="Code_Char">nv_ota_‌update_without_‌layout_change.sh</span>.</div><div id="wwpID0E0RD0HA" class="Body_Text">To perform an update with layout changes, the script executes <span class="Code_Char">nv_ota_‌update_with_‌layout_change.sh</span>. The section <span class="Hyperlink"><a href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/updating_jetson_and_host.html#wwpID0E0JD0HA" title="Over-the-Air Update">Update with Partition Layout Changes</a></span>, <a href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/updating_jetson_and_host.html#wwpID0E0JD0HA" title="Over-the-Air Update">below</a>, describes the process of updating a version with partition layout changes.</div><H3 id="wwpID0E0QD0HA" class="Heading_3">Update with Rootfs Redundancy Enabled</H3><div id="wwpID0E0PD0HA" class="Body_Text">You can use image-based OTA on a device with rootfs redundancy enabled. OTA update is triggered after the <span class="Code_Char">nv_ota_start.sh</span> utility is run. The whole procedure is executed in a fully booted system and the device is never rebooted to the recovery kernel. The update procedure employs two additional utilities <span class="Code_Char">nv_update_engine</span> and <span class="Code_Char">nv_bootloader_payload_updater</span>.</div><div id="wwpID0E0OD0HA" class="Body_Text">The OTA update process is the same whether or not the “Unified bootloader A/B and rootfs A/B” option is enabled:</div><div id="wwpID0E0ND0HA" class="List_Number" style="text-indent: -18pt"><span class="WebWorks_Number" style="width: 18pt"><span>1.	</span></span>Update the Bootloader partitions on the inactive slot by running <span class="Code_Char">nv_update_engine</span> with the pre-generated BUP image <span class="Code_Char">bl_only_payload</span>.</div><div id="wwpID0E0MD0HA" class="List_Number"><span class="WebWorks_Number" style="width: 18pt"><span>2.	</span></span>Update the <span class="Code_Char">kernel</span> and <span class="Code_Char">kernel-dtb</span> partitions on the inactive slot by running <span class="Code_Char">nv_bootloader_payload_updater</span> with the pre-generated BUP image <span class="Code_Char">kernel_only_payload</span>.</div><div id="wwpID0E0LD0HA" class="List_Number"><span class="WebWorks_Number" style="width: 18pt"><span>3.	</span></span>Update the rootfs partition on the inactive slot by running <span class="Code_Char">nv_update_engine</span> with the pre-generated rootfs image and corresponding rootfs updater.</div><div id="wwpID0E0KD0HA" class="Body_Text">Once the OTA update is successfully completed, the device is rebooted to the updated slot. If the device fails to boot to the updated slot after several retries, it switches back to the previous, known good slot. For more information about slots switching with rootfs redundancy enabled, see <span class="Hyperlink"><a href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/rootfs_custom.html#wwpID0E06E0HA" title="Setting Up Your File System">Root Filesystems Redundancy</a></span> in the topic <span class="Hyperlink"><a href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/rootfs_custom.html#" title="Setting Up Your File System">Setting Up Your File System</a></span>.</div><H3 id="wwpID0E0JD0HA" class="Heading_3">Update with Partition Layout Changes</H3><div id="wwpID0E0ID0HA" class="Body_Text">An update with partition layout changes is a challenging process for an image-based OTA update. If you perform the partition changes directly, an unexpected reboot during the update may fail and leave the Jetson device in an unbootable state.</div><div id="wwpID0E0HD0HA" class="Body_Text">BSP supports <span class="Strong">A/B update</span>, which maintains two sets of partitions for booting and running the operating system, designated “slot A” and “slot B.” It uses only one slot at a time, and applies updates to the partitions on the inactive slot, then swaps the roles of the slots. For example, when slot A is active, BSP boots and runs the operating system from the partitions in slot A, and applies updates to those in slot B. This ensures that an update failure cannot render the device unbootable.</div><div id="wwpID0E0GD0HA" class="Body_Text">For more information about the A/B update process, see <span class="Hyperlink"><a href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/bootloader_update_agx_tx2.html#" title="Jetson Xavier NX / AGX Xavier / TX2 Update and Redundancy">Jetson Xavier NX&nbsp;/ AGX Xavier&nbsp;/ TX2 Update and Redundancy</a></span> in the topic <span class="Hyperlink"><a href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/bootloader_setup.html#" title="Bootloader">Bootloader</a></span>.</div><div id="wwpID0E0FD0HA" class="Body_Text">To implement fail-safe update, the image-based OTA update process creates some intermediate partition layouts, which it uses to create alternative bootable paths in case there is an unexpected reboot during update. A bootable path is composed of many partitions located on the free space of the storage device. The images stored in these partitions are called the Minimal Set of Images (MSI).</div><div id="wwpID0E0ED0HA" class="Body_Text">For example, an OTA update from release 28.3 to release 32.6 on Jetson TX2 uses two intermediate partition layouts:</div><div id="wwpID0E0DD0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">flash_l4t_t186_R28-3_R32i_emmc.xml</span> is based on the default partition layout in release 28.3. It is used by <span class="Code_Char">jetson-tx2-R28_3-R32i-emmc.conf</span>.</div><div id="wwpID0E0CD0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">flash_l4t_t186_R32A_R32i_emmc.xml</span> is based on the default partition layout in R32.6. It is used by <span class="Code_Char">jetson-tx2-R32A-R32i-emmc.conf</span>.</div><div id="wwpID0E0BD0HA" class="Body_Text"><span class="Code_Char">l4t_generate_ota_package.sh</span> uses these intermediate partition layouts and their corresponding <span class="Code_Char">.conf</span> files to generate the OTA payload package. By default, these layouts are created based on the default partition layout from the released BSP. If any customization is done on the default partition layout, you must apply the customization to the intermediate partition layouts. During OTA, the update script verifies these layouts with layouts on the actual board. If the layouts do not match, OTA update does not proceed.</div><H3 id="wwpID0E0AD0HA" class="Heading_3">Back Up and Restore Files on the APP Partition</H3><div id="wwpID0E06C0HA" class="Body_Text">The script <span class="Code_Char">nv_ota_preserve_data.sh</span> in <span class="Code_Char">ota_tools_&lt;rel&gt;_aarch64.tbz2</span> backs up and restores files on the APP partition during OTA update. It is located at <span class="Code_Char">Linux_for_Tegra/tools/ota_tools/version_upgrade/</span>.</div><div id="wwpID0E05C0HA" class="Body_Text">Edit the configuration file <span class="Code_Char">ota_backup_files_list.txt</span> to add the pathnames of files that are to be preserved after OTA update. The distributed version of <span class="Code_Char">ota_backup_files_list.txt</span> contains this:</div><div id="wwpID0E04C0HA" class="Code"># All the files or directories should be listed with absolute path</div><div id="wwpID0E03C0HA" class="Code"># Example:</div><div id="wwpID0E02C0HA" class="Code"># etc/passwd</div><div id="wwpID0E01C0HA" class="Code"># opt/nvidia</div><div id="wwpID0E0ZC0HA" class="Code">opt/nvidia</div><div id="wwpID0E0YC0HA" class="Body_Text">Pathnames are written in relative form, but are always interpreted relative to the filesystem root; you may think of them as absolute pathnames from which the leading slash is omitted.</div><div id="wwpID0E0XC0HA" class="Body_Text">You may add comment lines starting with a pound sign (‘<span class="Code_Char">#</span>’) in column 1.</div><div class="ww_skin_page_overflow"><table class="Table_Normal" style="margin-left: 49.5pt" cellspacing="0" summary=""><tr><td style="background-color: #76B900; background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top; width: 49.5pt"><div id="wwpID0EABA0WC0HA" class="Note_Image">Note:</div></td><td style="background-color: #DDEEBF; background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top; width: 319.5pt"><div id="wwpID0EAAA0WC0HA" class="Note_Text">The script <span class="Code_Char">nv_ota_preserve_data.sh</span> packs the listed files into a <span class="Code_Char">.tar.gz</span> archive. You can choose other ways of backing up and restoring these files according to your own requirements.</div></td></tr></table></div><H3 id="wwpID0E0VC0HA" class="Heading_3">Complete and Secure OTA</H3><div id="wwpID0E0UC0HA" class="Body_Text">NVIDIA provides the basic functionality of updating the system through the OTA update process. You must modify the process and create a complete and secure OTA solution. According to your needs, your modified process may have to meet one or more of these requirements:</div><div id="wwpID0E0TC0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Encrypting OTA update payloads</div><div id="wwpID0E0SC0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Hosting OTA update payloads on an OTA update server</div><div id="wwpID0E0RC0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Triggering an OTA update when an update is found on the OTA server (a function of the OTA update client on the target device)</div><div id="wwpID0E0QC0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Authenticating the OTA update server</div><div id="wwpID0E0PC0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Decrypting OTA update payloads</div><div id="wwpID0E0OC0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Determining when to apply OTA update payloads</div><H3 id="wwpID0E0NC0HA" class="Heading_3">Customization</H3><div id="wwpID0E0MC0HA" class="Body_Text">If you have customized the released BSP, for example by customizing the rootfs or changing the partition layout, you must modify some files in the distributed image-based OTA update process to apply the image-based OTA update solution. The following subsections discuss possible types of customization and the OTA update changes they require.</div><H4 id="wwpID0E0LC0HA" class="Heading_4">Rootfs Customization</H4><div id="wwpID0E0KC0HA" class="Body_Text">Rootfs customization comprises:</div><div id="wwpID0E0JC0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Adding or removing files in the rootfs</div><div id="wwpID0E0IC0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Modifying the files in rootfs</div><div id="wwpID0E0HC0HA" class="Body_Text">Such changes require:</div><div id="wwpID0E0GC0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Applying changes to the rootfs</div><H4 id="wwpID0E0FC0HA" class="Heading_4">Partition Layout Customization</H4><div id="wwpID0E0EC0HA" class="Body_Text">Partition layout customization comprises:</div><div id="wwpID0E0DC0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Adding or removing partitions</div><div id="wwpID0E0CC0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Changing size of partitions</div><div id="wwpID0E0BC0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Changing location of partitions</div><div id="wwpID0E0AC0HA" class="Body_Text">Such changes require:</div><div id="wwpID0E06B0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Modifying the provided intermediate partition layout to accommodate the base system. For example, for a Jetson TX2 board flashed with release 28.3, the partition layout file is <span class="Code_Char">flash_l4t_t186_R28-3_R32i_emmc.xml</span>.</div><div id="wwpID0E05B0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Modifying the provided intermediate partition layout based on <span class="Code_Char">${TARGET_BSP} </span>the current release system. For the board above, the partition layout file is <span class="Code_Char">flash_l4t_t186_R32A_R32i_emmc.xml</span>.</div><div id="wwpID0E04B0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Modifying the current release partition layout for <span class="Code_Char">${TARGET_BSP}</span>. For Jetson TX2 it is <span class="Code_Char">flash_l4t_t186.xml</span>.</div><div id="wwpID0E03B0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Modifying <span class="Code_Char">MSI_EMMC_OFFSET</span> in the <span class="Code_Char">*.conf</span> file if required. Make sure that the free space starting at <span class="Code_Char">MSI_EMMC_OFFSET</span> is large enough to store the MSI. For the example above, the corresponding configuration files are <span class="Code_Char">jetson-tx2-R28_3-R32i-emmc.conf</span> and <span class="Code_Char">jetson-tx2-R32A-R32i-emmc.conf</span>.</div><div class="ww_skin_page_overflow"><table class="Table_Normal" style="margin-left: 49.5pt" cellspacing="0" summary=""><tr><td style="background-color: #76B900; background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top; width: 49.5pt"><div id="wwpID0EABA02B0HA" class="Note_Image">Note:</div></td><td style="background-color: #DDEEBF; background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top; width: 319.5pt"><div id="wwpID0EAAA02B0HA" class="Note_Text">If you are updating release 32.3, 32.4, or 32.5 with partition layout customization to the current release, refer to<span class="Hyperlink"><a href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/updating_jetson_and_host.html#wwpID0EJHA" title="Over-the-Air Update">the section Examples </a></span><span class="Hyperlink"><a href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/updating_jetson_and_host.html#wwpID0EJHA" title="Over-the-Air Update">below</a></span>.</div></td></tr></table></div><H4 id="wwpID0E01B0HA" class="Heading_4">Update Process Customization</H4><div id="wwpID0E0ZB0HA" class="Body_Text">Update process customization comprises:</div><div id="wwpID0E0YB0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Changing the process of updating partitions</div><div id="wwpID0E0XB0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Updating a newly created partition in addition to default partitions</div><div id="wwpID0E0WB0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Updating only some of the default partitions</div><div id="wwpID0E0VB0HA" class="Body_Text">Such changes require:</div><div id="wwpID0E0UB0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Modifying the provided file <span class="Code_Char">upgradetasklist.txt.XXX</span>. For example, to update release 28.2, 28.3, or 28.4 to release 32.6, you must modify <span class="Code_Char">upgradetasklist.txt.‌jetson-tx2.‌R28_to_R32-ToT_emmc</span> to specify the partitions to be updated.</div><H4 id="wwpID0E0TB0HA" class="Heading_4">Recovery Image Customization</H4><div id="wwpID0E0SB0HA" class="Body_Text">Recovery image customization comprises:</div><div id="wwpID0E0RB0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Adding some files to the recovery initrd</div><div id="wwpID0E0QB0HA" class="Body_Text">Such changes require:</div><div id="wwpID0E0PB0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Editing the provided file <span class="Code_Char">recovery_copy_binlist.txt</span> to specify the filesystems and pathnames of any files you want to add to the recovery image. See that file for an explanation and examples of how to make the changes.</div><H4 id="wwpID0E0OB0HA" class="Heading_4">Recovery Task Customization</H4><div id="wwpID0E0NB0HA" class="Body_Text">Recovery task customization comprises:</div><div id="wwpID0E0MB0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Adding some other tasks when the recovery kernel is running</div><div id="wwpID0E0LB0HA" class="Body_Text">Such changes require:</div><div id="wwpID0E0KB0HA" class="ocd"><span class="WebWorks_Number" style="width: 18pt">•	</span>Modifying the provided script <span class="Code_Char">nv_recovery.sh</span>, for example, by adding code to decrypt the payload in <span class="Code_Char">nv_recovery.sh</span> if it is encrypted</div><H3 id="wwpID0E0JB0HA" class="Heading_3">Updating the Rootfs Partition with a Customized Updater and Image</H3><div id="wwpID0E0IB0HA" class="Body_Text">When you generate an OTA payload package (step <a href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/updating_jetson_and_host.html#wwpID0E01E0HA" title="Over-the-Air Update">13</a> in <span class="Hyperlink"><a href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/updating_jetson_and_host.html#wwpID0E0TH0HA" title="Over-the-Air Update">Steps Performed on the Host Machine</a></span>), you can specify the rootfs updater with the <span class="Code_Char">-o</span> option and specify the rootfs image with the <span class="Code_Char">-f</span> option.</div><div id="wwpID0E0HB0HA" class="Body_Text">The <span class="Strong">rootfs updater</span> is a script that writes the rootfs image to the rootfs partition. It is called with appropriate command line parameters and options by several Jetson Linux utilities and services, OTA update among them. NVIDIA provides a default rootfs updater named <span class="Code_Char">nv_ota_rootfs_updater.sh</span>; it is in the distribution archive <span class="Code_Char">ota_tools_&lt;rel&gt;_aarch64.tbz2</span>.</div><div id="wwpID0E0GB0HA" class="Body_Text">The default rootfs updater’s usage is:</div><div id="wwpID0E0FB0HA" class="Code">nv_ota_rootfs_updater.sh [-p &lt;devnode&gt;] [-d &lt;workdir&gt;] &lt;image&gt;</div><div id="wwpID0E0EB0HA" class="Body_Text">Where:</div><div id="wwpID0E0DB0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">&lt;devnode&gt;</span> is the device node path of the rootfs partition, for example, <span class="Code_Char">/dev/mmcblk0p1</span>.</div><div id="wwpID0E0CB0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">&lt;workdir&gt;</span> is the path of the OTA work directory, for example, <span class="Code_Char">/ota_work</span>.</div><div id="wwpID0E0BB0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">&lt;image&gt;</span> is the path of the rootfs image, for example, <span class="Code_Char">/ota_work/system.img</span>.</div><div id="wwpID0E0AB0HA" class="Body_Text">If you create a customized rootfs image, you must specify a rootfs updater that can process that image. The rootfs updater you specify must expect the same arguments and options as <span class="Code_Char">nv_ota_rootfs_updater.sh</span>. Your update may use these arguments and options or not, depending on your specific needs.</div><H3 id="wwpID0E6HA" class="Heading_3">Updating an Individual Partition</H3><div id="wwpID0E5HA" class="Body_Text">The current-release of BSP supports updating individual partitions (excluding the partitions <span class="Code_Char">BCT</span>, <span class="Code_Char">mb1</span>, and <span class="Code_Char">APP</span>).</div><div id="wwpID0E4HA" class="Body_Text">You perform an individual partition update in two steps:</div><div id="wwpID0E3HA" class="List_Number" style="text-indent: -18pt"><span class="WebWorks_Number" style="width: 18pt"><span>1.	</span></span>Prepare a Bootloader update payload (BUP) on the host system.</div><div id="wwpID0E2HA" class="List_Number" style="text-indent: -18pt"><span class="WebWorks_Number" style="width: 18pt"><span>2.	</span></span>Trigger an update on the target device.</div><div id="wwpID0E1HA" class="Heading_5">To prepare the Bootloader update payload</div><div id="wwpID0EZHA" class="List_Number" style="text-indent: -18pt"><span class="WebWorks_Number" style="width: 18pt"><span>1.	</span></span>Enter these commands on the host system:</div><div id="wwpID0EYHA" class="Code">$ cd ${Tot_BSP}/Linux_for_Tegra</div><div id="wwpID0EXHA" class="Code">$ sudo ./l4t_generate_soc_bup.sh &lt;processor&gt;</div><div id="wwpID0EWHA" class="List_Continue">Where <span class="Code_Char">&lt;processor&gt;</span> is:</div><div id="wwpID0EVHA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>For Jetson TX2, <span class="Code_Char">t18x</span></div><div id="wwpID0EUHA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>For Jetson AGX Xavier , <span class="Code_Char">t19x</span></div><div id="wwpID0ETHA" class="List_Continue">The script generates a BUP named <span class="Code_Char">bl_update_payload</span> in the directory at <span class="Code_Char">Linux_for_Tegra/payloads_&lt;processor&gt;/bl_update_payload/</span>.</div><div id="wwpID0ESHA" class="List_Number"><span class="WebWorks_Number" style="width: 18pt"><span>2.	</span></span>Copy the BUP to any convenient location on the target device whose partitions are to be updated.</div><div id="wwpID0ERHA" class="Heading_5">To trigger the update process</div><div id="wwpID0EQHA" class="List_Number" style="text-indent: -18pt"><span class="WebWorks_Number" style="width: 18pt"><span>1.	</span></span>Move the BUP <span class="Code_Char">bl_update_payload</span> to the directory <span class="Code_Char">/opt/ota_package/</span>.</div><div id="wwpID0EPHA" class="List_Number"><span class="WebWorks_Number" style="width: 18pt"><span>2.	</span></span>Create a file named <span class="Code_Char">update_list.conf</span> and edit it to add the names and slots of the partition(s) to be updated.</div><div id="wwpID0EOHA" class="List_Continue">For example, you could update the partitions <span class="Code_Char">cpu-bootloader</span> and <span class="Code_Char">bootloader-dtb</span> in their non-current slots by adding these lines:</div><div id="wwpID0ENHA" class="Code">cpu-bootloader non-current</div><div id="wwpID0EMHA" class="Code">bootloader-dtb non-current</div><div id="wwpID0ELHA" class="List_Number"><span class="WebWorks_Number" style="width: 18pt"><span>3.	</span></span>To trigger the update, run the script <span class="Code_Char">nv_part_update</span> with the name of the file <span class="Code_Char">update_list.conf</span> as an input parameter:</div><div id="wwpID0EKHA" class="Code">$ sudo nv_part_update update_list.conf</div><H3 id="wwpID0EJHA" class="Heading_3">Examples</H3><div id="wwpID0EIHA" class="Body_Text">NVIDIA provides several examples of how to apply image-based OTA update for some specific use cases:</div><div id="wwpID0EHHA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Modifying the intermediate partition layout</div><div id="wwpID0EGHA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Upgrading release 32.3, 32.4, or 32.5 to the current release with partition layout customization</div><div id="wwpID0EFHA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">ota-demo-host.sh</span> and <span class="Code_Char">ota-demo-target.sh</span> sample scripts</div><div id="wwpID0EEHA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Update on customized devices</div><div id="wwpID0EDHA" class="Body_Text">For more details about these examples, see the file:</div><div id="wwpID0ECHA" class="Code">Linux_for_Tegra/‌tools/‌ota_tools/‌version_upgrade/‌Image_based_OTA_Examples.txt</div><div id="wwpID0EBHA" class="Body_Text">This file is included in the OTA tool package <span class="Code_Char">ota_tools_&lt;rel&gt;_aarch64.tbz2</span>.</div></div><div id="page_dates"></div><!-- Related Topics --><!--                --><footer><!-- Disqus --><!--        --><!-- Google Translation --><!--                    --><br /></footer></div></div><input type="hidden" id="preserve_unknown_file_links" value="false"></input><noscript><div id="noscript_warning">This site works best with JavaScript enabled</div></noscript><script type="text/javascript" src="scripts/common.js"></script><script type="text/javascript" src="scripts/page.js"></script><script type="text/javascript" src="scripts/search-client.js"></script><script type="text/javascript" src="scripts/unidata.js"></script><script type="text/javascript" src="scripts/unibreak.js"></script></body></html>