<!DOCTYPE html ><html xml:lang="en" lang="en" data-highlight-require-whitespace="false" xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html;charset=utf-8" /><meta http-equiv="Content-Style-Type" content="text/css" /><meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta http-equiv="X-UA-Compatible" content="IE=edge" /><!-- NVIDIA customization --><title>NVIDIA Jetson Linux Driver Package Software Features : Camera Development | NVIDIA Docs </title><link rel="Prev" href="camera_dev.html" title="Previous" /><link rel="Next" href="camera_sensor_prog.47.1.html" title="Next" /><link rel="StyleSheet" href="../css/font-awesome/css/font-awesome.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/jetson_xavier_camera_soft_archi.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/skin.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/social.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/print.css" type="text/css" media="print" /><noscript><div id="noscript_padding"></div></noscript></head><body id="pVnWbNqQMCLVlRfLTQxwVSA" class="ww_skin_page_body" style="visibility: hidden;"><input type="hidden" id="page_onload_url" value="../index.html#page/Tegra%20Linux%20Driver%20Package%20Development%20Guide/jetson_xavier_camera_soft_archi.html"></input><span id="dropdown_ids" style="display:none;"></span><div id="ww_content_container"><header id="wwconnect_header"><div class="ww_skin_page_toolbar"><div id="dropdown_button_container" class="dropdown_container dropdown_button_container_disabled"><a id="show_hide_all" class="ww_skin ww_behavior_dropdown_toggle ww_skin_dropdown_toggle" title="Page DropDown Toggle" href="#"><i class="fa"></i></a><span class="ww_skin_page_toolbar_divider">&nbsp;</span></div><a class="ww_behavior_print ww_skin ww_skin_print" title="Print" href="#"><i class="fa"></i></a></div><!-- was this helpful button --><!--                         --></header><div id="page_content_container" style="background-attachment: scroll; background-image: url(&quot;watermark.png&quot;); background-position: center center; background-repeat: no-repeat; margin-left: 0pt; margin-right: 10pt; padding-bottom: 0px; padding-left: 0px; padding-right: 0px; padding-top: 0px"><div id="page_content"><H1 id="wwpID0E0OC0HA" class="Heading_2_Top">Camera Software Development Solution</H1><div class="WebWorks_MiniTOC"><div class="WebWorks_MiniTOC_Heading">&nbsp;</div><dl class="WebWorks_MiniTOC_List"><dd><div class="WebWorks_MiniTOC_Entry"><a class="WebWorks_MiniTOC_Link" href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/jetson_xavier_camera_soft_archi.html#wwpID0E0LC0HA">Camera Architecture Stack</a></div></dd><dd><div class="WebWorks_MiniTOC_Entry"><a class="WebWorks_MiniTOC_Link" href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/jetson_xavier_camera_soft_archi.html#wwpID0E04B0HA">Camera API Matrix</a></div></dd><dd><div class="WebWorks_MiniTOC_Entry"><a class="WebWorks_MiniTOC_Link" href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/jetson_xavier_camera_soft_archi.html#wwpID0E0YB0HA">Approaches for Validating and Testing the V4L2 Driver</a></div></dd><dl class="WebWorks_MiniTOC_List"><dd><div class="WebWorks_MiniTOC_Entry"><a class="WebWorks_MiniTOC_Link" href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/jetson_xavier_camera_soft_archi.html#wwpID0E0UB0HA">Applications Using libargus Low-Level APIs</a></div></dd><dd><div class="WebWorks_MiniTOC_Entry"><a class="WebWorks_MiniTOC_Link" href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/jetson_xavier_camera_soft_archi.html#wwpID0E0OB0HA">Applications Using GStreamer with the nvarguscamerasrc Plugin</a></div></dd><dd><div class="WebWorks_MiniTOC_Entry"><a class="WebWorks_MiniTOC_Link" href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/jetson_xavier_camera_soft_archi.html#wwpID0E0EB0HA">Applications Using GStreamer with V4L2 Source Plugin</a></div></dd><dd><div class="WebWorks_MiniTOC_Entry"><a class="WebWorks_MiniTOC_Link" href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/jetson_xavier_camera_soft_archi.html#wwpID0EWHA">Applications Using V4L2 IOCTL Directly</a></div></dd></dl><dd><div class="WebWorks_MiniTOC_Entry"><a class="WebWorks_MiniTOC_Link" href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/jetson_xavier_camera_soft_archi.html#wwpID0ESHA">ISP Support</a></div></dd><dd><div class="WebWorks_MiniTOC_Entry"><a class="WebWorks_MiniTOC_Link" href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/jetson_xavier_camera_soft_archi.html#wwpID0EOHA">Infinite Timeout Support</a></div></dd><dd><div class="WebWorks_MiniTOC_Entry"><a class="WebWorks_MiniTOC_Link" href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/jetson_xavier_camera_soft_archi.html#wwpID0EHHA">Symlinks Changed by Mesa Installation</a></div></dd><dd><div class="WebWorks_MiniTOC_Entry"><a class="WebWorks_MiniTOC_Link" href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/jetson_xavier_camera_soft_archi.html#wwpID0EEHA">Other References</a></div></dd></dl></div><div id="wwpID0E0NC0HA" class="Body_Text_Indent"><span class="Strong">Applies to</span>: Jetson AGX Xavier series</div><div id="wwpID0E0MC0HA" class="Body_Text">This document describes the NVIDIA<span style="vertical-align: super">®</span> Jetson AGX Xavier™ series camera software solution and explains the NVIDIA supported and recommended camera software architecture for fast and optimal time to market. Development options are outlined and explained to customize the camera solution for USB, YUV, and Bayer camera support.</div><H3 id="wwpID0E0LC0HA" class="Heading_3">Camera Architecture Stack</H3><div id="wwpID0E0KC0HA" class="Body_Text">The NVIDIA camera software architecture includes NVIDIA components that allow for ease of development and customization:</div><div class="ww_skin_page_overflow"><div id="wwpID0E0JC0HA" class="Body_Text"><img class="Default" src="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/images/image4_9.png" style="display: inline; left: 0pt; top: 0pt" alt="A screenshot of a cell phone Description generated with high confidence" title="A screenshot of a cell phone Description generated with high confidence" /></div></div><div id="wwpID0E0IC0HA" class="Body_Text">The camera architecture includes the following NVIDIA components:</div><div id="wwpID0E0HC0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>libargus—Provides a low-level API based on the camera core stack.</div><div id="wwpID0E0GC0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>nvarguscamerasrc—NVIDIA camera GStreamer plugin that provides options to control ISP properties using the ARGUS API.</div><div id="wwpID0E0FC0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>v4l2src—A standard Linux V4L2 application that uses direct kernel IOCTL calls to access V4L2 functionality.</div><div id="wwpID0E0EC0HA" class="Body_Text">NVIDIA provides OV5693 Bayer sensor as a sample. NVIDIA tunes this sensor for the NVIDIA<span style="vertical-align: super">®</span> Jetson™ platform. The drive code, based on the media controller framework, is available at:</div><div id="wwpID0E0DC0HA" class="Code">./kernel/nvidia/drivers/media/i2c/ov5693.c</div><div id="wwpID0E0CC0HA" class="Body_Text">NVIDIA provides additional sensor support for Jetson Board Support Package (BSP) software releases. Developers must work with NVIDIA certified camera partners for any Bayer sensor and tuning support. The work involved includes:</div><div id="wwpID0E0BC0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Sensor driver development</div><div id="wwpID0E0AC0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Custom tools for sensor characterization</div><div id="wwpID0E06B0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Image quality tuning</div><div id="wwpID0E05B0HA" class="Body_Text">These tools and operating mechanisms are NOT part of the public Jetson Embedded Platform (JEP) Board Support Package release.</div><H3 id="wwpID0E04B0HA" class="Heading_3">Camera API Matrix</H3><div id="wwpID0E03B0HA" class="Body_Text">The matrix of the camera APIs available at each camera configuration are as follows.</div><div class="ww_skin_page_overflow"><table class="Table_Normal" style="margin-left: 41.4pt" cellspacing="0" summary=""><tr><td style="background-color: #DDEEBF; background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top; width: 81pt"><div id="wwpID0EADD02B0HA" class="Normal" style="margin-bottom: 1pt; margin-top: 6pt; text-align: center">&nbsp;</div></td><td style="background-color: #DDEEBF; background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top; width: 94.5pt"><div id="wwpID0EACD02B0HA" class="Normal" style="margin-bottom: 1pt; margin-top: 6pt; text-align: center">&nbsp;</div></td><td style="background-color: #DDEEBF; background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top; width: 103.5pt"><div id="wwpID0EABD02B0HA" class="Normal" style="margin-bottom: 1pt; margin-top: 6pt; text-align: center">&nbsp;</div></td><td style="background-color: #DDEEBF; background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top; width: 117.2pt"><div id="wwpID0EAAD02B0HA" class="Normal" style="margin-bottom: 1pt; margin-top: 6pt; text-align: center">&nbsp;</div></td></tr><tr><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EADC02B0HA" class="Normal" style="margin-bottom: 2pt; margin-top: 2pt">&nbsp;</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EACC02B0HA" class="Normal" style="margin-bottom: 2pt; margin-top: 2pt"><span style="font-family: &quot;Trebuchet MS&quot;">Uses Jetson ISP (CSI Interface)</span></div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EABC02B0HA" class="Normal" style="margin-bottom: 2pt; margin-top: 2pt"><span style="font-family: &quot;Trebuchet MS&quot;">Does not use Jetson ISP</span><span style="color: #000000; font-family: Calibri; font-weight: bold; vertical-align: super"> †</span><span style="color: #000000; font-family: &quot;Trebuchet MS&quot;; font-size: 8pt"> </span><span style="font-family: &quot;Trebuchet MS&quot;"> (CSI Interface)</span></div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EBAC02B0HA" class="Normal" style="margin-bottom: 2pt; margin-top: 2pt"><span style="font-family: &quot;Trebuchet MS&quot;">USB (UVC) *</span></div><div id="wwpID0EAAC02B0HA" class="Normal" style="margin-bottom: 2pt; margin-top: 2pt"><span style="font-family: &quot;Trebuchet MS&quot;">(USB Interface)</span></div></td></tr><tr><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EADB02B0HA" class="Normal" style="margin-bottom: 2pt; margin-top: 2pt"><span style="font-family: &quot;Trebuchet MS&quot;">Camera API</span></div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0ECCB02B0HA" class="Normal" style="margin-bottom: 2pt; margin-top: 2pt"><span style="font-family: &quot;Trebuchet MS&quot;">libargus</span></div><div id="wwpID0EBCB02B0HA" class="Normal" style="margin-bottom: 2pt; margin-top: 2pt"><span style="font-family: &quot;Trebuchet MS&quot;">GStreamer</span></div><div id="wwpID0EACB02B0HA" class="Normal" style="margin-bottom: 2pt; margin-top: 2pt"><span style="font-family: &quot;Trebuchet MS&quot;">(GST-nvarguscamerasrc)</span></div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EABB02B0HA" class="Normal" style="margin-bottom: 2pt; margin-top: 2pt"><span style="font-family: &quot;Trebuchet MS&quot;">V4L2</span></div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EAAB02B0HA" class="Normal" style="margin-bottom: 2pt; margin-top: 2pt"><span style="font-family: &quot;Trebuchet MS&quot;">V4L2</span></div></td></tr><tr><td style="background-color: #DDEEBF; background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top" colspan="4"><div id="wwpID0EBAA02B0HA" class="Cell_Text">* Drivers are not provided by NVIDIA, you must write the drivers.<br />  Customer can support peripheral bus device such as:<br />  — Ethernet<br />  — Non-UVC USB</div><div id="wwpID0EAAA02B0HA" class="Cell_Text"><span style="color: #000000; font-family: Calibri; font-weight: bold; vertical-align: super">†</span> Libargus is the preferred path to access the camera.</div></td></tr></table></div><div id="wwpID0E01B0HA" class="Body_Text">&nbsp;</div><div class="ww_skin_page_overflow"><table class="Table_Normal" style="margin-left: 41.75pt" cellspacing="0" summary=""><tr><td style="background-color: #76B900; background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top; width: 53.1pt"><div id="wwpID0EABA0ZB0HA" class="Note_Image" style="text-align: left">Note:</div></td><td style="background-color: #DDEEBF; background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top; width: 348.65pt"><div id="wwpID0EAAA0ZB0HA" class="Note_Text">The default OV5693 camera does not contain an integrated ISP. Use of the V4L2 API with the reference camera records “raw” Bayer data.</div></td></tr></table></div><H3 id="wwpID0E0YB0HA" class="Heading_3">Approaches for Validating and Testing the V4L2 Driver</H3><div id="wwpID0E0XB0HA" class="Body_Text">Once your driver development is complete, use the provided tools or application to validate and test the V4L2 driver interface.</div><div id="wwpID0E0WB0HA" class="Body_Text">For general GStreamer and multimedia operations, see the <span class="Emphasis">Multimedia User Guide</span> available from the NVIDIA Embedded Download Center at:</div><div id="wwpID0E0VB0HA" class="Code"><span class="Hyperlink"><a href="https://developer.nvidia.com/embedded/downloads" target="external_window">https://developer.nvidia.com/embedded/downloads </a></span></div><H4 id="wwpID0E0UB0HA" class="Heading_4">Applications Using libargus Low-Level APIs</H4><div id="wwpID0E0TB0HA" class="Body_Text">The NVIDIA Multimedia API provides samples that demonstrate how to use the libargus APIs to preview, capture, and record the sensor stream. </div><div id="wwpID0E0SB0HA" class="Body_Text">The Multimedia API must be installed with NVIDIA<span style="vertical-align: super">®</span> <span class="Hyperlink"><a href="https://developer.nvidia.com/embedded/downloads#?search=SDK%20Manager" target="external_window">SDK Manager</a></span> or as a standalone package. SDK Manager is available for download from the Jetson Download Center at:</div><div id="wwpID0E0RB0HA" class="Code"><span class="Hyperlink"><a href="https://developer.nvidia.com/embedded/downloads" target="external_window">https://developer.nvidia.com/embedded/downloads </a></span></div><div id="wwpID0E0QB0HA" class="Body_Text">The <span class="Emphasis">Multimedia API Reference</span> may be downloaded from the Jetson Download Center at:</div><div id="wwpID0E0PB0HA" class="Code"><span class="Hyperlink"><a href="https://developer.nvidia.com/embedded/downloads#?search=multimedia%20api" target="external_window">https://developer.nvidia.com/embedded/downloads#?search=multimedia%20api</a></span></div><H4 id="wwpID0E0OB0HA" class="Heading_4">Applications Using GStreamer with the nvarguscamerasrc Plugin</H4><div id="wwpID0E0NB0HA" class="Body_Text">Use the nvarguscamerasrc GStreamer plugin supported camera features with ARGUS API to:</div><div id="wwpID0E0MB0HA" class="List_Bullet" style="text-indent: -18pt"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Enable ISP post-processing for Bayer sensors</div><div id="wwpID0E0LB0HA" class="List_Bullet" style="text-indent: -18pt"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Perform format conversion</div><div id="wwpID0E0KB0HA" class="List_Bullet" style="text-indent: -18pt"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Generate output directly for YUV sensor and USB camera</div><div id="wwpID0E0JB0HA" class="Body_Text">For example, for a Bayer sensor with the format 1080p/30/BGGR:</div><div id="wwpID0E0IB0HA" class="List_Bullet" style="text-indent: -18pt"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Save the preview into the file as follows:</div><div id="wwpID0E0HB0HA" class="Code">gst-launch-1.0 nvarguscamerasrc num-buffers=200 ! 'video/x-raw(memory:NVMM),width=1920, height=1080, framerate=30/1, format=NV12' ! omxh264enc ! qtmux ! filesink location=test.mp4 -e</div><div id="wwpID0E0GB0HA" class="List_Bullet" style="text-indent: -18pt"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Render the preview to an HDMI™ screen as follows:</div><div id="wwpID0E0FB0HA" class="Code">gst-launch-1.0 nvarguscamerasrc ! ‘video/x-raw(memory:NVMM), width=1920, height=1080, format=(string)NV12, framerate=(fraction)30/1' ! nvoverlaysink -e</div><H4 id="wwpID0E0EB0HA" class="Heading_4">Applications Using GStreamer with V4L2 Source Plugin</H4><div id="wwpID0E0DB0HA" class="Body_Text">Using the YUV sensor, or USB camera, to output YUV images without ISP post-processing does not use the NVIDIA camera software stack. </div><div id="wwpID0E0CB0HA" class="Body_Text">For example, a USB camera with the format 480p/30/YUY2:</div><div id="wwpID0E0BB0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Save the preview into a file as follows (based on software converter):</div><div id="wwpID0E0AB0HA" class="Code">gst-launch-1.0 v4l2src num-buffers=200 device=/dev/video0 ! 'video/x-raw, format=YUY2, width=640, height=480, framerate=30/1' ! videoconvert ! omxh264enc ! qtmux ! filesink location=test.mp4 -ev</div><div id="wwpID0E6HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Render the preview to a screen as follows:</div><div id="wwpID0E5HA" class="Code">//export DISPLAY=:0 if you are operating from remote console</div><div id="wwpID0E4HA" class="Code">gst-launch-1.0 v4l2src device=/dev/video0 ! 'video/x-raw, format=YUY2, width=640, height=480, framerate=30/1' ! xvimagesink  -ev</div><div id="wwpID0E3HA" class="Body_Text">For a YUV sensor with the format 480p/30/UYVY:</div><div id="wwpID0E2HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Save the preview into a file as follows (based on hardware accelerated converter):</div><div id="wwpID0E1HA" class="Code">gst-launch-1.0 -v v4l2src device=/dev/video0 ! 'video/x-raw, format=(string)UYVY, width=(int)640, height=(int)480, framerate=(fraction)30/1' ! nvvidconv ! 'video/x-raw(memory:NVMM), format=(string)NV12' ! omxh264enc ! qtmux ! filesink location=test.mp4  -ev</div><div id="wwpID0EZHA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Render the preview to a screen as follows:</div><div id="wwpID0EYHA" class="Code">//export DISPLAY=:0 if you are operating from remote console</div><div id="wwpID0EXHA" class="Code">gst-launch-1.0 v4l2src device=/dev/video0 ! 'video/x-raw, format=(string)UYVY, width=(int)640, height=(int)480, framerate=(fraction)30/1' ! xvimagesink  -ev</div><H4 id="wwpID0EWHA" class="Heading_4">Applications Using V4L2 IOCTL Directly</H4><div id="wwpID0EVHA" class="Body_Text">Use V4L2 IOCTL to verify basic functionality during sensor bringup.</div><div id="wwpID0EUHA" class="Body_Text">For example, capture from a Bayer sensor with the format 1080p/30/RG10:</div><div id="wwpID0ETHA" class="Code">v4l2-ctl --set-fmt-video=width=1920,height=1080,pixelformat=RG10 --stream-mmap --stream-count=1 -d /dev/video0 --stream-to=ov5693.raw</div><H3 id="wwpID0ESHA" class="Heading_3">ISP Support</H3><div id="wwpID0ERHA" class="Heading_5">To enable ISP support</div><div id="wwpID0EQHA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Built-in to the Camera Core where the release package includes initial ISP configuration files for reference sensors. </div><div class="ww_skin_page_overflow"><table class="Table_Normal" style="margin-left: 54pt" cellspacing="0" summary=""><tr><td style="background-color: #76B900; background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top; width: 49.5pt"><div id="wwpID0EABAPHA" class="Normal" style="margin-top: 8pt"><span style="color: #FFFFFF; font-family: &quot;Trebuchet MS&quot;; font-size: 11pt; font-weight: bold">Note:</span></div></td><td style="background-color: #DDEEBF; background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top; width: 324.9pt"><div id="wwpID0EBAAPHA" class="Note_Text">CSI cameras, with integrated ISP and USB camera, can work in ISP bypass mode. Provided ISP support is available for Jetson Developer Kit (OV5693) RAW camera module.</div><div id="wwpID0EAAAPHA" class="Note_Text">Additional ISP support for other camera modules are supported using third party partners.</div></td></tr></table></div><H3 id="wwpID0EOHA" class="Heading_3">Infinite Timeout Support</H3><div id="wwpID0ENHA" class="Body_Text">This use case is different from typical camera use cases, where the camera sensor streams frames continuously and finite timeouts for the camera driver and associated hardware waiting for camera frames.</div><div id="wwpID0EMHA" class="Body_Text">In this use case a camera sensor is triggered to generate a specified number of frames, after which it stops streaming indefinitely. Whenever it resumes streaming, the camera driver must resume capturing without timeout issues. The camera driver and hardware must always be ready to capture frames coming from the CSI sensor. Since the camera driver does not know when streaming will start again, it must wait indefinitely for incoming frames.</div><div id="wwpID0ELHA" class="Body_Text"><span style="color: #000000">To support this use case, the camera sensor hardware module must support suspending and resuming streaming.</span></div><div id="wwpID0EKHA" class="Body_Text">To enable this feature, run the camera server (i.e. the <span class="Code_Char">nvargus-daemon</span> service) by setting an environment variable:</div><div id="wwpID0EJHA" class="Code">sudo service nvargus-daemon stop</div><div id="wwpID0EIHA" class="Code">sudo enableCamInfiniteTimeout=1 nvargus-daemon</div><H3 id="wwpID0EHHA" class="Heading_3">Symlinks Changed by Mesa Installation</H3><div id="wwpID0EGHA" class="Body_Text">Installation of Mesa EGL may create a <span class="Code_Char">/usr/lib/&lt;</span><span style="font-family: &quot;Courier New&quot;">ABI_directory</span><span class="Code_Char">&gt;/libEGL.so</span> symlink, overwriting the symlink to the implementation library that must be used instead, <span class="Code_Char">/usr/lib/&lt;</span><span style="font-family: &quot;Courier New&quot;">ABI_directory&gt;/</span><span class="Code_Char">tegra-egl/libEGL.so</span>. This disrupts any client of EGL, including libraries in the release that use it for EGLStreams.</div><div id="wwpID0EFHA" class="Body_Text">In this release, the symlink is replaced when the system is rebooted, fixing this issue on reboot. Similar workarounds have been applied in previous releases for other libraries such as libGL and libglx.</div><H3 id="wwpID0EEHA" class="Heading_3">Other References</H3><div id="wwpID0EDHA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>For details on integrating with other Jetson Multimedia components using V4L2 or GStreamer, see the <span class="Emphasis">Jetson Linux Multimedia API Reference</span>.</div><div id="wwpID0ECHA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>For details on Argus, see the LibArgus JetPack documentation.</div><div id="wwpID0EBHA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>For details on building a custom camera solution, see our <span class="Hyperlink"><a href="https://developer.nvidia.com/embedded/community/partners" target="external_window">Preferred Partners Community</a></span>.</div></div><div id="page_dates"></div><!-- Related Topics --><!--                --><footer><!-- Disqus --><!--        --><!-- Google Translation --><!--                    --><br /></footer></div></div><input type="hidden" id="preserve_unknown_file_links" value="false"></input><noscript><div id="noscript_warning">This site works best with JavaScript enabled</div></noscript><script type="text/javascript" src="scripts/common.js"></script><script type="text/javascript" src="scripts/page.js"></script><script type="text/javascript" src="scripts/search-client.js"></script><script type="text/javascript" src="scripts/unidata.js"></script><script type="text/javascript" src="scripts/unibreak.js"></script></body></html>